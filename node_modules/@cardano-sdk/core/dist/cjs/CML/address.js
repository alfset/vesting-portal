"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.createRewardAccount = exports.addressNetworkId = void 0;
const Cardano_1 = require("../Cardano");
const CML_1 = require("./CML");
const parseCmlAddress_1 = require("./parseCmlAddress");
const util_1 = require("@cardano-sdk/util");
const addressNetworkId = (address) => (0, util_1.usingAutoFree)((scope) => (0, parseCmlAddress_1.parseCmlAddress)(scope, address).network_id());
exports.addressNetworkId = addressNetworkId;
const createRewardAccount = (stakeKeyHash, networkId) => (0, util_1.usingAutoFree)((scope) => {
    const keyHash = scope.manage(CML_1.CML.Ed25519KeyHash.from_hex(stakeKeyHash));
    const stakeCredential = scope.manage(CML_1.CML.StakeCredential.from_keyhash(keyHash));
    const rewardAccount = scope.manage(CML_1.CML.RewardAddress.new(networkId, stakeCredential));
    return (0, Cardano_1.RewardAccount)(scope.manage(rewardAccount.to_address()).to_bech32());
});
exports.createRewardAccount = createRewardAccount;
//# sourceMappingURL=address.js.map