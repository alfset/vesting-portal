"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.subtractTokenMaps = void 0;
const util_1 = require("@cardano-sdk/util");
const subtractTokenMaps = (assets) => {
    if (assets.length <= 0 || !(0, util_1.isNotNil)(assets[0]))
        return undefined;
    const result = new Map(assets[0]);
    const rest = assets.slice(1).filter(util_1.isNotNil);
    for (const assetTotals of rest) {
        for (const [assetId, assetQuantity] of assetTotals.entries()) {
            const total = result.get(assetId) ?? 0n;
            const diff = total - assetQuantity;
            diff === 0n ? result.delete(assetId) : result.set(assetId, diff);
        }
    }
    if (result.size === 0) {
        return undefined;
    }
    return result;
};
exports.subtractTokenMaps = subtractTokenMaps;
//# sourceMappingURL=subtractTokenMaps.js.map