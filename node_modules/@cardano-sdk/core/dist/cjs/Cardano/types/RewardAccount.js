"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.RewardAccount = void 0;
const CML_1 = require("../../CML");
const crypto_1 = require("@cardano-sdk/crypto");
const util_1 = require("@cardano-sdk/util");
const RewardAccount = (value) => (0, util_1.typedBech32)(value, ['stake', 'stake_test'], 47);
exports.RewardAccount = RewardAccount;
exports.RewardAccount.toHash = (rewardAccount) => (0, util_1.usingAutoFree)((scope) => {
    const bech32 = scope.manage(CML_1.CML.Address.from_bech32(rewardAccount));
    const rewardAddress = scope.manage(CML_1.CML.RewardAddress.from_address(bech32));
    const paymentCred = scope.manage(rewardAddress.payment_cred());
    const keyHash = scope.manage(paymentCred.to_keyhash());
    return (0, crypto_1.Ed25519KeyHashHex)(Buffer.from(keyHash.to_bytes()).toString('hex'));
});
//# sourceMappingURL=RewardAccount.js.map