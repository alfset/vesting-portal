{"version":3,"file":"sdk.umd.js","sources":["../node_modules/uuid/dist/rng.js","../node_modules/uuid/dist/regex.js","../node_modules/uuid/dist/validate.js","../node_modules/uuid/dist/stringify.js","../node_modules/uuid/dist/v1.js","../node_modules/uuid/dist/parse.js","../node_modules/uuid/dist/v35.js","../node_modules/uuid/dist/md5.js","../node_modules/uuid/dist/v3.js","../node_modules/uuid/dist/native.js","../node_modules/uuid/dist/v4.js","../node_modules/uuid/dist/sha1.js","../node_modules/uuid/dist/v5.js","../node_modules/uuid/dist/nil.js","../node_modules/uuid/dist/version.js","../node_modules/uuid/dist/index.js","../src/interaction/interaction.js","../src/build/build.js","../../transport-http/dist/sdk-send-http.js","../src/response/response.js","../src/build/build-get-block.js","../src/build/build-get-account.js","../src/decode/decode.js","../src/resolve/resolve-cadence.js","../src/resolve/resolve-arguments.js","../src/encode/encode.js","../src/resolve/voucher.js","../src/resolve/resolve-accounts.js","../src/resolve/resolve-signatures.js","../src/resolve/resolve-validators.js","../src/resolve/resolve-final-normalization.js","../src/resolve/resolve-voucher-intercept.js","../src/resolve/resolve-compute-limit.js","../src/resolve/resolve.js","../src/build/build-invariant.js","../src/send/send.js","../src/decode/sdk-decode.js","../src/wallet-utils/encode-signable.js","../src/build/build-validator.js","../src/build/build-at-block-height.js","../src/build/build-at-block-id.js","../src/account/account.js","../src/block/block.js","../src/build/build-authorizations.js","../src/build/build-get-events.js","../src/build/build-get-events-at-block-height-range.js","../src/build/build-get-events-at-block-ids.js","../src/build/build-get-block-header.js","../src/build/build-get-collection.js","../src/build/build-get-transaction-status.js","../src/build/build-get-transaction.js","../src/build/build-get-network-parameters.js","../src/build/build-limit.js","../src/build/build-arguments.js","../src/build/build-proposer.js","../src/build/build-payer.js","../src/build/build-ping.js","../src/build/build-ref.js","../src/build/build-script.js","../src/build/build-transaction.js","../src/build/build-voucher-intercept.js","../src/resolve/resolve-proposer-sequence-number.js","../src/resolve/resolve-ref-block-id.js","../src/test-utils/mock-send.js","../src/test-utils/authz-fn.js","../src/test-utils/run.js","../src/VERSION.js","../src/sdk.ts"],"sourcesContent":["\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = rng;\n\nvar _crypto = _interopRequireDefault(require(\"crypto\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst rnds8Pool = new Uint8Array(256); // # of random values to pre-allocate\n\nlet poolPtr = rnds8Pool.length;\n\nfunction rng() {\n  if (poolPtr > rnds8Pool.length - 16) {\n    _crypto.default.randomFillSync(rnds8Pool);\n\n    poolPtr = 0;\n  }\n\n  return rnds8Pool.slice(poolPtr, poolPtr += 16);\n}","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _default = /^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;\nexports.default = _default;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _regex = _interopRequireDefault(require(\"./regex.js\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction validate(uuid) {\n  return typeof uuid === 'string' && _regex.default.test(uuid);\n}\n\nvar _default = validate;\nexports.default = _default;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nexports.unsafeStringify = unsafeStringify;\n\nvar _validate = _interopRequireDefault(require(\"./validate.js\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * Convert array of 16 byte values to UUID string format of the form:\n * XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX\n */\nconst byteToHex = [];\n\nfor (let i = 0; i < 256; ++i) {\n  byteToHex.push((i + 0x100).toString(16).slice(1));\n}\n\nfunction unsafeStringify(arr, offset = 0) {\n  // Note: Be careful editing this code!  It's been tuned for performance\n  // and works in ways you may not expect. See https://github.com/uuidjs/uuid/pull/434\n  return byteToHex[arr[offset + 0]] + byteToHex[arr[offset + 1]] + byteToHex[arr[offset + 2]] + byteToHex[arr[offset + 3]] + '-' + byteToHex[arr[offset + 4]] + byteToHex[arr[offset + 5]] + '-' + byteToHex[arr[offset + 6]] + byteToHex[arr[offset + 7]] + '-' + byteToHex[arr[offset + 8]] + byteToHex[arr[offset + 9]] + '-' + byteToHex[arr[offset + 10]] + byteToHex[arr[offset + 11]] + byteToHex[arr[offset + 12]] + byteToHex[arr[offset + 13]] + byteToHex[arr[offset + 14]] + byteToHex[arr[offset + 15]];\n}\n\nfunction stringify(arr, offset = 0) {\n  const uuid = unsafeStringify(arr, offset); // Consistency check for valid UUID.  If this throws, it's likely due to one\n  // of the following:\n  // - One or more input array values don't map to a hex octet (leading to\n  // \"undefined\" in the uuid)\n  // - Invalid input values for the RFC `version` or `variant` fields\n\n  if (!(0, _validate.default)(uuid)) {\n    throw TypeError('Stringified UUID is invalid');\n  }\n\n  return uuid;\n}\n\nvar _default = stringify;\nexports.default = _default;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _rng = _interopRequireDefault(require(\"./rng.js\"));\n\nvar _stringify = require(\"./stringify.js\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// **`v1()` - Generate time-based UUID**\n//\n// Inspired by https://github.com/LiosK/UUID.js\n// and http://docs.python.org/library/uuid.html\nlet _nodeId;\n\nlet _clockseq; // Previous uuid creation time\n\n\nlet _lastMSecs = 0;\nlet _lastNSecs = 0; // See https://github.com/uuidjs/uuid for API details\n\nfunction v1(options, buf, offset) {\n  let i = buf && offset || 0;\n  const b = buf || new Array(16);\n  options = options || {};\n  let node = options.node || _nodeId;\n  let clockseq = options.clockseq !== undefined ? options.clockseq : _clockseq; // node and clockseq need to be initialized to random values if they're not\n  // specified.  We do this lazily to minimize issues related to insufficient\n  // system entropy.  See #189\n\n  if (node == null || clockseq == null) {\n    const seedBytes = options.random || (options.rng || _rng.default)();\n\n    if (node == null) {\n      // Per 4.5, create and 48-bit node id, (47 random bits + multicast bit = 1)\n      node = _nodeId = [seedBytes[0] | 0x01, seedBytes[1], seedBytes[2], seedBytes[3], seedBytes[4], seedBytes[5]];\n    }\n\n    if (clockseq == null) {\n      // Per 4.2.2, randomize (14 bit) clockseq\n      clockseq = _clockseq = (seedBytes[6] << 8 | seedBytes[7]) & 0x3fff;\n    }\n  } // UUID timestamps are 100 nano-second units since the Gregorian epoch,\n  // (1582-10-15 00:00).  JSNumbers aren't precise enough for this, so\n  // time is handled internally as 'msecs' (integer milliseconds) and 'nsecs'\n  // (100-nanoseconds offset from msecs) since unix epoch, 1970-01-01 00:00.\n\n\n  let msecs = options.msecs !== undefined ? options.msecs : Date.now(); // Per 4.2.1.2, use count of uuid's generated during the current clock\n  // cycle to simulate higher resolution clock\n\n  let nsecs = options.nsecs !== undefined ? options.nsecs : _lastNSecs + 1; // Time since last uuid creation (in msecs)\n\n  const dt = msecs - _lastMSecs + (nsecs - _lastNSecs) / 10000; // Per 4.2.1.2, Bump clockseq on clock regression\n\n  if (dt < 0 && options.clockseq === undefined) {\n    clockseq = clockseq + 1 & 0x3fff;\n  } // Reset nsecs if clock regresses (new clockseq) or we've moved onto a new\n  // time interval\n\n\n  if ((dt < 0 || msecs > _lastMSecs) && options.nsecs === undefined) {\n    nsecs = 0;\n  } // Per 4.2.1.2 Throw error if too many uuids are requested\n\n\n  if (nsecs >= 10000) {\n    throw new Error(\"uuid.v1(): Can't create more than 10M uuids/sec\");\n  }\n\n  _lastMSecs = msecs;\n  _lastNSecs = nsecs;\n  _clockseq = clockseq; // Per 4.1.4 - Convert from unix epoch to Gregorian epoch\n\n  msecs += 12219292800000; // `time_low`\n\n  const tl = ((msecs & 0xfffffff) * 10000 + nsecs) % 0x100000000;\n  b[i++] = tl >>> 24 & 0xff;\n  b[i++] = tl >>> 16 & 0xff;\n  b[i++] = tl >>> 8 & 0xff;\n  b[i++] = tl & 0xff; // `time_mid`\n\n  const tmh = msecs / 0x100000000 * 10000 & 0xfffffff;\n  b[i++] = tmh >>> 8 & 0xff;\n  b[i++] = tmh & 0xff; // `time_high_and_version`\n\n  b[i++] = tmh >>> 24 & 0xf | 0x10; // include version\n\n  b[i++] = tmh >>> 16 & 0xff; // `clock_seq_hi_and_reserved` (Per 4.2.2 - include variant)\n\n  b[i++] = clockseq >>> 8 | 0x80; // `clock_seq_low`\n\n  b[i++] = clockseq & 0xff; // `node`\n\n  for (let n = 0; n < 6; ++n) {\n    b[i + n] = node[n];\n  }\n\n  return buf || (0, _stringify.unsafeStringify)(b);\n}\n\nvar _default = v1;\nexports.default = _default;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _validate = _interopRequireDefault(require(\"./validate.js\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction parse(uuid) {\n  if (!(0, _validate.default)(uuid)) {\n    throw TypeError('Invalid UUID');\n  }\n\n  let v;\n  const arr = new Uint8Array(16); // Parse ########-....-....-....-............\n\n  arr[0] = (v = parseInt(uuid.slice(0, 8), 16)) >>> 24;\n  arr[1] = v >>> 16 & 0xff;\n  arr[2] = v >>> 8 & 0xff;\n  arr[3] = v & 0xff; // Parse ........-####-....-....-............\n\n  arr[4] = (v = parseInt(uuid.slice(9, 13), 16)) >>> 8;\n  arr[5] = v & 0xff; // Parse ........-....-####-....-............\n\n  arr[6] = (v = parseInt(uuid.slice(14, 18), 16)) >>> 8;\n  arr[7] = v & 0xff; // Parse ........-....-....-####-............\n\n  arr[8] = (v = parseInt(uuid.slice(19, 23), 16)) >>> 8;\n  arr[9] = v & 0xff; // Parse ........-....-....-....-############\n  // (Use \"/\" to avoid 32-bit truncation when bit-shifting high-order bytes)\n\n  arr[10] = (v = parseInt(uuid.slice(24, 36), 16)) / 0x10000000000 & 0xff;\n  arr[11] = v / 0x100000000 & 0xff;\n  arr[12] = v >>> 24 & 0xff;\n  arr[13] = v >>> 16 & 0xff;\n  arr[14] = v >>> 8 & 0xff;\n  arr[15] = v & 0xff;\n  return arr;\n}\n\nvar _default = parse;\nexports.default = _default;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.URL = exports.DNS = void 0;\nexports.default = v35;\n\nvar _stringify = require(\"./stringify.js\");\n\nvar _parse = _interopRequireDefault(require(\"./parse.js\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction stringToBytes(str) {\n  str = unescape(encodeURIComponent(str)); // UTF8 escape\n\n  const bytes = [];\n\n  for (let i = 0; i < str.length; ++i) {\n    bytes.push(str.charCodeAt(i));\n  }\n\n  return bytes;\n}\n\nconst DNS = '6ba7b810-9dad-11d1-80b4-00c04fd430c8';\nexports.DNS = DNS;\nconst URL = '6ba7b811-9dad-11d1-80b4-00c04fd430c8';\nexports.URL = URL;\n\nfunction v35(name, version, hashfunc) {\n  function generateUUID(value, namespace, buf, offset) {\n    var _namespace;\n\n    if (typeof value === 'string') {\n      value = stringToBytes(value);\n    }\n\n    if (typeof namespace === 'string') {\n      namespace = (0, _parse.default)(namespace);\n    }\n\n    if (((_namespace = namespace) === null || _namespace === void 0 ? void 0 : _namespace.length) !== 16) {\n      throw TypeError('Namespace must be array-like (16 iterable integer values, 0-255)');\n    } // Compute hash of namespace and value, Per 4.3\n    // Future: Use spread syntax when supported on all platforms, e.g. `bytes =\n    // hashfunc([...namespace, ... value])`\n\n\n    let bytes = new Uint8Array(16 + value.length);\n    bytes.set(namespace);\n    bytes.set(value, namespace.length);\n    bytes = hashfunc(bytes);\n    bytes[6] = bytes[6] & 0x0f | version;\n    bytes[8] = bytes[8] & 0x3f | 0x80;\n\n    if (buf) {\n      offset = offset || 0;\n\n      for (let i = 0; i < 16; ++i) {\n        buf[offset + i] = bytes[i];\n      }\n\n      return buf;\n    }\n\n    return (0, _stringify.unsafeStringify)(bytes);\n  } // Function#name is not settable on some platforms (#270)\n\n\n  try {\n    generateUUID.name = name; // eslint-disable-next-line no-empty\n  } catch (err) {} // For CommonJS default export support\n\n\n  generateUUID.DNS = DNS;\n  generateUUID.URL = URL;\n  return generateUUID;\n}","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _crypto = _interopRequireDefault(require(\"crypto\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction md5(bytes) {\n  if (Array.isArray(bytes)) {\n    bytes = Buffer.from(bytes);\n  } else if (typeof bytes === 'string') {\n    bytes = Buffer.from(bytes, 'utf8');\n  }\n\n  return _crypto.default.createHash('md5').update(bytes).digest();\n}\n\nvar _default = md5;\nexports.default = _default;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _v = _interopRequireDefault(require(\"./v35.js\"));\n\nvar _md = _interopRequireDefault(require(\"./md5.js\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst v3 = (0, _v.default)('v3', 0x30, _md.default);\nvar _default = v3;\nexports.default = _default;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _crypto = _interopRequireDefault(require(\"crypto\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar _default = {\n  randomUUID: _crypto.default.randomUUID\n};\nexports.default = _default;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _native = _interopRequireDefault(require(\"./native.js\"));\n\nvar _rng = _interopRequireDefault(require(\"./rng.js\"));\n\nvar _stringify = require(\"./stringify.js\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction v4(options, buf, offset) {\n  if (_native.default.randomUUID && !buf && !options) {\n    return _native.default.randomUUID();\n  }\n\n  options = options || {};\n\n  const rnds = options.random || (options.rng || _rng.default)(); // Per 4.4, set bits for version and `clock_seq_hi_and_reserved`\n\n\n  rnds[6] = rnds[6] & 0x0f | 0x40;\n  rnds[8] = rnds[8] & 0x3f | 0x80; // Copy bytes to buffer, if provided\n\n  if (buf) {\n    offset = offset || 0;\n\n    for (let i = 0; i < 16; ++i) {\n      buf[offset + i] = rnds[i];\n    }\n\n    return buf;\n  }\n\n  return (0, _stringify.unsafeStringify)(rnds);\n}\n\nvar _default = v4;\nexports.default = _default;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _crypto = _interopRequireDefault(require(\"crypto\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction sha1(bytes) {\n  if (Array.isArray(bytes)) {\n    bytes = Buffer.from(bytes);\n  } else if (typeof bytes === 'string') {\n    bytes = Buffer.from(bytes, 'utf8');\n  }\n\n  return _crypto.default.createHash('sha1').update(bytes).digest();\n}\n\nvar _default = sha1;\nexports.default = _default;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _v = _interopRequireDefault(require(\"./v35.js\"));\n\nvar _sha = _interopRequireDefault(require(\"./sha1.js\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst v5 = (0, _v.default)('v5', 0x50, _sha.default);\nvar _default = v5;\nexports.default = _default;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _default = '00000000-0000-0000-0000-000000000000';\nexports.default = _default;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _validate = _interopRequireDefault(require(\"./validate.js\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction version(uuid) {\n  if (!(0, _validate.default)(uuid)) {\n    throw TypeError('Invalid UUID');\n  }\n\n  return parseInt(uuid.slice(14, 15), 16);\n}\n\nvar _default = version;\nexports.default = _default;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nObject.defineProperty(exports, \"NIL\", {\n  enumerable: true,\n  get: function () {\n    return _nil.default;\n  }\n});\nObject.defineProperty(exports, \"parse\", {\n  enumerable: true,\n  get: function () {\n    return _parse.default;\n  }\n});\nObject.defineProperty(exports, \"stringify\", {\n  enumerable: true,\n  get: function () {\n    return _stringify.default;\n  }\n});\nObject.defineProperty(exports, \"v1\", {\n  enumerable: true,\n  get: function () {\n    return _v.default;\n  }\n});\nObject.defineProperty(exports, \"v3\", {\n  enumerable: true,\n  get: function () {\n    return _v2.default;\n  }\n});\nObject.defineProperty(exports, \"v4\", {\n  enumerable: true,\n  get: function () {\n    return _v3.default;\n  }\n});\nObject.defineProperty(exports, \"v5\", {\n  enumerable: true,\n  get: function () {\n    return _v4.default;\n  }\n});\nObject.defineProperty(exports, \"validate\", {\n  enumerable: true,\n  get: function () {\n    return _validate.default;\n  }\n});\nObject.defineProperty(exports, \"version\", {\n  enumerable: true,\n  get: function () {\n    return _version.default;\n  }\n});\n\nvar _v = _interopRequireDefault(require(\"./v1.js\"));\n\nvar _v2 = _interopRequireDefault(require(\"./v3.js\"));\n\nvar _v3 = _interopRequireDefault(require(\"./v4.js\"));\n\nvar _v4 = _interopRequireDefault(require(\"./v5.js\"));\n\nvar _nil = _interopRequireDefault(require(\"./nil.js\"));\n\nvar _version = _interopRequireDefault(require(\"./version.js\"));\n\nvar _validate = _interopRequireDefault(require(\"./validate.js\"));\n\nvar _stringify = _interopRequireDefault(require(\"./stringify.js\"));\n\nvar _parse = _interopRequireDefault(require(\"./parse.js\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }","import {invariant} from \"@onflow/util-invariant\"\nimport {v4 as uuidv4} from \"uuid\"\n\nexport const UNKNOWN /*                       */ = \"UNKNOWN\"\nexport const SCRIPT /*                        */ = \"SCRIPT\"\nexport const TRANSACTION /*                   */ = \"TRANSACTION\"\nexport const GET_TRANSACTION_STATUS /*        */ = \"GET_TRANSACTION_STATUS\"\nexport const GET_ACCOUNT /*                   */ = \"GET_ACCOUNT\"\nexport const GET_EVENTS /*                    */ = \"GET_EVENTS\"\nexport const PING /*                          */ = \"PING\"\nexport const GET_TRANSACTION /*               */ = \"GET_TRANSACTION\"\nexport const GET_BLOCK /*                     */ = \"GET_BLOCK\"\nexport const GET_BLOCK_HEADER /*              */ = \"GET_BLOCK_HEADER\"\nexport const GET_COLLECTION /*                */ = \"GET_COLLECTION\"\nexport const GET_NETWORK_PARAMETERS /*        */ = \"GET_NETWORK_PARAMETERS\"\n\nexport const BAD /* */ = \"BAD\"\nexport const OK /*  */ = \"OK\"\n\nexport const ACCOUNT /*  */ = \"ACCOUNT\"\nexport const PARAM /*    */ = \"PARAM\"\nexport const ARGUMENT /* */ = \"ARGUMENT\"\n\nexport const AUTHORIZER /* */ = \"authorizer\"\nexport const PAYER /*      */ = \"payer\"\nexport const PROPOSER /*   */ = \"proposer\"\n\nconst ACCT = `{\n  \"kind\":\"${ACCOUNT}\",\n  \"tempId\":null,\n  \"addr\":null,\n  \"keyId\":null,\n  \"sequenceNum\":null,\n  \"signature\":null,\n  \"signingFunction\":null,\n  \"resolve\":null,\n  \"role\": {\n    \"proposer\":false,\n    \"authorizer\":false,\n    \"payer\":false,\n    \"param\":false\n  }\n}`\n\nconst PRM = `{\n  \"kind\":\"${PARAM}\",\n  \"tempId\":null,\n  \"key\":null,\n  \"value\":null,\n  \"asParam\":null,\n  \"xform\":null,\n  \"resolve\": null\n}`\n\nconst ARG = `{\n  \"kind\":\"${ARGUMENT}\",\n  \"tempId\":null,\n  \"value\":null,\n  \"asArgument\":null,\n  \"xform\":null,\n  \"resolve\": null,\n  \"resolveArgument\": null\n}`\n\nconst IX = `{\n  \"tag\":\"${UNKNOWN}\",\n  \"assigns\":{},\n  \"status\":\"${OK}\",\n  \"reason\":null,\n  \"accounts\":{},\n  \"params\":{},\n  \"arguments\":{},\n  \"message\": {\n    \"cadence\":null,\n    \"refBlock\":null,\n    \"computeLimit\":null,\n    \"proposer\":null,\n    \"payer\":null,\n    \"authorizations\":[],\n    \"params\":[],\n    \"arguments\":[]\n  },\n  \"proposer\":null,\n  \"authorizations\":[],\n  \"payer\":[],\n  \"events\": {\n    \"eventType\":null,\n    \"start\":null,\n    \"end\":null,\n    \"blockIds\":[]\n  },\n  \"transaction\": {\n    \"id\":null\n  },\n  \"block\": {\n    \"id\":null,\n    \"height\":null,\n    \"isSealed\":null\n  },\n  \"account\": {\n    \"addr\":null\n  },\n  \"collection\": {\n    \"id\":null\n  }\n}`\n\nconst KEYS = new Set(Object.keys(JSON.parse(IX)))\n\nexport const interaction = () => JSON.parse(IX)\n\nexport const isNumber = d => typeof d === \"number\"\nexport const isArray = d => Array.isArray(d)\nexport const isObj = d => d !== null && typeof d === \"object\"\nexport const isNull = d => d == null\nexport const isFn = d => typeof d === \"function\"\n\nexport const isInteraction = ix => {\n  if (!isObj(ix) || isNull(ix) || isNumber(ix)) return false\n  for (let key of KEYS) if (!ix.hasOwnProperty(key)) return false\n  return true\n}\n\nexport const Ok = ix => {\n  ix.status = OK\n  return ix\n}\n\nexport const Bad = (ix, reason) => {\n  ix.status = BAD\n  ix.reason = reason\n  return ix\n}\n\nconst makeIx = wat => ix => {\n  ix.tag = wat\n  return Ok(ix)\n}\n\nconst prepAccountKeyId = acct => {\n  if (acct.keyId == null) return acct\n\n  invariant(!isNaN(parseInt(acct.keyId)), \"account.keyId must be an integer\")\n  return {\n    ...acct,\n    keyId: parseInt(acct.keyId),\n  }\n}\n\nexport const prepAccount = (acct, opts = {}) => ix => {\n  invariant(\n    typeof acct === \"function\" || typeof acct === \"object\",\n    \"prepAccount must be passed an authorization function or an account object\"\n  )\n  invariant(opts.role != null, \"Account must have a role\")\n\n  const ACCOUNT = JSON.parse(ACCT)\n  const role = opts.role\n  const tempId = uuidv4()\n\n  if (acct.authorization && isFn(acct.authorization))\n    acct = {resolve: acct.authorization}\n  if (!acct.authorization && isFn(acct)) acct = {resolve: acct}\n\n  const resolve = acct.resolve\n  if (resolve)\n    acct.resolve = (acct, ...rest) =>\n      [resolve, prepAccountKeyId].reduce(\n        async (d, fn) => fn(await d, ...rest),\n        acct\n      )\n  acct = prepAccountKeyId(acct)\n\n  ix.accounts[tempId] = {\n    ...ACCOUNT,\n    tempId,\n    ...acct,\n    role: {\n      ...ACCOUNT.role,\n      ...(typeof acct.role === \"object\" ? acct.role : {}),\n      [role]: true,\n    },\n  }\n\n  if (role === AUTHORIZER) {\n    ix.authorizations.push(tempId)\n  } else if (role === PAYER) {\n    ix.payer.push(tempId)\n  } else {\n    ix[role] = tempId\n  }\n\n  return ix\n}\n\nexport const makeArgument = arg => ix => {\n  let tempId = uuidv4()\n  ix.message.arguments.push(tempId)\n\n  ix.arguments[tempId] = JSON.parse(ARG)\n  ix.arguments[tempId].tempId = tempId\n  ix.arguments[tempId].value = arg.value\n  ix.arguments[tempId].asArgument = arg.asArgument\n  ix.arguments[tempId].xform = arg.xform\n  ix.arguments[tempId].resolve = arg.resolve\n  ix.arguments[tempId].resolveArgument = isFn(arg.resolveArgument)\n    ? arg.resolveArgument.bind(arg)\n    : arg.resolveArgument\n\n  return Ok(ix)\n}\n\nexport const makeUnknown /*                 */ = makeIx(UNKNOWN)\nexport const makeScript /*                  */ = makeIx(SCRIPT)\nexport const makeTransaction /*             */ = makeIx(TRANSACTION)\nexport const makeGetTransactionStatus /*    */ = makeIx(GET_TRANSACTION_STATUS)\nexport const makeGetTransaction /*          */ = makeIx(GET_TRANSACTION)\nexport const makeGetAccount /*              */ = makeIx(GET_ACCOUNT)\nexport const makeGetEvents /*               */ = makeIx(GET_EVENTS)\nexport const makePing /*                    */ = makeIx(PING)\nexport const makeGetBlock /*                */ = makeIx(GET_BLOCK)\nexport const makeGetBlockHeader /*          */ = makeIx(GET_BLOCK_HEADER)\nexport const makeGetCollection /*           */ = makeIx(GET_COLLECTION)\nexport const makeGetNetworkParameters /*    */ = makeIx(GET_NETWORK_PARAMETERS)\n\nconst is = wat => ix => ix.tag === wat\n\nexport const isUnknown /*                 */ = is(UNKNOWN)\nexport const isScript /*                  */ = is(SCRIPT)\nexport const isTransaction /*             */ = is(TRANSACTION)\nexport const isGetTransactionStatus /*    */ = is(GET_TRANSACTION_STATUS)\nexport const isGetTransaction /*          */ = is(GET_TRANSACTION)\nexport const isGetAccount /*              */ = is(GET_ACCOUNT)\nexport const isGetEvents /*               */ = is(GET_EVENTS)\nexport const isPing /*                    */ = is(PING)\nexport const isGetBlock /*                */ = is(GET_BLOCK)\nexport const isGetBlockHeader /*          */ = is(GET_BLOCK_HEADER)\nexport const isGetCollection /*           */ = is(GET_COLLECTION)\nexport const isGetNetworkParameters /*    */ = is(GET_NETWORK_PARAMETERS)\n\nexport const isOk /*  */ = ix => ix.status === OK\nexport const isBad /* */ = ix => ix.status === BAD\nexport const why /*   */ = ix => ix.reason\n\nexport const isAccount /*  */ = account => account.kind === ACCOUNT\nexport const isParam /*    */ = param => param.kind === PARAM\nexport const isArgument /* */ = argument => argument.kind === ARGUMENT\n\nconst hardMode = ix => {\n  for (let key of Object.keys(ix)) {\n    if (!KEYS.has(key))\n      throw new Error(`\"${key}\" is an invalid root level Interaction property.`)\n  }\n  return ix\n}\n\nconst recPipe = async (ix, fns = []) => {\n  try {\n    ix = hardMode(await ix)\n    if (isBad(ix)) throw new Error(`Interaction Error: ${ix.reason}`)\n    if (!fns.length) return ix\n    const [hd, ...rest] = fns\n    const cur = await hd\n    if (isFn(cur)) return recPipe(cur(ix), rest)\n    if (isNull(cur) || !cur) return recPipe(ix, rest)\n    if (isInteraction(cur)) return recPipe(cur, rest)\n    throw new Error(\"Invalid Interaction Composition\")\n  } catch (e) {\n    throw e\n  }\n}\n\nexport const pipe = (...args) => {\n  const [arg1, arg2] = args\n  if (isArray(arg1) && arg2 == null) return d => pipe(d, arg1)\n  return recPipe(arg1, arg2)\n}\n\nconst identity = v => v\n\nexport const get = (ix, key, fallback) => {\n  return ix.assigns[key] == null ? fallback : ix.assigns[key]\n}\n\nexport const put = (key, value) => ix => {\n  ix.assigns[key] = value\n  return Ok(ix)\n}\n\nexport const update = (key, fn = identity) => ix => {\n  ix.assigns[key] = fn(ix.assigns[key], ix)\n  return Ok(ix)\n}\n\nexport const destroy = key => ix => {\n  delete ix.assigns[key]\n  return Ok(ix)\n}\n","import {pipe, interaction} from \"../interaction/interaction.js\"\n\nexport function build(fns = []) {\n  return pipe(interaction(), fns)\n}\n","'use strict';\n\nObject.defineProperty(exports, '__esModule', { value: true });\n\nvar utilInvariant = require('@onflow/util-invariant');\nrequire('@onflow/rlp');\nvar logger = require('@onflow/util-logger');\nvar fetchTransport = require('cross-fetch');\nvar utilAddress = require('@onflow/util-address');\n\nfunction _interopDefaultLegacy (e) { return e && typeof e === 'object' && 'default' in e ? e : { 'default': e }; }\n\nfunction _interopNamespace(e) {\n  if (e && e.__esModule) return e;\n  var n = Object.create(null);\n  if (e) {\n    Object.keys(e).forEach(function (k) {\n      if (k !== 'default') {\n        var d = Object.getOwnPropertyDescriptor(e, k);\n        Object.defineProperty(n, k, d.get ? d : {\n          enumerable: true,\n          get: function () { return e[k]; }\n        });\n      }\n    });\n  }\n  n[\"default\"] = e;\n  return Object.freeze(n);\n}\n\nvar logger__namespace = /*#__PURE__*/_interopNamespace(logger);\nvar fetchTransport__default = /*#__PURE__*/_interopDefaultLegacy(fetchTransport);\n\nconst AbortController = globalThis.AbortController || require(\"abort-controller\");\nclass HTTPRequestError extends Error {\n  constructor(_ref) {\n    let {\n      error,\n      hostname,\n      path,\n      method,\n      requestBody,\n      responseBody,\n      responseStatusText,\n      statusCode\n    } = _ref;\n    const msg = `\n      HTTP Request Error: An error occurred when interacting with the Access API.\n      ${error ? `error=${error}` : \"\"}\n      ${hostname ? `hostname=${hostname}` : \"\"}\n      ${path ? `path=${path}` : \"\"}\n      ${method ? `method=${method}` : \"\"}\n      ${requestBody ? `requestBody=${requestBody}` : \"\"}\n      ${responseBody ? `responseBody=${responseBody}` : \"\"}\n      ${responseStatusText ? `responseStatusText=${responseStatusText}` : \"\"}\n      ${statusCode ? `statusCode=${statusCode}` : \"\"}\n    `;\n    super(msg);\n    this.name = \"HTTP Request Error\";\n    this.statusCode = statusCode;\n    this.errorMessage = error;\n  }\n}\n\n/**\n * Creates an HTTP Request to be sent to a REST Access API via Fetch API.\n *\n * @param {object} options - Options for the HTTP Request\n * @param {String} options.hostname - Access API Hostname\n * @param {String} options.path - Path to the resource on the Access API\n * @param {String} options.method - HTTP Method\n * @param {object} options.body - HTTP Request Body\n * @param {object} [options.headers] - HTTP Request Headers\n * @param {boolean} [options.enableRequestLogging=true] - Enable/Disable request logging\n * @param {number} [options.retryLimit=5] - Number of times to retry request\n * @param {number} [options.retryIntervalMs=1000] - Time in milliseconds to wait before retrying request\n * @param {number} [options.timeoutLimit=30000] - Time in milliseconds to wait before timing out request\n *\n * @returns JSON object response from Access API.\n */\nasync function httpRequest(_ref2) {\n  let {\n    hostname,\n    path,\n    method,\n    body,\n    headers,\n    retryLimit = 5,\n    retryIntervalMs = 1000,\n    timeoutLimit = 30000,\n    enableRequestLogging = true\n  } = _ref2;\n  const bodyJSON = body ? JSON.stringify(body) : null;\n  function makeRequest() {\n    const controller = new AbortController();\n    const fetchTimeout = setTimeout(() => {\n      controller.abort();\n    }, timeoutLimit);\n    return fetchTransport__default[\"default\"](`${hostname}${path}`, {\n      method: method,\n      body: bodyJSON,\n      headers,\n      signal: controller.signal\n    }).then(async res => {\n      if (res.ok) {\n        return res.json();\n      }\n      const responseText = await res.text().catch(() => null);\n      const response = safeParseJSON(responseText);\n      throw new HTTPRequestError({\n        error: response?.message,\n        hostname,\n        path,\n        method,\n        requestBody: bodyJSON,\n        responseBody: responseText,\n        responseStatusText: res.statusText,\n        statusCode: res.status\n      });\n    }).catch(async e => {\n      if (e instanceof HTTPRequestError) {\n        throw e;\n      }\n      if (e.name === \"AbortError\") {\n        throw e;\n      }\n\n      // Show AN error for all network errors\n      if (enableRequestLogging) {\n        await logger__namespace.log({\n          title: \"Access Node Error\",\n          message: `The provided access node ${hostname} does not appear to be a valid REST/HTTP access node.\n  Please verify that you are not unintentionally using a GRPC access node.\n  See more here: https://docs.onflow.org/fcl/reference/sdk-guidelines/#connect`,\n          level: logger__namespace.LEVELS.error\n        });\n      }\n      throw new HTTPRequestError({\n        error: e?.message,\n        hostname,\n        path,\n        method,\n        requestBody: bodyJSON\n      });\n    }).finally(() => {\n      clearTimeout(fetchTimeout);\n    });\n  }\n  async function requestLoop() {\n    let retryAttempt = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n    try {\n      const resp = await makeRequest();\n      return resp;\n    } catch (error) {\n      const retryStatusCodes = [408, 429, 500, 502, 503, 504];\n      if (error.name === \"AbortError\" || retryStatusCodes.includes(error.statusCode)) {\n        return await new Promise((resolve, reject) => {\n          if (retryAttempt < retryLimit) {\n            if (enableRequestLogging) {\n              console.warn(`Access node unavailable, retrying in ${retryIntervalMs} ms...`);\n            }\n            setTimeout(() => {\n              resolve(requestLoop(retryAttempt + 1));\n            }, retryIntervalMs);\n          } else {\n            reject(error);\n          }\n        });\n      } else {\n        throw error;\n      }\n    }\n  }\n\n  // Keep retrying request until server available or max attempts exceeded\n  return await requestLoop();\n}\nfunction safeParseJSON(data) {\n  try {\n    return JSON.parse(data);\n  } catch {\n    return null;\n  }\n}\n\nasync function sendExecuteScriptAtBlockIDRequest(ix, context, opts) {\n  const httpRequest$1 = opts.httpRequest || httpRequest;\n  const res = await httpRequest$1({\n    hostname: opts.node,\n    path: `/v1/scripts?block_id=${ix.block.id}`,\n    method: \"POST\",\n    body: {\n      script: context.Buffer.from(ix.message.cadence).toString(\"base64\"),\n      arguments: ix.message.arguments.map(arg => context.Buffer.from(JSON.stringify(ix.arguments[arg].asArgument)).toString(\"base64\"))\n    }\n  });\n  return constructResponse$4(ix, context, res);\n}\nasync function sendExecuteScriptAtBlockHeightRequest(ix, context, opts) {\n  const httpRequest$1 = opts.httpRequest || httpRequest;\n  const res = await httpRequest$1({\n    hostname: opts.node,\n    path: `/v1/scripts?block_height=${ix.block.height}`,\n    method: \"POST\",\n    body: {\n      script: context.Buffer.from(ix.message.cadence).toString(\"base64\"),\n      arguments: ix.message.arguments.map(arg => context.Buffer.from(JSON.stringify(ix.arguments[arg].asArgument)).toString(\"base64\"))\n    }\n  });\n  return constructResponse$4(ix, context, res);\n}\nasync function sendExecuteScriptAtLatestBlockRequest(ix, context, opts) {\n  const httpRequest$1 = opts.httpRequest || httpRequest;\n  const res = await httpRequest$1({\n    hostname: opts.node,\n    path: `/v1/scripts?block_height=sealed`,\n    method: \"POST\",\n    body: {\n      script: context.Buffer.from(ix.message.cadence).toString(\"base64\"),\n      arguments: ix.message.arguments.map(arg => context.Buffer.from(JSON.stringify(ix.arguments[arg].asArgument)).toString(\"base64\"))\n    }\n  });\n  return constructResponse$4(ix, context, res);\n}\nfunction constructResponse$4(ix, context, res) {\n  let ret = context.response();\n  ret.tag = ix.tag;\n  ret.encodedData = JSON.parse(context.Buffer.from(res, \"base64\").toString());\n  return ret;\n}\nasync function sendExecuteScript(ix) {\n  let context = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  let opts = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n  utilInvariant.invariant(opts.node, `SDK Send Execute Script Error: opts.node must be defined.`);\n  utilInvariant.invariant(context.response, `SDK Send Execute Script Error: context.response must be defined.`);\n  utilInvariant.invariant(context.Buffer, `SDK Send Execute Script Error: context.Buffer must be defined.`);\n  ix = await ix;\n  if (ix.block.id) {\n    return await sendExecuteScriptAtBlockIDRequest(ix, context, opts);\n  } else if (ix.block.height) {\n    return await sendExecuteScriptAtBlockHeightRequest(ix, context, opts);\n  } else {\n    return await sendExecuteScriptAtLatestBlockRequest(ix, context, opts);\n  }\n}\n\nconst HashAlgorithmIDs = {\n  SHA2_256: 1,\n  SHA2_384: 2,\n  SHA3_256: 3,\n  SHA3_384: 4,\n  KMAC128_BLS_BLS12_381: 5\n};\nconst SignatureAlgorithmIDs = {\n  ECDSA_P256: 1,\n  ECDSA_secp256k1: 2,\n  BLS_BLS12_381: 3\n};\nasync function sendGetAccountAtBlockHeightRequest(ix, context, opts) {\n  const httpRequest$1 = opts.httpRequest || httpRequest;\n  const res = await httpRequest$1({\n    hostname: opts.node,\n    path: `/v1/accounts/${ix.account.addr}?block_height=${ix.block.height}&expand=contracts,keys`,\n    method: \"GET\",\n    body: null\n  });\n  return constructResponse$3(ix, context, res);\n}\nasync function sendGetAccountAtLatestBlockRequest(ix, context, opts) {\n  const httpRequest$1 = opts.httpRequest || httpRequest;\n  const res = await httpRequest$1({\n    hostname: opts.node,\n    path: `/v1/accounts/${ix.account.addr}?block_height=sealed&expand=contracts,keys`,\n    method: \"GET\",\n    body: null\n  });\n  return constructResponse$3(ix, context, res);\n}\nfunction constructResponse$3(ix, context, res) {\n  let ret = context.response();\n  ret.tag = ix.tag;\n  const unwrapContracts = contracts => {\n    const c = {};\n    if (!contracts) return c;\n    for (let key of Object.keys(contracts)) {\n      c[key] = context.Buffer.from(contracts[key], \"base64\").toString();\n    }\n    return c;\n  };\n  ret.account = {\n    address: res.address,\n    balance: Number(res.balance),\n    code: \"\",\n    contracts: unwrapContracts(res.contracts),\n    keys: res.keys?.map(key => ({\n      index: Number(key.index),\n      publicKey: key.public_key.replace(/^0x/, \"\"),\n      signAlgo: SignatureAlgorithmIDs[key.signing_algorithm],\n      signAlgoString: key.signing_algorithm,\n      hashAlgo: HashAlgorithmIDs[key.hashing_algorithm],\n      hashAlgoString: key.hashing_algorithm,\n      sequenceNumber: Number(key.sequence_number),\n      weight: Number(key.weight),\n      revoked: key.revoked\n    })) ?? []\n  };\n  return ret;\n}\nasync function sendGetAccount(ix) {\n  let context = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  let opts = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n  utilInvariant.invariant(opts.node, `SDK Send Get Account Error: opts.node must be defined.`);\n  utilInvariant.invariant(context.response, `SDK Send Get Account Error: context.response must be defined.`);\n  utilInvariant.invariant(context.Buffer, `SDK Send Get Account Error: context.Buffer must be defined.`);\n  ix = await ix;\n  if (ix.block.height !== null) {\n    return await sendGetAccountAtBlockHeightRequest(ix, context, opts);\n  } else {\n    return await sendGetAccountAtLatestBlockRequest(ix, context, opts);\n  }\n}\n\nasync function sendGetBlockHeaderByIDRequest(ix, context, opts) {\n  const httpRequest$1 = opts.httpRequest || httpRequest;\n  const res = await httpRequest$1({\n    hostname: opts.node,\n    path: `/v1/blocks/${ix.block.id}`,\n    method: \"GET\",\n    body: null\n  });\n  return constructResponse$2(ix, context, res);\n}\nasync function sendGetBlockHeaderByHeightRequest(ix, context, opts) {\n  const httpRequest$1 = opts.httpRequest || httpRequest;\n  const res = await httpRequest$1({\n    hostname: opts.node,\n    path: `/v1/blocks?height=${ix.block.height}`,\n    method: \"GET\",\n    body: null\n  });\n  return constructResponse$2(ix, context, res);\n}\nasync function sendGetLatestBlockHeaderRequest(ix, context, opts) {\n  const httpRequest$1 = opts.httpRequest || httpRequest;\n  const height = ix.block?.isSealed ? \"sealed\" : \"final\";\n  const res = await httpRequest$1({\n    hostname: opts.node,\n    path: `/v1/blocks?height=${height}`,\n    method: \"GET\",\n    body: null\n  });\n  return constructResponse$2(ix, context, res);\n}\nfunction constructResponse$2(ix, context, res) {\n  const block = res.length ? res[0] : null;\n  const ret = context.response();\n  ret.tag = ix.tag;\n  ret.blockHeader = {\n    id: block.header.id,\n    parentId: block.header.parent_id,\n    height: Number(block.header.height),\n    timestamp: block.header.timestamp\n  };\n  return ret;\n}\nasync function sendGetBlockHeader(ix) {\n  let context = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  let opts = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n  utilInvariant.invariant(opts.node, `SDK Send Get Block Header Error: opts.node must be defined.`);\n  utilInvariant.invariant(context.response, `SDK Send Get Block Header Error: context.response must be defined.`);\n  ix = await ix;\n  const interactionHasBlockID = ix.block.id !== null;\n  const interactionHasBlockHeight = ix.block.height !== null;\n  if (interactionHasBlockID) {\n    return await sendGetBlockHeaderByIDRequest(ix, context, opts);\n  } else if (interactionHasBlockHeight) {\n    return await sendGetBlockHeaderByHeightRequest(ix, context, opts);\n  } else {\n    return await sendGetLatestBlockHeaderRequest(ix, context, opts);\n  }\n}\n\nasync function sendGetBlockByIDRequest(ix, context, opts) {\n  const httpRequest$1 = opts.httpRequest || httpRequest;\n  const res = await httpRequest$1({\n    hostname: opts.node,\n    path: `/v1/blocks/${ix.block.id}?expand=payload`,\n    method: \"GET\",\n    body: null\n  });\n  return constructResponse$1(ix, context, res);\n}\nasync function sendGetBlockByHeightRequest(ix, context, opts) {\n  const httpRequest$1 = opts.httpRequest || httpRequest;\n  const res = await httpRequest$1({\n    hostname: opts.node,\n    path: `/v1/blocks?height=${ix.block.height}&expand=payload`,\n    method: \"GET\",\n    body: null\n  });\n  return constructResponse$1(ix, context, res);\n}\nasync function sendGetBlockRequest(ix, context, opts) {\n  const httpRequest$1 = opts.httpRequest || httpRequest;\n  const height = ix.block?.isSealed ? \"sealed\" : \"final\";\n  const res = await httpRequest$1({\n    hostname: opts.node,\n    path: `/v1/blocks?height=${height}&expand=payload`,\n    method: \"GET\",\n    body: null\n  });\n  return constructResponse$1(ix, context, res);\n}\nfunction constructResponse$1(ix, context, res) {\n  const block = res.length ? res[0] : null;\n  const ret = context.response();\n  ret.tag = ix.tag;\n  ret.block = {\n    id: block.header.id,\n    parentId: block.header.parent_id,\n    height: Number(block.header.height),\n    timestamp: block.header.timestamp,\n    collectionGuarantees: block.payload.collection_guarantees.map(collectionGuarantee => ({\n      collectionId: collectionGuarantee.collection_id,\n      signerIds: collectionGuarantee.signer_ids\n    })),\n    blockSeals: block.payload.block_seals.map(blockSeal => ({\n      blockId: blockSeal.block_id,\n      executionReceiptId: blockSeal.result_id\n    }))\n  };\n  return ret;\n}\nasync function sendGetBlock(ix) {\n  let context = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  let opts = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n  utilInvariant.invariant(opts.node, `SDK Send Get Block Error: opts.node must be defined.`);\n  utilInvariant.invariant(context.response, `SDK Send Get Block Error: context.response must be defined.`);\n  ix = await ix;\n  const interactionHasBlockID = ix.block.id !== null;\n  const interactionHasBlockHeight = ix.block.height !== null;\n  if (interactionHasBlockID) {\n    return await sendGetBlockByIDRequest(ix, context, opts);\n  } else if (interactionHasBlockHeight) {\n    return await sendGetBlockByHeightRequest(ix, context, opts);\n  } else {\n    return await sendGetBlockRequest(ix, context, opts);\n  }\n}\n\nasync function sendGetCollection(ix) {\n  let context = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  let opts = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n  utilInvariant.invariant(opts.node, `SDK Send Get Collection Error: opts.node must be defined.`);\n  utilInvariant.invariant(context.response, `SDK Send Get Collection Error: context.response must be defined.`);\n  const httpRequest$1 = opts.httpRequest || httpRequest;\n  const res = await httpRequest$1({\n    hostname: opts.node,\n    path: `/v1/collections/${ix.collection.id}?expand=transactions`,\n    method: \"GET\",\n    body: null\n  });\n  const ret = context.response();\n  ret.tag = ix.tag;\n  ret.collection = {\n    id: res.id,\n    transactionIds: res.transactions.map(transaction => transaction.id)\n  };\n  return ret;\n}\n\nasync function sendGetEventsForHeightRangeRequest(ix, context, opts) {\n  const httpRequest$1 = opts.httpRequest || httpRequest;\n  const res = await httpRequest$1({\n    hostname: opts.node,\n    path: `/v1/events?type=${ix.events.eventType}&start_height=${ix.events.start}&end_height=${ix.events.end}`,\n    method: \"GET\",\n    body: null\n  });\n  return constructResponse(ix, context, res);\n}\nasync function sendGetEventsForBlockIDsRequest(ix, context, opts) {\n  const httpRequest$1 = opts.httpRequest || httpRequest;\n  const res = await httpRequest$1({\n    hostname: opts.node,\n    path: `/v1/events?type=${ix.events.eventType}&block_ids=${ix.events.blockIds.join(\",\")}`,\n    method: \"GET\",\n    body: null\n  });\n  return constructResponse(ix, context, res);\n}\nfunction constructResponse(ix, context, res) {\n  let ret = context.response();\n  ret.tag = ix.tag;\n  ret.events = [];\n  res.forEach(block => block.events ? block.events.forEach(event => ret.events.push({\n    blockId: block.block_id,\n    blockHeight: Number(block.block_height),\n    blockTimestamp: block.block_timestamp,\n    type: event.type,\n    transactionId: event.transaction_id,\n    transactionIndex: Number(event.transaction_index),\n    eventIndex: Number(event.event_index),\n    payload: JSON.parse(context.Buffer.from(event.payload, \"base64\").toString())\n  })) : null);\n  return ret;\n}\nasync function sendGetEvents(ix) {\n  let context = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  let opts = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n  utilInvariant.invariant(opts.node, `SDK Send Get Events Error: opts.node must be defined.`);\n  utilInvariant.invariant(context.response, `SDK Send Get Events Error: context.response must be defined.`);\n  utilInvariant.invariant(context.Buffer, `SDK Send Get Events Error: context.Buffer must be defined.`);\n  ix = await ix;\n  const interactionContainsBlockHeightRange = ix.events.start !== null;\n  const interactionContainsBlockIDsList = Array.isArray(ix.events.blockIds) && ix.events.blockIds.length > 0;\n  utilInvariant.invariant(interactionContainsBlockHeightRange || interactionContainsBlockIDsList, \"SendGetEventsError: Unable to determine which get events request to send. Either a block height range, or block IDs must be specified.\");\n  if (interactionContainsBlockHeightRange) {\n    return await sendGetEventsForHeightRangeRequest(ix, context, opts);\n  } else {\n    return await sendGetEventsForBlockIDsRequest(ix, context, opts);\n  }\n}\n\nasync function sendGetTransaction(ix) {\n  let context = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  let opts = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n  utilInvariant.invariant(opts.node, `SDK Send Get Transaction Error: opts.node must be defined.`);\n  utilInvariant.invariant(context.response, `SDK Send Get Transaction Error: context.response must be defined.`);\n  utilInvariant.invariant(context.Buffer, `SDK Send Get Transaction Error: context.Buffer must be defined.`);\n  const httpRequest$1 = opts.httpRequest || httpRequest;\n  ix = await ix;\n  const res = await httpRequest$1({\n    hostname: opts.node,\n    path: `/v1/transactions/${ix.transaction.id}`,\n    method: \"GET\",\n    body: null\n  });\n  const unwrapKey = key => ({\n    address: key.address,\n    keyId: Number(key.key_id),\n    sequenceNumber: Number(key.sequence_number)\n  });\n  const unwrapSignature = sig => ({\n    address: sig.address,\n    keyId: Number(sig.key_index),\n    signature: sig.signature\n  });\n  const unwrapArg = arg => JSON.parse(context.Buffer.from(arg, \"base64\").toString());\n  let ret = context.response();\n  ret.tag = ix.tag;\n  ret.transaction = {\n    script: context.Buffer.from(res.script, \"base64\").toString(),\n    args: [...res.arguments.map(unwrapArg)],\n    referenceBlockId: res.reference_block_id,\n    gasLimit: Number(res.gas_limit),\n    payer: res.payer,\n    proposalKey: res.proposal_key ? unwrapKey(res.proposal_key) : res.proposal_key,\n    authorizers: res.authorizers,\n    payloadSignatures: [...res.payload_signatures.map(unwrapSignature)],\n    envelopeSignatures: [...res.envelope_signatures.map(unwrapSignature)]\n  };\n  return ret;\n}\n\nconst STATUS_MAP = {\n  UNKNOWN: 0,\n  PENDING: 1,\n  FINALIZED: 2,\n  EXECUTED: 3,\n  SEALED: 4,\n  EXPIRED: 5\n};\nasync function sendGetTransactionStatus(ix) {\n  let context = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  let opts = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n  utilInvariant.invariant(opts.node, `SDK Send Get Transaction Status Error: opts.node must be defined.`);\n  utilInvariant.invariant(context.response, `SDK Send Get Transaction Status Error: context.response must be defined.`);\n  utilInvariant.invariant(context.Buffer, `SDK Send Get Transaction Status Error: context.Buffer must be defined.`);\n  const httpRequest$1 = opts.httpRequest || httpRequest;\n  ix = await ix;\n  const res = await httpRequest$1({\n    hostname: opts.node,\n    path: `/v1/transaction_results/${ix.transaction.id}`,\n    method: \"GET\",\n    body: null\n  });\n  let ret = context.response();\n  ret.tag = ix.tag;\n  ret.transactionStatus = {\n    blockId: res.block_id,\n    status: STATUS_MAP[res.status.toUpperCase()] || \"\",\n    statusString: res.status.toUpperCase(),\n    statusCode: res.status_code,\n    errorMessage: res.error_message,\n    events: res.events.map(event => ({\n      type: event.type,\n      transactionId: event.transaction_id,\n      transactionIndex: Number(event.transaction_index),\n      eventIndex: Number(event.event_index),\n      payload: JSON.parse(context.Buffer.from(event.payload, \"base64\").toString())\n    }))\n  };\n  return ret;\n}\n\nasync function sendPing(ix) {\n  let context = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  let opts = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n  utilInvariant.invariant(opts.node, `SDK Send Ping Error: opts.node must be defined.`);\n  utilInvariant.invariant(context.response, `SDK Send Ping Error: context.response must be defined.`);\n  const httpRequest$1 = opts.httpRequest || httpRequest;\n  await httpRequest$1({\n    hostname: opts.node,\n    path: \"/v1/blocks?height=sealed\",\n    method: \"GET\",\n    body: null\n  });\n  let ret = context.response();\n  ret.tag = ix.tag;\n  return ret;\n}\n\nconst idof = acct => `${withPrefix(acct.addr)}-${acct.keyId}`;\nasync function sendTransaction(ix) {\n  let context = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  let opts = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n  utilInvariant.invariant(opts.node, `SDK Send Transaction Error: opts.node must be defined.`);\n  utilInvariant.invariant(context.response, `SDK Send Transaction Error: context.response must be defined.`);\n  utilInvariant.invariant(context.Buffer, `SDK Send Transaction Error: context.Buffer must be defined.`);\n  const httpRequest$1 = opts.httpRequest || httpRequest;\n  ix = await ix;\n\n  // Apply Non Payer Signatures to Payload Signatures\n  let payloadSignatures = [];\n  for (let acct of Object.values(ix.accounts)) {\n    try {\n      if (!acct.role.payer && acct.signature != null) {\n        const signature = {\n          address: utilAddress.sansPrefix(acct.addr),\n          key_index: String(acct.keyId),\n          signature: context.Buffer.from(acct.signature, \"hex\").toString(\"base64\")\n        };\n        if (!payloadSignatures.find(existingSignature => existingSignature.address === signature.address && existingSignature.key_index === signature.key_index && existingSignature.signature === signature.signature)) {\n          payloadSignatures.push(signature);\n        }\n      }\n    } catch (error) {\n      console.error(\"SDK HTTP Send Error: Trouble applying payload signature\", {\n        acct,\n        ix\n      });\n      throw error;\n    }\n  }\n\n  // Apply Payer Signatures to Envelope Signatures\n  let envelopeSignatures = {};\n  for (let acct of Object.values(ix.accounts)) {\n    try {\n      if (acct.role.payer && acct.signature != null) {\n        let id = acct.tempId || idof(acct);\n        envelopeSignatures[id] = envelopeSignatures[id] || {\n          address: utilAddress.sansPrefix(acct.addr),\n          key_index: String(acct.keyId),\n          signature: context.Buffer.from(acct.signature, \"hex\").toString(\"base64\")\n        };\n      }\n    } catch (error) {\n      console.error(\"SDK HTTP Send Error: Trouble applying envelope signature\", {\n        acct,\n        ix\n      });\n      throw error;\n    }\n  }\n  envelopeSignatures = Object.values(envelopeSignatures);\n  var t1 = Date.now();\n  const res = await httpRequest$1({\n    hostname: opts.node,\n    path: `/v1/transactions`,\n    method: \"POST\",\n    body: {\n      script: context.Buffer.from(ix.message.cadence).toString(\"base64\"),\n      arguments: [...ix.message.arguments.map(arg => context.Buffer.from(JSON.stringify(ix.arguments[arg].asArgument)).toString(\"base64\"))],\n      reference_block_id: ix.message.refBlock ? ix.message.refBlock : null,\n      gas_limit: String(ix.message.computeLimit),\n      payer: utilAddress.sansPrefix(ix.accounts[Array.isArray(ix.payer) ? ix.payer[0] : ix.payer].addr),\n      proposal_key: {\n        address: utilAddress.sansPrefix(ix.accounts[ix.proposer].addr),\n        key_index: String(ix.accounts[ix.proposer].keyId),\n        sequence_number: String(ix.accounts[ix.proposer].sequenceNum)\n      },\n      authorizers: ix.authorizations.map(tempId => ix.accounts[tempId].addr).reduce((prev, current) => {\n        return prev.find(item => item === current) ? prev : [...prev, current];\n      }, []).map(utilAddress.sansPrefix),\n      payload_signatures: payloadSignatures,\n      envelope_signatures: envelopeSignatures\n    }\n  });\n  var t2 = Date.now();\n  let ret = context.response();\n  ret.tag = ix.tag;\n  ret.transactionId = res.id;\n  if (typeof window !== \"undefined\" && typeof CustomEvent !== \"undefined\") {\n    window.dispatchEvent(new CustomEvent(\"FLOW::TX\", {\n      detail: {\n        txId: ret.transactionId,\n        delta: t2 - t1\n      }\n    }));\n  }\n  return ret;\n}\n\nasync function sendGetNetworkParameters(ix) {\n  let context = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  let opts = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n  utilInvariant.invariant(opts.node, `SDK Send Get Network Parameters Error: opts.node must be defined.`);\n  utilInvariant.invariant(context.response, `SDK Send Get Network Parameters Error: context.response must be defined.`);\n  const httpRequest$1 = opts.httpRequest || httpRequest;\n  ix = await ix;\n  const res = await httpRequest$1({\n    hostname: opts.node,\n    path: `/v1/network/parameters`,\n    method: \"GET\",\n    body: null,\n    enableRequestLogging: opts.enableRequestLogging ?? true\n  });\n  let ret = context.response();\n  ret.tag = ix.tag;\n  ret.networkParameters = {\n    chainId: res.chain_id\n  };\n  return ret;\n}\n\nconst send = async function (ix) {\n  let context = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  let opts = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n  utilInvariant.invariant(opts.node, `SDK Send Error: Either opts.node or \"accessNode.api\" in config must be defined.`);\n  utilInvariant.invariant(context.ix, `SDK Send Error: context.ix must be defined.`);\n  ix = await ix;\n\n  // prettier-ignore\n  switch (true) {\n    case context.ix.isTransaction(ix):\n      return opts.sendTransaction ? opts.sendTransaction(ix, context, opts) : sendTransaction(ix, context, opts);\n    case context.ix.isGetTransactionStatus(ix):\n      return opts.sendGetTransactionStatus ? opts.sendGetTransactionStatus(ix, context, opts) : sendGetTransactionStatus(ix, context, opts);\n    case context.ix.isGetTransaction(ix):\n      return opts.sendGetTransaction ? opts.sendGetTransaction(ix, context, opts) : sendGetTransaction(ix, context, opts);\n    case context.ix.isScript(ix):\n      return opts.sendExecuteScript ? opts.sendExecuteScript(ix, context, opts) : sendExecuteScript(ix, context, opts);\n    case context.ix.isGetAccount(ix):\n      return opts.sendGetAccount ? opts.sendGetAccount(ix, context, opts) : sendGetAccount(ix, context, opts);\n    case context.ix.isGetEvents(ix):\n      return opts.sendGetEvents ? opts.sendGetEvents(ix, context, opts) : sendGetEvents(ix, context, opts);\n    case context.ix.isGetBlock(ix):\n      return opts.sendGetBlock ? opts.sendGetBlock(ix, context, opts) : sendGetBlock(ix, context, opts);\n    case context.ix.isGetBlockHeader(ix):\n      return opts.sendGetBlockHeader ? opts.sendGetBlockHeader(ix, context, opts) : sendGetBlockHeader(ix, context, opts);\n    case context.ix.isGetCollection(ix):\n      return opts.sendGetCollection ? opts.sendGetCollection(ix, context, opts) : sendGetCollection(ix, context, opts);\n    case context.ix.isPing(ix):\n      return opts.sendPing ? opts.sendPing(ix, context, opts) : sendPing(ix, context, opts);\n    case context.ix.isGetNetworkParameters(ix):\n      return opts.sendGetNetworkParameters ? opts.sendGetNetworkParameters(ix, context, opts) : sendGetNetworkParameters(ix, context, opts);\n    default:\n      return ix;\n  }\n};\n\nexports.send = send;\nexports.sendExecuteScript = sendExecuteScript;\nexports.sendGetAccount = sendGetAccount;\nexports.sendGetBlock = sendGetBlock;\nexports.sendGetBlockHeader = sendGetBlockHeader;\nexports.sendGetCollection = sendGetCollection;\nexports.sendGetEvents = sendGetEvents;\nexports.sendGetNetworkParameters = sendGetNetworkParameters;\nexports.sendGetTransaction = sendGetTransaction;\nexports.sendGetTransactionStatus = sendGetTransactionStatus;\nexports.sendPing = sendPing;\nexports.sendTransaction = sendTransaction;\n//# sourceMappingURL=sdk-send-http.js.map\n","const DEFAULT_RESPONSE = `{\n    \"tag\":null,\n    \"transaction\":null,\n    \"transactionStatus\":null,\n    \"transactionId\":null,\n    \"encodedData\":null,\n    \"events\":null,\n    \"account\":null,\n    \"block\":null,\n    \"blockHeader\":null,\n    \"latestBlock\":null,\n    \"collection\":null,\n    \"networkParameters\":null\n}`\n\nexport const response = () => JSON.parse(DEFAULT_RESPONSE)\n","import {pipe, Ok, makeGetBlock} from \"../interaction/interaction.js\"\n\n/**\n * @description - A builder function that returns the interaction to get the latest block\n * @param {boolean} [isSealed] - Whether or not the block should be sealed\n * @returns {Function} - An interaction object\n */\nexport function getBlock(isSealed = null) {\n  return pipe([\n    makeGetBlock,\n    ix => {\n      ix.block.isSealed = isSealed\n      return Ok(ix)\n    },\n  ])\n}\n","import {pipe, makeGetAccount, Ok} from \"../interaction/interaction.js\"\nimport {sansPrefix} from \"@onflow/util-address\"\n\n/**\n * @description - A builder function that returns the interaction to get an account by address\n * @param {string} addr - The address of the account to getq\n * @returns {Function} - An interaction object\n */\nexport function getAccount(addr) {\n  return pipe([\n    makeGetAccount,\n    ix => {\n      ix.account.addr = sansPrefix(addr)\n      return Ok(ix)\n    },\n  ])\n}\n","import {log, LEVELS} from \"@onflow/util-logger\"\n\nconst latestBlockDeprecationNotice = () => {\n  log.deprecate({\n    pkg: \"@onflow/decode\",\n    subject:\n      \"Operating upon data of the latestBlock field of the response object\",\n    transition:\n      \"https://github.com/onflow/flow-js-sdk/blob/master/packages/decode/WARNINGS.md#0001-Deprecating-latestBlock-field\",\n  })\n}\n\nconst decodeNumber = async (num, _, stack) => {\n  try {\n    return Number(num)\n  } catch (e) {\n    throw new Error(`Decode Number Error : ${stack.join(\".\")}`)\n  }\n}\n\nconst decodeImplicit = async i => i\n\nconst decodeVoid = async () => null\n\nconst decodeType = async type => {\n  return type.staticType\n}\n\nconst decodePath = async path => {\n  return {\n    domain: path.domain,\n    identifier: path.identifier,\n  }\n}\n\nconst decodeCapability = async cap => {\n  return {\n    path: cap.path,\n    address: cap.address,\n    borrowType: cap.borrowType,\n  }\n}\n\nconst decodeOptional = async (optional, decoders, stack) =>\n  optional ? await recurseDecode(optional, decoders, stack) : null\n\nconst decodeReference = async v => ({address: v.address, type: v.type})\n\nconst decodeArray = async (array, decoders, stack) =>\n  await Promise.all(\n    array.map(\n      v =>\n        new Promise(async res =>\n          res(await recurseDecode(v, decoders, [...stack, v.type]))\n        )\n    )\n  )\n\nconst decodeDictionary = async (dictionary, decoders, stack) =>\n  await dictionary.reduce(async (acc, v) => {\n    acc = await acc\n    acc[await recurseDecode(v.key, decoders, [...stack, v.key])] =\n      await recurseDecode(v.value, decoders, [...stack, v.key])\n    return acc\n  }, Promise.resolve({}))\n\nconst decodeComposite = async (composite, decoders, stack) => {\n  const decoded = await composite.fields.reduce(async (acc, v) => {\n    acc = await acc\n    acc[v.name] = await recurseDecode(v.value, decoders, [...stack, v.name])\n    return acc\n  }, Promise.resolve({}))\n  const decoder = composite.id && decoderLookup(decoders, composite.id)\n  return decoder ? await decoder(decoded) : decoded\n}\n\nconst defaultDecoders = {\n  UInt: decodeImplicit,\n  Int: decodeImplicit,\n  UInt8: decodeImplicit,\n  Int8: decodeImplicit,\n  UInt16: decodeImplicit,\n  Int16: decodeImplicit,\n  UInt32: decodeImplicit,\n  Int32: decodeImplicit,\n  UInt64: decodeImplicit,\n  Int64: decodeImplicit,\n  UInt128: decodeImplicit,\n  Int128: decodeImplicit,\n  UInt256: decodeImplicit,\n  Int256: decodeImplicit,\n  Word8: decodeImplicit,\n  Word16: decodeImplicit,\n  Word32: decodeImplicit,\n  Word64: decodeImplicit,\n  UFix64: decodeImplicit,\n  Fix64: decodeImplicit,\n  String: decodeImplicit,\n  Character: decodeImplicit,\n  Bool: decodeImplicit,\n  Address: decodeImplicit,\n  Void: decodeVoid,\n  Optional: decodeOptional,\n  Reference: decodeReference,\n  Array: decodeArray,\n  Dictionary: decodeDictionary,\n  Event: decodeComposite,\n  Resource: decodeComposite,\n  Struct: decodeComposite,\n  Enum: decodeComposite,\n  Type: decodeType,\n  Path: decodePath,\n  Capability: decodeCapability,\n}\n\nconst decoderLookup = (decoders, lookup) => {\n  const found = Object.keys(decoders).find(decoder => {\n    if (/^\\/.*\\/$/.test(decoder)) {\n      const reg = new RegExp(decoder.substring(1, decoder.length - 1))\n      return reg.test(lookup)\n    }\n    return decoder === lookup\n  })\n  return lookup && found && decoders[found]\n}\n\nconst recurseDecode = async (decodeInstructions, decoders, stack) => {\n  let decoder = decoderLookup(decoders, decodeInstructions.type)\n  if (!decoder)\n    throw new Error(\n      `Undefined Decoder Error: ${decodeInstructions.type}@${stack.join(\".\")}`\n    )\n  return await decoder(decodeInstructions.value, decoders, stack)\n}\n\n/**\n * @description - Decodes a response from Flow into JSON\n * @param {*} decodeInstructions - The response object from Flow\n * @param {object} customDecoders - An object of custom decoders\n * @param {Array<*>} stack - The stack of the current decoding\n * @returns {Promise<*>} - The decoded response\n */\nexport const decode = async (\n  decodeInstructions,\n  customDecoders = {},\n  stack = []\n) => {\n  // Filter out all default decoders which are overridden by a custom decoder regex\n  const filteredDecoders = Object.keys(defaultDecoders)\n    .filter(\n      decoder =>\n        !Object.keys(customDecoders).find(customDecoder =>\n          new RegExp(customDecoder).test(decoder)\n        )\n    )\n    .reduce((decoders, decoderKey) => {\n      decoders[decoderKey] = defaultDecoders[decoderKey]\n      return decoders\n    }, customDecoders)\n\n  const decoders = {\n    ...filteredDecoders,\n    ...customDecoders,\n  }\n  return recurseDecode(decodeInstructions, decoders, stack)\n}\n\nexport const decodeResponse = async (response, customDecoders = {}) => {\n  if (response.encodedData) {\n    return decode(response.encodedData, customDecoders)\n  } else if (response.transactionStatus) {\n    return {\n      ...response.transactionStatus,\n      events: await Promise.all(\n        response.transactionStatus.events.map(async function decodeEvents(e) {\n          return {\n            type: e.type,\n            transactionId: e.transactionId,\n            transactionIndex: e.transactionIndex,\n            eventIndex: e.eventIndex,\n            data: await decode(e.payload, customDecoders),\n          }\n        })\n      ),\n    }\n  } else if (response.transaction) {\n    return response.transaction\n  } else if (response.events) {\n    return await Promise.all(\n      response.events.map(async function decodeEvents(e) {\n        return {\n          blockId: e.blockId,\n          blockHeight: e.blockHeight,\n          blockTimestamp: e.blockTimestamp,\n          type: e.type,\n          transactionId: e.transactionId,\n          transactionIndex: e.transactionIndex,\n          eventIndex: e.eventIndex,\n          data: await decode(e.payload, customDecoders),\n        }\n      })\n    )\n  } else if (response.account) {\n    return response.account\n  } else if (response.block) {\n    return response.block\n  } else if (response.blockHeader) {\n    return response.blockHeader\n  } else if (response.latestBlock) {\n    latestBlockDeprecationNotice()\n    return response.latestBlock\n  } else if (response.transactionId) {\n    return response.transactionId\n  } else if (response.collection) {\n    return response.collection\n  } else if (response.networkParameters) {\n    const chainIdMap = {\n      \"flow-testnet\": \"testnet\",\n      \"flow-mainnet\": \"mainnet\",\n      \"flow-emulator\": \"local\",\n    }\n\n    return {\n      chainId: chainIdMap[response.networkParameters.chainId],\n    }\n  }\n\n  return null\n}\n","import {isTransaction, isScript, get} from \"../interaction/interaction.js\"\nimport {invariant} from \"@onflow/util-invariant\"\nimport {config} from \"@onflow/config\"\nimport * as logger from \"@onflow/util-logger\"\nimport {withPrefix} from \"@onflow/util-address\"\n\nconst isFn = v => typeof v === \"function\"\nconst isString = v => typeof v === \"string\"\n\nconst oldIdentifierPatternFn = () => /\\b(0x\\w+)\\b/g\nfunction isOldIdentifierSyntax(cadence) {\n  return oldIdentifierPatternFn().test(cadence)\n}\n\nconst newIdentifierPatternFn = () => /import\\s+\"(\\w+)\"/g\nfunction isNewIdentifierSyntax(cadence) {\n  return newIdentifierPatternFn().test(cadence)\n}\n\nfunction getContractIdentifierSyntaxMatches(cadence) {\n  return cadence.matchAll(newIdentifierPatternFn())\n}\n\nexport async function resolveCadence(ix) {\n  if (!isTransaction(ix) && !isScript(ix)) return ix\n\n  var cadence = get(ix, \"ix.cadence\")\n\n  invariant(\n    isFn(cadence) || isString(cadence),\n    \"Cadence needs to be a function or a string.\"\n  )\n  if (isFn(cadence)) cadence = await cadence({})\n  invariant(isString(cadence), \"Cadence needs to be a string at this point.\")\n  invariant(\n    !isOldIdentifierSyntax(cadence) || !isNewIdentifierSyntax(cadence),\n    \"Both account identifier and contract identifier syntax not simultaneously supported.\"\n  )\n  if (isOldIdentifierSyntax(cadence)) {\n    cadence = await config()\n      .where(/^0x/)\n      .then(d =>\n        Object.entries(d).reduce((cadence, [key, value]) => {\n          const regex = new RegExp(\"(\\\\b\" + key + \"\\\\b)\", \"g\")\n          return cadence.replace(regex, value)\n        }, cadence)\n      )\n  }\n\n  if (isNewIdentifierSyntax(cadence)) {\n    for (const [fullMatch, contractName] of getContractIdentifierSyntaxMatches(\n      cadence\n    )) {\n      const address = await config().get(`system.contracts.${contractName}`)\n      if (address) {\n        cadence = cadence.replace(\n          fullMatch,\n          `import ${contractName} from ${withPrefix(address)}`\n        )\n      } else {\n        logger.log({\n          title: \"Contract Placeholder not found\",\n          message: `Cannot find a value for contract placeholder ${contractName}. Please add to your flow.json or explicitly add it to the config 'contracts.*' namespace.`,\n          level: logger.LEVELS.warn,\n        })\n      }\n    }\n  }\n\n  // We need to move this over in any case.\n  ix.message.cadence = cadence\n\n  return ix\n}\n","import {invariant} from \"@onflow/util-invariant\"\nimport {isTransaction, isScript} from \"../interaction/interaction.js\"\n\nconst isFn = v => typeof v === \"function\"\n\nfunction cast(arg) {\n  // prettier-ignore\n  invariant(typeof arg.xform != null, `No type specified for argument: ${arg.value}`)\n\n  if (isFn(arg.xform)) return arg.xform(arg.value)\n  if (isFn(arg.xform.asArgument)) return arg.xform.asArgument(arg.value)\n\n  // prettier-ignore\n  invariant(false, `Invalid Argument`, arg)\n}\n\nasync function handleArgResolution(arg, depth = 3) {\n  invariant(\n    depth > 0,\n    `Argument Resolve Recursion Limit Exceeded for Arg: ${arg.tempId}`\n  )\n\n  if (isFn(arg.resolveArgument)) {\n    const resolvedArg = await arg.resolveArgument()\n    return handleArgResolution(resolvedArg, depth - 1)\n  } else {\n    return arg\n  }\n}\n\nexport async function resolveArguments(ix) {\n  if (isTransaction(ix) || isScript(ix)) {\n    for (let [id, arg] of Object.entries(ix.arguments)) {\n      const res = await handleArgResolution(arg)\n      ix.arguments[id].asArgument = cast(res)\n    }\n  }\n\n  return ix\n}\n","import {SHA3} from \"sha3\"\nimport {encode, Buffer} from \"@onflow/rlp\"\nimport {sansPrefix} from \"@onflow/util-address\"\n\nexport const encodeTransactionPayload = tx =>\n  prependTransactionDomainTag(rlpEncode(preparePayload(tx)))\nexport const encodeTransactionEnvelope = tx =>\n  prependTransactionDomainTag(rlpEncode(prepareEnvelope(tx)))\nexport const encodeTxIdFromVoucher = voucher =>\n  sha3_256(rlpEncode(prepareVoucher(voucher)))\n\nconst rightPaddedHexBuffer = (value, pad) =>\n  Buffer.from(value.padEnd(pad * 2, 0), \"hex\")\n\nconst leftPaddedHexBuffer = (value, pad) =>\n  Buffer.from(value.padStart(pad * 2, 0), \"hex\")\n\nconst TRANSACTION_DOMAIN_TAG = rightPaddedHexBuffer(\n  Buffer.from(\"FLOW-V0.0-transaction\").toString(\"hex\"),\n  32\n).toString(\"hex\")\nconst prependTransactionDomainTag = tx => TRANSACTION_DOMAIN_TAG + tx\n\nconst addressBuffer = addr => leftPaddedHexBuffer(addr, 8)\n\nconst blockBuffer = block => leftPaddedHexBuffer(block, 32)\n\nconst argumentToString = arg => Buffer.from(JSON.stringify(arg), \"utf8\")\n\nconst scriptBuffer = script => Buffer.from(script, \"utf8\")\nconst signatureBuffer = signature => Buffer.from(signature, \"hex\")\n\nconst rlpEncode = v => {\n  return encode(v).toString(\"hex\")\n}\n\nconst sha3_256 = msg => {\n  const sha = new SHA3(256)\n  sha.update(Buffer.from(msg, \"hex\"))\n  return sha.digest().toString(\"hex\")\n}\n\nconst preparePayload = tx => {\n  validatePayload(tx)\n\n  return [\n    scriptBuffer(tx.cadence),\n    tx.arguments.map(argumentToString),\n    blockBuffer(tx.refBlock),\n    tx.computeLimit,\n    addressBuffer(sansPrefix(tx.proposalKey.address)),\n    tx.proposalKey.keyId,\n    tx.proposalKey.sequenceNum,\n    addressBuffer(sansPrefix(tx.payer)),\n    tx.authorizers.map(authorizer => addressBuffer(sansPrefix(authorizer))),\n  ]\n}\n\nconst prepareEnvelope = tx => {\n  validateEnvelope(tx)\n\n  return [preparePayload(tx), preparePayloadSignatures(tx)]\n}\n\nconst preparePayloadSignatures = tx => {\n  const signers = collectSigners(tx)\n\n  return tx.payloadSigs\n    .map(sig => {\n      return {\n        signerIndex: signers.get(sig.address),\n        keyId: sig.keyId,\n        sig: sig.sig,\n      }\n    })\n    .sort((a, b) => {\n      if (a.signerIndex > b.signerIndex) return 1\n      if (a.signerIndex < b.signerIndex) return -1\n\n      if (a.keyId > b.keyId) return 1\n      if (a.keyId < b.keyId) return -1\n    })\n    .map(sig => {\n      return [sig.signerIndex, sig.keyId, signatureBuffer(sig.sig)]\n    })\n}\n\nconst collectSigners = tx => {\n  const signers = new Map()\n  let i = 0\n\n  const addSigner = addr => {\n    if (!signers.has(addr)) {\n      signers.set(addr, i)\n      i++\n    }\n  }\n\n  addSigner(tx.proposalKey.address)\n  addSigner(tx.payer)\n  tx.authorizers.forEach(addSigner)\n\n  return signers\n}\n\nconst prepareVoucher = voucher => {\n  validateVoucher(voucher)\n\n  const signers = collectSigners(voucher)\n\n  const prepareSigs = sigs => {\n    return sigs\n      .map(({address, keyId, sig}) => {\n        return {signerIndex: signers.get(address), keyId, sig}\n      })\n      .sort((a, b) => {\n        if (a.signerIndex > b.signerIndex) return 1\n        if (a.signerIndex < b.signerIndex) return -1\n        if (a.keyId > b.keyId) return 1\n        if (a.keyId < b.keyId) return -1\n      })\n      .map(sig => {\n        return [sig.signerIndex, sig.keyId, signatureBuffer(sig.sig)]\n      })\n  }\n\n  return [\n    [\n      scriptBuffer(voucher.cadence),\n      voucher.arguments.map(argumentToString),\n      blockBuffer(voucher.refBlock),\n      voucher.computeLimit,\n      addressBuffer(sansPrefix(voucher.proposalKey.address)),\n      voucher.proposalKey.keyId,\n      voucher.proposalKey.sequenceNum,\n      addressBuffer(sansPrefix(voucher.payer)),\n      voucher.authorizers.map(authorizer =>\n        addressBuffer(sansPrefix(authorizer))\n      ),\n    ],\n    prepareSigs(voucher.payloadSigs),\n    prepareSigs(voucher.envelopeSigs),\n  ]\n}\n\nconst validatePayload = tx => {\n  payloadFields.forEach(field => checkField(tx, field))\n  proposalKeyFields.forEach(field =>\n    checkField(tx.proposalKey, field, \"proposalKey\")\n  )\n}\n\nconst validateEnvelope = tx => {\n  payloadSigsFields.forEach(field => checkField(tx, field))\n  tx.payloadSigs.forEach((sig, index) => {\n    payloadSigFields.forEach(field =>\n      checkField(sig, field, \"payloadSigs\", index)\n    )\n  })\n}\n\nconst validateVoucher = voucher => {\n  payloadFields.forEach(field => checkField(voucher, field))\n  proposalKeyFields.forEach(field =>\n    checkField(voucher.proposalKey, field, \"proposalKey\")\n  )\n  payloadSigsFields.forEach(field => checkField(voucher, field))\n  voucher.payloadSigs.forEach((sig, index) => {\n    payloadSigFields.forEach(field =>\n      checkField(sig, field, \"payloadSigs\", index)\n    )\n  })\n  envelopeSigsFields.forEach(field => checkField(voucher, field))\n  voucher.envelopeSigs.forEach((sig, index) => {\n    envelopeSigFields.forEach(field =>\n      checkField(sig, field, \"envelopeSigs\", index)\n    )\n  })\n}\n\nconst isNumber = v => typeof v === \"number\"\nconst isString = v => typeof v === \"string\"\nconst isObject = v => v !== null && typeof v === \"object\"\nconst isArray = v => isObject(v) && v instanceof Array\n\nconst payloadFields = [\n  {name: \"cadence\", check: isString},\n  {name: \"arguments\", check: isArray},\n  {name: \"refBlock\", check: isString, defaultVal: \"0\"},\n  {name: \"computeLimit\", check: isNumber},\n  {name: \"proposalKey\", check: isObject},\n  {name: \"payer\", check: isString},\n  {name: \"authorizers\", check: isArray},\n]\n\nconst proposalKeyFields = [\n  {name: \"address\", check: isString},\n  {name: \"keyId\", check: isNumber},\n  {name: \"sequenceNum\", check: isNumber},\n]\n\nconst payloadSigsFields = [{name: \"payloadSigs\", check: isArray}]\n\nconst payloadSigFields = [\n  {name: \"address\", check: isString},\n  {name: \"keyId\", check: isNumber},\n  {name: \"sig\", check: isString},\n]\n\nconst envelopeSigsFields = [{name: \"envelopeSigs\", check: isArray}]\n\nconst envelopeSigFields = [\n  {name: \"address\", check: isString},\n  {name: \"keyId\", check: isNumber},\n  {name: \"sig\", check: isString},\n]\n\nconst checkField = (obj, field, base, index) => {\n  const {name, check, defaultVal} = field\n  if (obj[name] == null && defaultVal != null) obj[name] = defaultVal\n  if (obj[name] == null) throw missingFieldError(name, base, index)\n  if (!check(obj[name])) throw invalidFieldError(name, base, index)\n}\n\nconst printFieldName = (field, base, index) => {\n  if (!!base)\n    return index == null ? `${base}.${field}` : `${base}.${index}.${field}`\n  return field\n}\n\nconst missingFieldError = (field, base, index) =>\n  new Error(`Missing field ${printFieldName(field, base, index)}`)\nconst invalidFieldError = (field, base, index) =>\n  new Error(`Invalid field ${printFieldName(field, base, index)}`)\n","import {withPrefix} from \"@onflow/util-address\"\nimport {encodeTxIdFromVoucher} from \"../encode/encode.js\"\n\nexport function findInsideSigners(ix) {\n  // Inside Signers Are: (authorizers + proposer) - payer\n  let inside = new Set(ix.authorizations)\n  inside.add(ix.proposer)\n  if (Array.isArray(ix.payer)) {\n    ix.payer.forEach(p => inside.delete(p))\n  } else {\n    inside.delete(ix.payer)\n  }\n  return Array.from(inside)\n}\n\nexport function findOutsideSigners(ix) {\n  // Outside Signers Are: (payer)\n  let outside = new Set(Array.isArray(ix.payer) ? ix.payer : [ix.payer])\n  return Array.from(outside)\n}\n\nexport const createSignableVoucher = ix => {\n  const buildAuthorizers = () => {\n    const authorizations = ix.authorizations\n      .map(cid => withPrefix(ix.accounts[cid].addr))\n      .reduce((prev, current) => {\n        return prev.find(item => item === current) ? prev : [...prev, current]\n      }, [])\n    return authorizations[0] ? authorizations : []\n  }\n\n  const buildInsideSigners = () =>\n    findInsideSigners(ix).map(id => ({\n      address: withPrefix(ix.accounts[id].addr),\n      keyId: ix.accounts[id].keyId,\n      sig: ix.accounts[id].signature,\n    }))\n\n  const buildOutsideSigners = () =>\n    findOutsideSigners(ix).map(id => ({\n      address: withPrefix(ix.accounts[id].addr),\n      keyId: ix.accounts[id].keyId,\n      sig: ix.accounts[id].signature,\n    }))\n\n  return {\n    cadence: ix.message.cadence,\n    refBlock: ix.message.refBlock || null,\n    computeLimit: ix.message.computeLimit,\n    arguments: ix.message.arguments.map(id => ix.arguments[id].asArgument),\n    proposalKey: {\n      address: withPrefix(ix.accounts[ix.proposer].addr),\n      keyId: ix.accounts[ix.proposer].keyId,\n      sequenceNum: ix.accounts[ix.proposer].sequenceNum,\n    },\n    payer: withPrefix(\n      ix.accounts[Array.isArray(ix.payer) ? ix.payer[0] : ix.payer].addr\n    ),\n    authorizers: buildAuthorizers(),\n    payloadSigs: buildInsideSigners(),\n    envelopeSigs: buildOutsideSigners(),\n  }\n}\n\nexport const voucherToTxId = voucher => {\n  return encodeTxIdFromVoucher(voucher)\n}\n","import {sansPrefix, withPrefix} from \"@onflow/util-address\"\nimport {invariant} from \"@onflow/util-invariant\"\nimport {log} from \"@onflow/util-logger\"\nimport {isTransaction} from \"../interaction/interaction.js\"\nimport {createSignableVoucher} from \"./voucher.js\"\nimport {v4 as uuidv4} from \"uuid\"\n\nconst MAX_DEPTH_LIMIT = 5\n\nconst idof = acct => `${withPrefix(acct.addr)}-${acct.keyId}`\nconst isFn = v =>\n  v &&\n  (Object.prototype.toString.call(v) === \"[object Function]\" ||\n    \"function\" === typeof v ||\n    v instanceof Function)\n\nconst genAccountId = (...ids) => ids.join(\"-\")\n\nconst ROLES = {\n  PAYER: \"payer\",\n  PROPOSER: \"proposer\",\n  AUTHORIZATIONS: \"authorizations\",\n}\n\nfunction debug() {\n  const SPACE = \" \"\n  const SPACE_COUNT_PER_INDENT = 4\n  const DEBUG_MESSAGE = []\n  return [\n    function (msg, indent = 0) {\n      DEBUG_MESSAGE.push(\n        Array(indent * SPACE_COUNT_PER_INDENT)\n          .fill(SPACE)\n          .join(\"-\") + msg\n      )\n    },\n    function () {\n      return DEBUG_MESSAGE.reduce((prev, curr) => prev + \"\\n\" + curr)\n    },\n  ]\n}\n\nfunction recurseFlatMap(el, depthLimit = 3) {\n  if (depthLimit <= 0) return el\n  if (!Array.isArray(el)) return el\n  return recurseFlatMap(\n    el.flatMap(e => e),\n    depthLimit - 1\n  )\n}\n\nexport function buildPreSignable(acct, ix) {\n  try {\n    return {\n      f_type: \"PreSignable\",\n      f_vsn: \"1.0.1\",\n      roles: acct.role,\n      cadence: ix.message.cadence,\n      args: ix.message.arguments.map(d => ix.arguments[d].asArgument),\n      data: {},\n      interaction: ix,\n      voucher: createSignableVoucher(ix),\n    }\n  } catch (error) {\n    console.error(\"buildPreSignable\", error)\n    throw error\n  }\n}\n\nasync function removeUnusedIxAccounts(ix) {\n  const payerTempIds = Array.isArray(ix.payer) ? ix.payer : [ix.payer]\n  const authorizersTempIds = Array.isArray(ix.authorizations)\n    ? ix.authorizations\n    : [ix.authorizations]\n  const proposerTempIds = Array.isArray(ix.proposer)\n    ? ix.proposer\n    : [ix.proposer]\n\n  const ixAccountKeys = Object.keys(ix.accounts)\n  const uniqueTempIds = [\n    ...new Set(payerTempIds.concat(authorizersTempIds, proposerTempIds)),\n  ]\n\n  for (const ixAccountKey of ixAccountKeys) {\n    if (!uniqueTempIds.find(id => id === ixAccountKey)) {\n      delete ix.accounts[ixAccountKey]\n    }\n  }\n}\n\nfunction addAccountToIx(ix, newAccount) {\n  if (\n    typeof newAccount.addr === \"string\" &&\n    (typeof newAccount.keyId === \"number\" ||\n      typeof newAccount.keyId === \"string\")\n  ) {\n    newAccount.tempId = idof(newAccount)\n  } else {\n    newAccount.tempId = newAccount.tempId || uuidv4()\n  }\n\n  const existingAccount = ix.accounts[newAccount.tempId] || newAccount\n\n  if (!ix.accounts[newAccount.tempId]) {\n    ix.accounts[newAccount.tempId] = newAccount\n  }\n\n  ix.accounts[newAccount.tempId].role.proposer =\n    existingAccount.role.proposer || newAccount.role.proposer\n  ix.accounts[newAccount.tempId].role.payer =\n    existingAccount.role.payer || newAccount.role.payer\n  ix.accounts[newAccount.tempId].role.authorizer =\n    existingAccount.role.authorizer || newAccount.role.authorizer\n\n  return ix.accounts[newAccount.tempId]\n}\n\nfunction uniqueAccountsFlatMap(accounts) {\n  const flatMapped = recurseFlatMap(accounts)\n  const seen = new Set()\n\n  const uniqueAccountsFlatMapped = flatMapped\n    .map(account => {\n      const accountId = genAccountId(\n        account.tempId,\n        account.role.payer,\n        account.role.proposer,\n        account.role.authorizer,\n        account.role.param\n      )\n      if (seen.has(accountId)) return null\n      seen.add(accountId)\n      return account\n    })\n    .filter(e => e !== null)\n\n  return uniqueAccountsFlatMapped\n}\n\nasync function recurseResolveAccount(\n  ix,\n  currentAccountTempId,\n  depthLimit = MAX_DEPTH_LIMIT,\n  {debugLogger}\n) {\n  if (depthLimit <= 0) {\n    throw new Error(\n      `recurseResolveAccount Error: Depth limit (${MAX_DEPTH_LIMIT}) reached. Ensure your authorization functions resolve to an account after ${MAX_DEPTH_LIMIT} resolves.`\n    )\n  }\n\n  let account = ix.accounts[currentAccountTempId]\n\n  if (!account) return null\n\n  debugLogger(\n    `account: ${account.tempId}`,\n    Math.max(MAX_DEPTH_LIMIT - depthLimit, 0)\n  )\n\n  if (account?.resolve) {\n    if (isFn(account?.resolve)) {\n      debugLogger(\n        `account: ${account.tempId} -- cache MISS`,\n        Math.max(MAX_DEPTH_LIMIT - depthLimit, 0)\n      )\n\n      const {resolve, ...accountWithoutResolve} = account\n\n      let resolvedAccounts = await resolve(\n        accountWithoutResolve,\n        buildPreSignable(accountWithoutResolve, ix)\n      )\n\n      resolvedAccounts = Array.isArray(resolvedAccounts)\n        ? resolvedAccounts\n        : [resolvedAccounts]\n\n      let flatResolvedAccounts = recurseFlatMap(resolvedAccounts)\n\n      flatResolvedAccounts = flatResolvedAccounts.map(flatResolvedAccount =>\n        addAccountToIx(ix, flatResolvedAccount)\n      )\n\n      account.resolve = flatResolvedAccounts.map(\n        flatResolvedAccount => flatResolvedAccount.tempId\n      )\n\n      account = addAccountToIx(ix, account)\n\n      const recursedAccounts = await Promise.all(\n        flatResolvedAccounts.map(async resolvedAccount => {\n          return await recurseResolveAccount(\n            ix,\n            resolvedAccount.tempId,\n            depthLimit - 1,\n            {debugLogger}\n          )\n        })\n      )\n\n      return recursedAccounts\n        ? recurseFlatMap(recursedAccounts)\n        : account.tempId\n    } else {\n      debugLogger(\n        `account: ${account.tempId} -- cache HIT`,\n        Math.max(MAX_DEPTH_LIMIT - depthLimit, 0)\n      )\n\n      return account.resolve\n    }\n  }\n  return account.tempId\n}\n\nasync function resolveAccountType(ix, type, {debugLogger}) {\n  invariant(\n    ix && typeof ix === \"object\",\n    \"resolveAccountType Error: ix not defined\"\n  )\n  invariant(\n    type === ROLES.PAYER ||\n      type === ROLES.PROPOSER ||\n      type === ROLES.AUTHORIZATIONS,\n    \"resolveAccountType Error: type must be 'payer', 'proposer' or 'authorizations'\"\n  )\n\n  let accountTempIDs = Array.isArray(ix[type]) ? ix[type] : [ix[type]]\n\n  let allResolvedAccounts = []\n  for (let accountId of accountTempIDs) {\n    let account = ix.accounts[accountId]\n    invariant(account, `resolveAccountType Error: account not found`)\n\n    let resolvedAccountTempIds = await recurseResolveAccount(\n      ix,\n      accountId,\n      MAX_DEPTH_LIMIT,\n      {\n        debugLogger,\n      }\n    )\n\n    resolvedAccountTempIds = Array.isArray(resolvedAccountTempIds)\n      ? resolvedAccountTempIds\n      : [resolvedAccountTempIds]\n\n    let resolvedAccounts = resolvedAccountTempIds.map(\n      resolvedAccountTempId => ix.accounts[resolvedAccountTempId]\n    )\n\n    let flatResolvedAccounts = uniqueAccountsFlatMap(resolvedAccounts)\n\n    allResolvedAccounts = allResolvedAccounts.concat(flatResolvedAccounts)\n  }\n\n  invariant(\n    allResolvedAccounts.length > 0,\n    \"resolveAccountType Error: failed to resolve any accounts\"\n  )\n\n  if (type === ROLES.PAYER) {\n    allResolvedAccounts = allResolvedAccounts.filter(\n      acct => acct.role.payer === true\n    )\n  }\n  if (type === ROLES.PROPOSER) {\n    allResolvedAccounts = allResolvedAccounts.filter(\n      acct => acct.role.proposer === true\n    )\n  }\n  if (type === ROLES.AUTHORIZATIONS) {\n    allResolvedAccounts = allResolvedAccounts.filter(\n      acct => acct.role.authorizer === true\n    )\n  }\n\n  ix[type] = Array.isArray(ix[type])\n    ? [...new Set(allResolvedAccounts.map(acct => acct.tempId))]\n    : allResolvedAccounts[0].tempId\n\n  // Ensure all payers are of the same account\n  if (type === ROLES.PAYER) {\n    let address\n    for (const payerTempID of ix[ROLES.PAYER]) {\n      let pAcct = ix.accounts[payerTempID]\n      if (!address) address = pAcct.addr\n      else if (address !== pAcct.addr) {\n        throw new Error(\n          \"resolveAccountType Error: payers from different accounts detected\"\n        )\n      }\n    }\n  }\n}\n\nexport async function resolveAccounts(ix, opts = {}) {\n  if (isTransaction(ix)) {\n    if (!Array.isArray(ix.payer)) {\n      log.deprecate({\n        pkg: \"FCL\",\n        subject:\n          '\"ix.payer\" must be an array. Support for ix.payer as a singular',\n        message: \"See changelog for more info.\",\n      })\n    }\n    let [debugLogger, getDebugMessage] = debug()\n    try {\n      await resolveAccountType(ix, ROLES.PROPOSER, {debugLogger})\n      await resolveAccountType(ix, ROLES.AUTHORIZATIONS, {debugLogger})\n      await resolveAccountType(ix, ROLES.PAYER, {debugLogger})\n\n      await removeUnusedIxAccounts(ix, {debugLogger})\n\n      if (opts.enableDebug) {\n        console.debug(getDebugMessage())\n      }\n    } catch (error) {\n      console.error(\"=== SAD PANDA ===\\n\\n\", error, \"\\n\\n=== SAD PANDA ===\")\n      throw error\n    }\n  }\n  return ix\n}\n","import {isTransaction} from \"../interaction/interaction.js\"\nimport {sansPrefix} from \"@onflow/util-address\"\nimport {\n  encodeTransactionPayload as encodeInsideMessage,\n  encodeTransactionEnvelope as encodeOutsideMessage,\n} from \"../encode/encode.js\"\nimport {\n  createSignableVoucher,\n  findInsideSigners,\n  findOutsideSigners,\n} from \"./voucher.js\"\n\nexport async function resolveSignatures(ix) {\n  if (isTransaction(ix)) {\n    try {\n      let insideSigners = findInsideSigners(ix)\n      const insidePayload = encodeInsideMessage(prepForEncoding(ix))\n      \n      // Promise.all could potentially break the flow if there are multiple inside signers trying to resolve at the same time\n      // causing multiple triggers of authz function that tries to render multiple auth iiframes/tabs/extensions\n      // as an alternative, use this:\n      // for(const insideSigner of insideSigners) {\n      //   await fetchSignature(ix, insidePayload)(insideSigner);\n      // }\n      await Promise.all(insideSigners.map(fetchSignature(ix, insidePayload)))\n\n      let outsideSigners = findOutsideSigners(ix)\n      const outsidePayload = encodeOutsideMessage({\n        ...prepForEncoding(ix),\n        payloadSigs: insideSigners.map(id => ({\n          address: ix.accounts[id].addr,\n          keyId: ix.accounts[id].keyId,\n          sig: ix.accounts[id].signature,\n        })),\n      })\n\n      // Promise.all could potentially break the flow if there are multiple outside signers trying to resolve at the same time\n      // causing multiple triggers of authz function that tries to render multiple auth iframes/tabs/extensions\n      // as an alternative, use this:\n      // for(const outsideSigner of outsideSigners) {\n      //   await fetchSignature(ix, outsidePayload)(outsideSigner);\n      // }\n      await Promise.all(outsideSigners.map(fetchSignature(ix, outsidePayload)))\n    } catch (error) {\n      console.error(\"Signatures\", error, {ix})\n      throw error\n    }\n  }\n  return ix\n}\n\nfunction fetchSignature(ix, payload) {\n  return async function innerFetchSignature(id) {\n    const acct = ix.accounts[id]\n    if (acct.signature != null && acct.signature !== undefined) return\n    const {signature} = await acct.signingFunction(\n      buildSignable(acct, payload, ix)\n    )\n    ix.accounts[id].signature = signature\n  }\n}\n\nexport function buildSignable(acct, message, ix) {\n  try {\n    return {\n      f_type: \"Signable\",\n      f_vsn: \"1.0.1\",\n      message,\n      addr: sansPrefix(acct.addr),\n      keyId: acct.keyId,\n      roles: acct.role,\n      cadence: ix.message.cadence,\n      args: ix.message.arguments.map(d => ix.arguments[d].asArgument),\n      data: {},\n      interaction: ix,\n      voucher: createSignableVoucher(ix),\n    }\n  } catch (error) {\n    console.error(\"buildSignable\", error)\n    throw error\n  }\n}\n\nfunction prepForEncoding(ix) {\n  const payerAddress = sansPrefix(\n    (Array.isArray(ix.payer) ? ix.accounts[ix.payer[0]] : ix.accounts[ix.payer])\n      .addr\n  )\n  return {\n    cadence: ix.message.cadence,\n    refBlock: ix.message.refBlock || null,\n    computeLimit: ix.message.computeLimit,\n    arguments: ix.message.arguments.map(id => ix.arguments[id].asArgument),\n    proposalKey: {\n      address: sansPrefix(ix.accounts[ix.proposer].addr),\n      keyId: ix.accounts[ix.proposer].keyId,\n      sequenceNum: ix.accounts[ix.proposer].sequenceNum,\n    },\n    payer: payerAddress,\n    authorizers: ix.authorizations\n      .map(cid => sansPrefix(ix.accounts[cid].addr))\n      .reduce((prev, current) => {\n        return prev.find(item => item === current) ? prev : [...prev, current]\n      }, []),\n  }\n}\n","import {get, pipe, Ok, Bad} from \"../interaction/interaction.js\"\n\nexport async function resolveValidators(ix) {\n  const validators = get(ix, \"ix.validators\", [])\n  return pipe(\n    ix,\n    validators.map(cb => ix => cb(ix, {Ok, Bad}))\n  )\n}\n","import {sansPrefix} from \"@onflow/util-address\"\n\nexport async function resolveFinalNormalization(ix) {\n  for (let key of Object.keys(ix.accounts)) {\n    ix.accounts[key].addr = sansPrefix(ix.accounts[key].addr)\n  }\n  return ix\n}\n","import {get, isFn} from \"../interaction/interaction.js\"\nimport {createSignableVoucher} from \"./voucher.js\"\n\nexport async function resolveVoucherIntercept(ix) {\n  const fn = get(ix, \"ix.voucher-intercept\")\n  if (isFn(fn)) {\n    await fn(createSignableVoucher(ix))\n  }\n  return ix\n}\n","import {isTransaction} from \"../interaction/interaction.js\"\nimport {config} from \"@onflow/config\"\nimport * as logger from \"@onflow/util-logger\"\n\nconst DEFAULT_COMPUTE_LIMIT = 100\n\nexport async function resolveComputeLimit(ix) {\n  if (isTransaction(ix)) {\n    ix.message.computeLimit =\n      ix.message.computeLimit || (await config.get(\"fcl.limit\"))\n\n    if (!ix.message.computeLimit) {\n      logger.log.deprecate({\n        pkg: \"FCL/SDK\",\n        subject:\n          \"The built-in default compute limit (DEFAULT_COMPUTE_LIMIT=10)\",\n        transition:\n          \"https://github.com/onflow/flow-js-sdk/blob/master/packages/sdk/TRANSITIONS.md#0009-deprecate-default-compute-limit\",\n      })\n      ix.message.computeLimit = DEFAULT_COMPUTE_LIMIT\n    }\n  }\n  return ix\n}\n","import {pipe, isTransaction} from \"../interaction/interaction.js\"\nimport {config} from \"@onflow/config\"\nimport {invariant} from \"@onflow/util-invariant\"\nimport {Buffer} from \"@onflow/rlp\"\nimport {send as defaultSend} from \"@onflow/transport-http\"\nimport * as ixModule from \"../interaction/interaction.js\"\nimport {response} from \"../response/response.js\"\nimport {build} from \"../build/build.js\"\nimport {getBlock} from \"../build/build-get-block.js\"\nimport {getAccount} from \"../build/build-get-account.js\"\nimport {decodeResponse as decode} from \"../decode/decode.js\"\n\nimport {resolveCadence} from \"./resolve-cadence.js\"\nimport {resolveArguments} from \"./resolve-arguments.js\"\nimport {resolveAccounts} from \"./resolve-accounts.js\"\nimport {resolveSignatures} from \"./resolve-signatures.js\"\nimport {resolveValidators} from \"./resolve-validators.js\"\nimport {resolveFinalNormalization} from \"./resolve-final-normalization.js\"\nimport {resolveVoucherIntercept} from \"./resolve-voucher-intercept.js\"\nimport {resolveComputeLimit} from \"./resolve-compute-limit.js\"\n\nconst noop = v => v\nconst debug =\n  (key, fn = noop) =>\n  async ix => {\n    const take = (obj, keys = []) => {\n      if (typeof keys === \"string\") keys = keys.split(\" \")\n      keys.reduce((acc, key) => ({...acc, [key]: obj[key]}), {})\n    }\n\n    const accts = ix =>\n      [\n        \"\\nAccounts:\",\n        {\n          proposer: ix.proposer,\n          authorizations: ix.authorizations,\n          payer: ix.payer,\n        },\n        \"\\n\\nDetails:\",\n        ix.accounts,\n      ].filter(Boolean)\n\n    const log = (...msg) => {\n      console.log(`debug[${key}] ---\\n`, ...msg, \"\\n\\n\\n---\")\n    }\n\n    if (await config.get(`debug.${key}`)) await fn(ix, log, accts)\n    return ix\n  }\n\nexport const resolve = pipe([\n  resolveCadence,\n  debug(\"cadence\", (ix, log) => log(ix.message.cadence)),\n  resolveComputeLimit,\n  debug(\"compute limit\", (ix, log) => log(ix.message.computeLimit)),\n  resolveArguments,\n  debug(\"arguments\", (ix, log) => log(ix.message.arguments, ix.message)),\n  resolveAccounts,\n  debug(\"accounts\", (ix, log, accts) => log(...accts(ix))),\n  /* special */ execFetchRef,\n  /* special */ execFetchSequenceNumber,\n  resolveSignatures,\n  debug(\"signatures\", (ix, log, accts) => log(...accts(ix))),\n  resolveFinalNormalization,\n  resolveValidators,\n  resolveVoucherIntercept,\n  debug(\"resolved\", (ix, log) => log(ix)),\n])\n\nasync function execFetchRef(ix) {\n  if (isTransaction(ix) && ix.message.refBlock == null) {\n    const node = await config().get(\"accessNode.api\")\n    const sendFn = await config.first(\n      [\"sdk.transport\", \"sdk.send\"],\n      defaultSend\n    )\n\n    invariant(\n      sendFn,\n      `Required value for sdk.transport is not defined in config. See: ${\"https://github.com/onflow/fcl-js/blob/master/packages/sdk/CHANGELOG.md#0057-alpha1----2022-01-21\"}`\n    )\n\n    ix.message.refBlock = (\n      await sendFn(\n        build([getBlock()]),\n        {config, response, Buffer, ix: ixModule},\n        {node}\n      ).then(decode)\n    ).id\n  }\n  return ix\n}\n\nasync function execFetchSequenceNumber(ix) {\n  if (isTransaction(ix)) {\n    var acct = Object.values(ix.accounts).find(a => a.role.proposer)\n    invariant(acct, `Transactions require a proposer`)\n    if (acct.sequenceNum == null) {\n      const node = await config().get(\"accessNode.api\")\n      const sendFn = await config.first(\n        [\"sdk.transport\", \"sdk.send\"],\n        defaultSend\n      )\n\n      invariant(\n        sendFn,\n        `Required value for sdk.transport is not defined in config. See: ${\"https://github.com/onflow/fcl-js/blob/master/packages/sdk/CHANGELOG.md#0057-alpha1----2022-01-21\"}`\n      )\n\n      ix.accounts[acct.tempId].sequenceNum = await sendFn(\n        await build([getAccount(acct.addr)]),\n        {config, response, Buffer, ix: ixModule},\n        {node}\n      )\n        .then(decode)\n        .then(acct => acct.keys)\n        .then(keys => keys.find(key => key.index === acct.keyId))\n        .then(key => key.sequenceNumber)\n    }\n  }\n  return ix\n}","import {Ok, Bad} from \"../interaction/interaction.js\"\n\nexport function invariant(...args) {\n  if (args.length > 1) {\n    const [predicate, message] = args\n    return invariant((ix, {Ok, Bad}) => {\n      return predicate ? Ok(ix) : Bad(ix, message)\n    })\n  }\n  const [fn] = args\n  return ix => fn(ix, {Ok, Bad})\n}\n","import {Buffer} from \"@onflow/rlp\"\nimport {send as defaultSend} from \"@onflow/transport-http\"\nimport {interaction, pipe} from \"../interaction/interaction.js\"\nimport * as ixModule from \"../interaction/interaction.js\"\nimport {invariant} from \"../build/build-invariant.js\"\nimport {response} from \"../response/response.js\"\nimport {config} from \"@onflow/config\"\nimport {resolve as defaultResolve} from \"../resolve/resolve.js\"\n\n/**\n * @description - Sends arbitrary scripts, transactions, and requests to Flow\n * @param {Array.<Function>} args - An array of functions that take interaction and return interaction\n * @param {object} opts - Optional parameters\n * @returns {Promise<*>} - A promise that resolves to a response\n */\nexport const send = async (args = [], opts = {}) => {\n  const sendFn = await config.first(\n    [\"sdk.transport\", \"sdk.send\"],\n    opts.send || defaultSend\n  )\n\n  invariant(\n    sendFn,\n    `Required value for sdk.transport is not defined in config. See: ${\"https://github.com/onflow/fcl-js/blob/master/packages/sdk/CHANGELOG.md#0057-alpha1----2022-01-21\"}`\n  )\n\n  const resolveFn = await config.first(\n    [\"sdk.resolve\"],\n    opts.resolve || defaultResolve\n  )\n\n  opts.node = opts.node || (await config().get(\"accessNode.api\"))\n\n  if (Array.isArray(args)) args = pipe(interaction(), args)\n  return sendFn(\n    await resolveFn(args),\n    {config, response, ix: ixModule, Buffer},\n    opts\n  )\n}\n","import {decodeResponse} from \"./decode.js\"\nimport {config} from \"@onflow/config\"\n\nexport async function decode(response) {\n  const decodersFromConfig = await config().where(/^decoder\\./)\n  const decoders = Object.entries(decodersFromConfig).map(\n    ([pattern, xform]) => {\n      pattern = `/${pattern.replace(/^decoder\\./, \"\")}$/`\n      return [pattern, xform]\n    }\n  )\n\n  return decodeResponse(response, Object.fromEntries(decoders))\n}\n","import {withPrefix, sansPrefix} from \"@onflow/util-address\"\nimport {\n  encodeTransactionPayload,\n  encodeTransactionEnvelope,\n} from \"../encode/encode.js\"\n\nconst findPayloadSigners = voucher => {\n  // Payload Signers Are: (authorizers + proposer) - payer\n  let payload = new Set(voucher.authorizers)\n  payload.add(voucher.proposalKey.address)\n  payload.delete(voucher.payer)\n  return Array.from(payload).map(withPrefix)\n}\n\nconst findEnvelopeSigners = voucher => {\n  // Envelope Signers Are: (payer)\n  let envelope = new Set([voucher.payer])\n  return Array.from(envelope).map(withPrefix)\n}\n\nexport class UnableToDetermineMessageEncodingTypeForSignerAddress extends Error {\n  constructor(signerAddress) {\n    const msg = `\n        Encode Message From Signable Error: Unable to determine message encoding for signer addresss: ${signerAddress}. \n        Please ensure the address: ${signerAddress} is intended to sign the given transaction as specified by the transaction signable.\n      `.trim()\n    super(msg)\n    this.name = \"Unable To Determine Message Encoding For Signer Addresss\"\n  }\n}\n\nexport const encodeMessageFromSignable = (signable, signerAddress) => {\n  let payloadSigners = findPayloadSigners(signable.voucher)\n  let envelopeSigners = findEnvelopeSigners(signable.voucher)\n\n  const isPayloadSigner = payloadSigners.includes(withPrefix(signerAddress))\n  const isEnvelopeSigner = envelopeSigners.includes(withPrefix(signerAddress))\n\n  if (!isPayloadSigner && !isEnvelopeSigner) {\n    throw new UnableToDetermineMessageEncodingTypeForSignerAddress(\n      signerAddress\n    )\n  }\n\n  const message = {\n    cadence: signable.voucher.cadence,\n    refBlock: signable.voucher.refBlock,\n    computeLimit: signable.voucher.computeLimit,\n    arguments: signable.voucher.arguments,\n    proposalKey: {\n      ...signable.voucher.proposalKey,\n      address: sansPrefix(signable.voucher.proposalKey.address),\n    },\n    payer: sansPrefix(signable.voucher.payer),\n    authorizers: signable.voucher.authorizers.map(sansPrefix),\n    payloadSigs: signable.voucher.payloadSigs.map(ps => ({\n      ...ps,\n      address: sansPrefix(ps.address),\n    })),\n  }\n\n  return isPayloadSigner\n    ? encodeTransactionPayload(message)\n    : encodeTransactionEnvelope(message)\n}\n","import {update} from \"../interaction/interaction.js\"\n\nexport function validator(cb) {\n  return update(\"ix.validators\", validators =>\n    Array.isArray(validators) ? validators.push(cb) : [cb]\n  )\n}\n","import {pipe} from \"../interaction/interaction.js\"\nimport {validator} from \"./build-validator.js\"\n\n/**\n * @description - A builder function that returns a partial interaction to a block at a specific height\n * @param {number} height - The height of the block to get\n * @returns {Function} - A partial interaction object\n */\nexport function atBlockHeight(height) {\n  return pipe([\n    ix => {\n      ix.block.height = height\n      return ix\n    },\n    validator(ix => {\n      if (typeof ix.block.isSealed === \"boolean\")\n        throw new Error(\"Unable to specify both block height and isSealed.\")\n      if (ix.block.id)\n        throw new Error(\"Unable to specify both block height and block id.\")\n      return ix\n    }),\n  ])\n}\n","import {isGetAccount, pipe, Ok} from \"../interaction/interaction.js\"\nimport {validator} from \"./build-validator.js\"\n\nexport function atBlockId(id) {\n  return pipe([\n    ix => {\n      ix.block.id = id\n      return Ok(ix)\n    },\n    validator((ix, {Ok, Bad}) => {\n      if (isGetAccount(ix))\n        return Bad(\n          ix,\n          \"Unable to specify a block id with a Get Account interaction.\"\n        )\n      if (typeof ix.block.isSealed === \"boolean\")\n        return Bad(ix, \"Unable to specify both block id and isSealed.\")\n      if (ix.block.height)\n        return Bad(ix, \"Unable to specify both block id and block height.\")\n      return Ok(ix)\n    }),\n  ])\n}\n","import {atBlockHeight} from \"../build/build-at-block-height.js\"\nimport {atBlockId} from \"../build/build-at-block-id.js\"\nimport {getAccount} from \"../build/build-get-account.js\"\nimport {invariant} from \"@onflow/util-invariant\"\nimport {decodeResponse as decode} from \"../decode/decode.js\"\nimport {send} from \"../send/send.js\"\n\n/**\n * @typedef {import(\"@onflow/typedefs\").Account} Account\n */\n\n/**\n * @description  Returns the details of an account from their public address\n * @param {string} address - Address of the account\n * @param {object} [queryOptions] - Query parameters\n * @param {number} [queryOptions.height] - Block height to query\n * @param {string} [queryOptions.id] - Block ID to query\n * @param {object} [opts] - Optional parameters\n * @returns {Promise<Account>} - A promise that resolves to an account response\n */\nexport function account(address, {height, id} = {}, opts) {\n  invariant(\n    !(id && height),\n    `Method: account -- Cannot pass \"id\" and \"height\" simultaneously`\n  )\n\n  // Get account by ID\n  if (id) return send([getAccount(address), atBlockId(id)], opts).then(decode)\n\n  // Get account by height\n  if (height)\n    return send([getAccount(address), atBlockHeight(height)], opts).then(decode)\n\n  return send([getAccount(address)], opts).then(decode)\n}\n","import {send} from \"../send/send.js\"\nimport {getBlock} from \"../build/build-get-block\"\nimport {atBlockHeight} from \"../build/build-at-block-height.js\"\nimport {atBlockId} from \"../build/build-at-block-id.js\"\nimport {decodeResponse as decode} from \"../decode/decode.js\"\nimport {invariant} from \"@onflow/util-invariant\"\n\n/**\n * @typedef {import(\"@onflow/typedefs\").Block} Block\n */\n\n/**\n * @description Returns the latest block (optionally sealed or not), by id, or by height\n * @param {object} [queryOptions] - Query parameters\n * @param {boolean} [queryOptions.sealed=false] - Whether to query for a sealed block\n * @param {number} [queryOptions.height] - Block height to query\n * @param {string} [queryOptions.id] - Block ID to query\n * @param {object} [opts] - Optional parameters\n * @returns {Promise<Block>} - A promise that resolves to a block response\n */\nexport function block({sealed = false, id, height} = {}, opts = {}) {\n  invariant(\n    !((sealed && id) || (sealed && height)),\n    `Method: block -- Cannot pass \"sealed\" with \"id\" or \"height\"`\n  )\n\n  invariant(\n    !(id && height),\n    `Method: block -- Cannot pass \"id\" and \"height\" simultaneously`\n  )\n\n  // Get block by ID\n  if (id) return send([getBlock(), atBlockId(id)], opts).then(decode)\n\n  // Get block by height\n  if (height)\n    return send([getBlock(), atBlockHeight(height)], opts).then(decode)\n\n  // Get latest block\n  return send([getBlock(sealed)], opts).then(decode)\n}\n","import {pipe, prepAccount, AUTHORIZER} from \"../interaction/interaction.js\"\n\nexport function authorizations(ax = []) {\n  return pipe(\n    ax.map(authz => {\n      return prepAccount(authz, {role: AUTHORIZER})\n    })\n  )\n}\n\nexport function authorization(addr, signingFunction, keyId, sequenceNum) {\n  return {addr, signingFunction, keyId, sequenceNum}\n}\n","import {pipe, Ok, makeGetEvents} from \"../interaction/interaction.js\"\nimport * as logger from \"@onflow/util-logger\"\n\nexport function getEvents(eventType, start, end) {\n  if (typeof start !== \"undefined\" || typeof end !== \"undefined\") {\n    logger.log.deprecate({\n      pkg: \"FCL/SDK\",\n      subject: \"Passing a start and end into getEvents\",\n      transition:\n        \"https://github.com/onflow/flow-js-sdk/blob/master/packages/sdk/TRANSITIONS.md#0005-deprecate-start-end-get-events-builder\",\n    })\n  }\n\n  return pipe([\n    makeGetEvents,\n    ix => {\n      ix.events.eventType = eventType\n      ix.events.start = start\n      ix.events.end = end\n      return Ok(ix)\n    },\n  ])\n}\n","import {pipe, Ok, makeGetEvents} from \"../interaction/interaction.js\"\n\n/**\n * @description - A builder function that returns all instances of a particular event (by name) within a height range\n * NOTE:\n * - The block range provided must be from the current spork.\n * - The block range provided must be 250 blocks or lower per request.\n * @param {string} eventName - The name of the event to get\n * @param {number} fromBlockHeight - The height of the block to start looking for events (inclusive)\n * @param {number} toBlockHeight - The height of the block to stop looking for events (inclusive)\n * @returns {Function} - An interaction object\n */\nexport function getEventsAtBlockHeightRange(eventName, fromBlockHeight, toBlockHeight) {\n  return pipe([\n    makeGetEvents,\n    ix => {\n      ix.events.eventType = eventName\n      ix.events.start = fromBlockHeight\n      ix.events.end = toBlockHeight\n      return Ok(ix)\n    },\n  ])\n}\n","import {pipe, Ok, makeGetEvents} from \"../interaction/interaction.js\"\n\n/**\n * @description - A builder function that returns all instances of a particular event (by name) within a set of blocks, specified by block ids\n * NOTE:\n * - The block range provided must be from the current spork.\n * @param {string} eventName - The name of the event to get\n * @param {number[]} blockIds - The ids of the blocks to look for events\n * @returns {Function} - An interaction object\n */\nexport function getEventsAtBlockIds(eventName, blockIds = []) {\n  return pipe([\n    makeGetEvents,\n    ix => {\n      ix.events.eventType = eventName\n      ix.events.blockIds = blockIds\n      return Ok(ix)\n    },\n  ])\n}\n","import {pipe, Ok, makeGetBlockHeader} from \"../interaction/interaction.js\"\n\n/**\n * @description - A builder function that returns the interaction to get a block header\n * @param {boolean} [isSealed] - Whether or not the block should be sealed\n * @returns {Function} - An interaction object\n */\nexport function getBlockHeader(isSealed = null) {\n  return pipe([\n    makeGetBlockHeader,\n    ix => {\n      ix.block.isSealed = isSealed\n      return Ok(ix)\n    },\n  ])\n}\n","import {pipe, makeGetCollection} from \"../interaction/interaction.js\"\n\n/**\n * @description - A builder function that returns all a collection containing a list of transaction ids by its collection id\n * NOTE:\n * - The block range provided must be from the current spork. All events emitted during past sporks is current unavailable.\n * @param {string} [id] - The id of the collection to get\n * @returns {Function} - An interaction object\n */\nexport function getCollection(id = null) {\n  return pipe([\n    makeGetCollection,\n    ix => {\n      ix.collection.id = id\n      return ix\n    },\n  ])\n}\n","import {pipe, Ok, makeGetTransactionStatus} from \"../interaction/interaction.js\"\n\n/**\n * @description - A builder function that returns the status of transaction\n * NOTE: The transactionID provided must be from the current spork.\n * @param {string} transactionId - The id of the transaction to get status\n * @returns {Function} - An interaction object\n */\nexport function getTransactionStatus(transactionId) {\n  return pipe([\n    makeGetTransactionStatus,\n    ix => {\n      ix.transaction.id = transactionId\n      return Ok(ix)\n    },\n  ])\n}\n","import {pipe, Ok, makeGetTransaction} from \"../interaction/interaction.js\"\n\n/**\n * @description - A builder function that returns a transaction\n * NOTE: The transactionID provided must be from the current spork.\n * @param {string} transactionId - The id of the transaction to get\n * @returns {Function} - An interaction object\n */\nexport function getTransaction(transactionId) {\n  return pipe([\n    makeGetTransaction,\n    ix => {\n      ix.transaction.id = transactionId\n      return Ok(ix)\n    },\n  ])\n}\n","import {pipe, Ok, makeGetNetworkParameters} from \"../interaction/interaction.js\"\n\nexport function getNetworkParameters() {\n  return pipe([\n    makeGetNetworkParameters,\n    ix => {\n      return Ok(ix)\n    },\n  ])\n}\n","export function limit(computeLimit) {\n  return ix => {\n    ix.message.computeLimit = computeLimit\n    return ix\n  }\n}\n","import {pipe, makeArgument} from \"../interaction/interaction.js\"\n\n/**\n * @description - A utility builder to be used with other builders to pass in arguments with a value and supported type\n * @param {Array.<*>} ax - An array of arguments\n * @returns {Function} - An interaction object\n */\nexport function args(ax = []) {\n  return pipe(ax.map(makeArgument))\n}\n\n/**\n * @description - A utility builder to be used with fcl.args[...] to create FCL supported arguments for interactions\n * @param {any} value - The value of the argument\n * @param {Function} xform - A function to transform the value\n * @returns {object} - An argument object\n */\nexport function arg(value, xform) {\n  return {value, xform}\n}\n","import {prepAccount, PROPOSER} from \"../interaction/interaction.js\"\n\nexport async function proposer(authz) {\n  return prepAccount(authz, {role: PROPOSER})\n}\n","import {pipe, prepAccount, PAYER} from \"../interaction/interaction.js\"\n\nexport function payer(ax = []) {\n  if (!Array.isArray(ax)) ax = [ax]\n  return pipe(\n    ax.map(authz => {\n      return prepAccount(authz, {role: PAYER})\n    })\n  )\n}\n","import {makePing} from \"../interaction/interaction.js\"\n\nexport function ping() {\n  return makePing\n}\n","import {pipe, Ok} from \"../interaction/interaction.js\"\n\nexport function ref(refBlock) {\n  return pipe([\n    ix => {\n      ix.message.refBlock = refBlock\n      return Ok(ix)\n    },\n  ])\n}\n","import {pipe, Ok, put, makeScript} from \"../interaction/interaction.js\"\nimport {template} from \"@onflow/util-template\"\n\nexport function script(...args) {\n  return pipe([makeScript, put(\"ix.cadence\", template(...args))])\n}\n","import {pipe, put, Ok, makeTransaction} from \"../interaction/interaction.js\"\nimport {template} from \"@onflow/util-template\"\n\nconst DEFAULT_SCRIPT_ACCOUNTS = []\nconst DEFUALT_REF = null\n\n/**\n * @description - A template builder to use a Cadence transaction for an interaction\n * @param {...*} args - The arguments to pass\n * @returns {Function} - An interaction object\n */\nexport function transaction(...args) {\n  return pipe([\n    makeTransaction,\n    put(\"ix.cadence\", template(...args)),\n    ix => {\n      ix.message.refBlock = ix.message.refBlock || DEFUALT_REF\n      ix.authorizations = ix.authorizations || DEFAULT_SCRIPT_ACCOUNTS\n      return Ok(ix)\n    },\n  ])\n}\n","import {put} from \"../interaction/interaction.js\"\n\nexport function voucherIntercept(fn) {\n  return put(\"ix.voucher-intercept\", fn)\n}\n","import {isTransaction, Ok} from \"../interaction/interaction.js\"\nimport * as ixModule from \"../interaction/interaction.js\"\nimport {response as responseModule} from \"../response/response.js\"\nimport {config} from \"@onflow/config\"\nimport {decodeResponse} from \"../decode/decode.js\"\nimport {getAccount} from \"../build/build-get-account.js\"\nimport {build} from \"../build/build.js\"\nimport {invariant} from \"@onflow/util-invariant\"\nimport {Buffer} from \"@onflow/rlp\"\nimport {send as defaultSend} from \"@onflow/transport-http\"\n\nexport const resolveProposerSequenceNumber =\n  ({node}) =>\n  async ix => {\n    if (!isTransaction(ix)) return Ok(ix)\n    if (ix.accounts[ix.proposer].sequenceNum) return Ok(ix)\n\n    const sendFn = await config.first(\n      [\"sdk.transport\", \"sdk.send\"],\n      defaultSend\n    )\n\n    invariant(\n      sendFn,\n      `Required value for sdk.transport is not defined in config. See: ${\"https://github.com/onflow/fcl-js/blob/master/packages/sdk/CHANGELOG.md#0057-alpha1----2022-01-21\"}`\n    )\n\n    const response = await sendFn(\n      await build([getAccount(ix.accounts[ix.proposer].addr)]),\n      {config, response: responseModule, Buffer, ix: ixModule},\n      {node}\n    )\n    const decoded = await decodeResponse(response)\n\n    ix.accounts[ix.proposer].sequenceNum =\n      decoded.keys[ix.accounts[ix.proposer].keyId].sequenceNumber\n\n    return Ok(ix)\n  }\n","import {\n  isTransaction,\n  Ok,\n  interaction,\n  pipe,\n} from \"../interaction/interaction.js\"\nimport * as ixModule from \"../interaction/interaction.js\"\nimport {response} from \"../response/response.js\"\nimport {config} from \"@onflow/config\"\nimport {decodeResponse} from \"../decode/decode.js\"\nimport {getBlock} from \"../build/build-get-block.js\"\nimport {invariant} from \"@onflow/util-invariant\"\nimport {Buffer} from \"@onflow/rlp\"\nimport {send as defaultSend} from \"@onflow/transport-http\"\n\nasync function getRefId(opts) {\n  const node = await config().get(\"accessNode.api\")\n  const sendFn = await config.first([\"sdk.transport\", \"sdk.send\"], defaultSend)\n\n  invariant(\n    sendFn,\n    `Required value for sdk.transport is not defined in config. See: ${\"https://github.com/onflow/fcl-js/blob/master/packages/sdk/CHANGELOG.md#0057-alpha1----2022-01-21\"}`\n  )\n\n  var ix\n  ix = await pipe(interaction(), [getBlock()])\n  ix = await sendFn(ix, {config, response, Buffer, ix: ixModule}, {node})\n  ix = await decodeResponse(ix)\n  return ix.id\n}\n\nexport function resolveRefBlockId(opts) {\n  return async ix => {\n    if (!isTransaction(ix)) return Ok(ix)\n    if (ix.message.refBlock) return Ok(ix)\n\n    ix.message.refBlock = await getRefId(opts)\n\n    return Ok(ix)\n  }\n}\n","import {invariant} from \"@onflow/util-invariant\"\nimport {isGetAccount, isGetBlock} from \"../interaction/interaction\"\n\nexport function mockAccountResponse(ix, numberOfKeys = 5) {\n  // prettier-ignore\n  invariant(ix.account, \"mockAccountResponse(ix) -- ix.account is missing\", ix)\n  // prettier-ignore\n  invariant( ix.account.addr, \"mockAccountResponse(ix) -- ix.account.addr is missing\", ix)\n\n  const address = ix.account.addr\n\n  return {\n    account: {\n      addr: address,\n      keys: Array.from({length: numberOfKeys}, (_, i) => ({\n        index: i,\n        sequenceNumber: 42,\n      })),\n    },\n  }\n}\n\nexport function mockGetBlockResponse(ix) {\n  return {\n    tag: \"GET_BLOCK\",\n    block: {\n      id: \"32\",\n    },\n  }\n}\n\nconst identity = v => v\n\nexport function mockSend(fallback = identity) {\n  return async function execSend(ix) {\n    ix = await ix\n    switch (true) {\n      case isGetAccount(ix):\n        return mockAccountResponse(ix)\n\n      case isGetBlock(ix):\n        return mockGetBlockResponse(ix)\n\n      default:\n        return fallback(ix)\n    }\n  }\n}\n","import {withPrefix} from \"@onflow/util-address\"\n\nexport const idof = acct => `${withPrefix(acct.addr)}-${acct.keyId}`\n\nexport function sig(opts) {\n  return [\"SIGNATURE\", opts.addr, opts.keyId].join(\".\")\n}\n\nexport function authzFn(opts = {}) {\n  return function (account) {\n    const acct = {\n      ...account,\n      ...opts,\n      resolve: null,\n      signingFunction:\n        opts.signingFunction ||\n        account.signingFunction ||\n        fallbackSigningFunction,\n    }\n\n    return acct\n\n    function fallbackSigningFunction(signable) {\n      return {\n        addr: acct.addr,\n        keyId: acct.keyId,\n        signature: sig(acct),\n      }\n    }\n  }\n}\n\nexport function authzResolve(opts = {}) {\n  return function (account) {\n    const {tempId, ...rest} = opts\n    return {\n      ...account,\n      tempId: tempId || \"WITH_RESOLVE\",\n      resolve: authzFn(rest),\n    }\n  }\n}\n\nconst ROLE = {proposer: false, authorizer: false, payer: false}\nconst noop = () => {}\n\nexport function authzResolveMany(opts = {}) {\n  return function (account) {\n    const tempId = opts.tempId || \"AUTHZ_RESOLVE_MANY\"\n    return {\n      ...account,\n      tempId,\n      resolve: () =>\n        [\n          opts.proposer &&\n            authzFn(opts.proposer)({role: {...ROLE, proposer: true}}),\n          ...opts.authorizations\n            .map(authzFn)\n            .map(d => d({role: {...ROLE, authorizer: true}})),\n          opts.payer && authzFn(opts.payer)({role: {...ROLE, payer: true}}),\n        ].filter(Boolean),\n    }\n  }\n}\n\nexport function authzDeepResolveMany(opts = {}, depth = 1) {\n  return function (account) {\n    const tempId = opts.tempId || \"AUTHZ_DEEP_RESOLVE_MANY\"\n    return {\n      ...account,\n      tempId,\n      resolve:\n        depth > 0\n          ? authzDeepResolveMany(opts, depth - 1)(account).resolve\n          : authzResolveMany(opts)(account).resolve\n    }\n  }\n}\n","import {build} from \"../build/build\"\nimport {resolve} from \"../resolve/resolve\"\nimport {ref} from \"../build/build-ref\"\n\nexport const run = (fns = []) => build([ref(\"123\"), ...fns]).then(resolve)\n","export const VERSION = PACKAGE_CURRENT_VERSION || \"TESTVERSION\"\n","import * as logger from \"@onflow/util-logger\"\n// Base\nexport {build} from \"./build/build.js\"\nexport {resolve} from \"./resolve/resolve.js\"\nexport {send} from \"./send/send.js\"\nexport {decode} from \"./decode/sdk-decode.js\"\nexport {\n  encodeTransactionPayload,\n  encodeTransactionEnvelope,\n  encodeTxIdFromVoucher,\n} from \"./encode/encode\"\n// Utils\nexport {\n  interaction,\n  isOk,\n  isBad,\n  why,\n  pipe,\n  get,\n  put,\n  update,\n  destroy,\n  isUnknown,\n  isScript,\n  isTransaction,\n  isGetTransaction,\n  isGetTransactionStatus,\n  isGetAccount,\n  isGetEvents,\n  isPing,\n  isGetBlock,\n  isGetBlockHeader,\n  isGetCollection,\n  isGetNetworkParameters,\n} from \"./interaction/interaction.js\"\nexport {createSignableVoucher, voucherToTxId} from \"./resolve/voucher.js\"\nexport {encodeMessageFromSignable} from \"./wallet-utils/encode-signable.js\"\nexport {template as cadence} from \"@onflow/util-template\"\nexport {template as cdc} from \"@onflow/util-template\"\n\n// Helpers\nexport {account} from \"./account/account.js\"\nexport {block} from \"./block/block.js\"\n\n// Builders\nexport {authorizations, authorization} from \"./build/build-authorizations.js\"\nexport {atBlockHeight} from \"./build/build-at-block-height.js\"\nexport {atBlockId} from \"./build/build-at-block-id.js\"\nexport {getAccount} from \"./build/build-get-account.js\"\nexport {getEvents} from \"./build/build-get-events.js\"\nexport {getEventsAtBlockHeightRange} from \"./build/build-get-events-at-block-height-range.js\"\nexport {getEventsAtBlockIds} from \"./build/build-get-events-at-block-ids\"\nexport {getBlock} from \"./build/build-get-block.js\"\nexport {getBlockHeader} from \"./build/build-get-block-header.js\"\nexport {getCollection} from \"./build/build-get-collection\"\nexport {getTransactionStatus} from \"./build/build-get-transaction-status.js\"\nexport {getTransaction} from \"./build/build-get-transaction.js\"\nexport {getNetworkParameters} from \"./build/build-get-network-parameters.js\"\nexport {limit} from \"./build/build-limit.js\"\nexport {args, arg} from \"./build/build-arguments.js\"\nexport {proposer} from \"./build/build-proposer.js\"\nexport {payer} from \"./build/build-payer.js\"\nexport {ping} from \"./build/build-ping.js\"\nexport {ref} from \"./build/build-ref.js\"\nexport {script} from \"./build/build-script.js\"\nexport {transaction} from \"./build/build-transaction.js\"\nexport {validator} from \"./build/build-validator.js\"\nexport {invariant} from \"./build/build-invariant.js\"\nexport {voucherIntercept} from \"./build/build-voucher-intercept.js\"\n\n// Resolvers\nexport {resolveCadence} from \"./resolve/resolve-cadence.js\"\nexport {resolveFinalNormalization} from \"./resolve/resolve-final-normalization\"\nexport {resolveProposerSequenceNumber} from \"./resolve/resolve-proposer-sequence-number\"\nexport {resolveArguments} from \"./resolve/resolve-arguments.js\"\nexport {resolveAccounts} from \"./resolve/resolve-accounts.js\"\nexport {response} from \"./response/response.js\"\nexport {resolveSignatures} from \"./resolve/resolve-signatures.js\"\nexport {resolveValidators} from \"./resolve/resolve-validators.js\"\nexport {resolveRefBlockId} from \"./resolve/resolve-ref-block-id.js\"\nexport {resolveVoucherIntercept} from \"./resolve/resolve-voucher-intercept.js\"\n\nexport {config} from \"@onflow/config\"\n\n// Deprecated\nexport const params = (params: never) =>\n  logger.log.deprecate({\n    pkg: \"FCL/SDK\",\n    message: `The params builder has been removed from the Flow JS-SDK/FCL.`,\n    transition:\n      \"https://github.com/onflow/flow-js-sdk/blob/master/packages/sdk/TRANSITIONS.md#0001-deprecate-params\",\n    level: logger.LEVELS.error,\n  })\nexport const param = (params: never) =>\n  logger.log.deprecate({\n    pkg: \"FCL/SDK\",\n    message: `The param builder has been removed from the Flow JS-SDK/FCL.`,\n    transition:\n      \"https://github.com/onflow/flow-js-sdk/blob/master/packages/sdk/TRANSITIONS.md#0001-deprecate-params\",\n    level: logger.LEVELS.error,\n  })\n\nimport * as TestUtils from \"./test-utils\"\nexport {TestUtils}\n\nexport {VERSION} from \"./VERSION\"\n"],"names":["Object","defineProperty","rng_1","value","default","rng","_crypto","_interopRequireDefault","require$$0","obj","__esModule","rnds8Pool","Uint8Array","poolPtr","length","randomFillSync","slice","regex","_default","validate_1","_regex","validate","uuid","test","stringify_1","unsafeStringify","_validate","byteToHex","i","push","toString","arr","offset","arguments","undefined","stringify","TypeError","v1_1","_rng","_stringify","require$$1","_nodeId","_clockseq","_lastMSecs","_lastNSecs","v1","options","buf","b","Array","node","clockseq","seedBytes","random","msecs","Date","now","nsecs","dt","Error","tl","tmh","n","parse_1","parse","v","parseInt","v35_1","URL","DNS","v35","_parse","stringToBytes","str","unescape","encodeURIComponent","bytes","charCodeAt","name","version","hashfunc","generateUUID","namespace","_namespace","set","err","md5_1","md5","isArray","Buffer","from","createHash","update","digest","v3_1","_v","_md","v3","native","randomUUID","v4_1","_native","require$$2","v4","rnds","sha1_1","sha1","v5_1","_sha","v5","nil","version_1","exports","enumerable","get","_nil","_v2","_v3","_v4","_version","require$$3","require$$4","require$$5","require$$6","require$$7","require$$8","UNKNOWN","SCRIPT","TRANSACTION","GET_TRANSACTION_STATUS","GET_ACCOUNT","GET_EVENTS","PING","GET_TRANSACTION","GET_BLOCK","GET_BLOCK_HEADER","GET_COLLECTION","GET_NETWORK_PARAMETERS","BAD","OK","ACCOUNT","PARAM","ARGUMENT","AUTHORIZER","PAYER","PROPOSER","ACCT","ARG","IX","KEYS","Set","keys","JSON","interaction","isNumber","d","isObj","isNull","isFn","isInteraction","ix","key","hasOwnProperty","Ok","status","Bad","reason","makeIx","wat","tag","prepAccountKeyId","acct","keyId","invariant","isNaN","prepAccount","opts","role","tempId","uuidv4","authorization","resolve","_len","rest","_key","reduce","fn","accounts","authorizations","payer","makeArgument","arg","message","asArgument","xform","resolveArgument","bind","makeUnknown","makeScript","makeTransaction","makeGetTransactionStatus","makeGetTransaction","makeGetAccount","makeGetEvents","makePing","makeGetBlock","makeGetBlockHeader","makeGetCollection","makeGetNetworkParameters","is","isUnknown","isScript","isTransaction","isGetTransactionStatus","isGetTransaction","isGetAccount","isGetEvents","isPing","isGetBlock","isGetBlockHeader","isGetCollection","isGetNetworkParameters","isOk","isBad","why","isAccount","account","kind","isParam","param","isArgument","argument","hardMode","has","recPipe","fns","hd","cur","e","pipe","_len2","args","_key2","arg1","arg2","identity","fallback","assigns","put","destroy","build","_interopNamespace","logger","_interopDefaultLegacy","fetchTransport","AbortController","globalThis","HTTPRequestError","constructor","_ref","error","hostname","path","method","requestBody","responseBody","responseStatusText","statusCode","msg","errorMessage","httpRequest","timeoutLimit","_ref2","body","headers","enableRequestLogging","bodyJSON","makeRequest","controller","fetchTimeout","setTimeout","abort","fetchTransport__default","signal","res","ok","json","responseText","text","catch","response","safeParseJSON","logger__namespace","title","level","LEVELS","finally","clearTimeout","requestLoop","retryAttempt","resp","retryStatusCodes","includes","Promise","reject","retryLimit","console","warn","retryIntervalMs","DEFAULT_RESPONSE","getBlock","isSealed","block","getAccount","addr","sansPrefix","latestBlockDeprecationNotice","log","deprecate","pkg","subject","transition","decodeImplicit","decodeVoid","decodeType","type","staticType","decodePath","domain","identifier","decodeCapability","cap","address","borrowType","decodeOptional","optional","decoders","stack","recurseDecode","decodeReference","decodeArray","array","all","map","decodeDictionary","dictionary","acc","decodeComposite","composite","decoded","fields","decoder","id","decoderLookup","defaultDecoders","UInt","Int","UInt8","Int8","UInt16","Int16","UInt32","Int32","UInt64","Int64","UInt128","Int128","UInt256","Int256","Word8","Word16","Word32","Word64","UFix64","Fix64","String","Character","Bool","Address","Void","Optional","Reference","Dictionary","Event","Resource","Struct","Enum","Type","Path","Capability","lookup","found","find","reg","RegExp","substring","decodeInstructions","join","decode","customDecoders","filteredDecoders","filter","customDecoder","decoderKey","decodeResponse","encodedData","transactionStatus","events","decodeEvents","transactionId","transactionIndex","eventIndex","data","payload","transaction","blockId","blockHeight","blockTimestamp","blockHeader","latestBlock","collection","networkParameters","chainIdMap","chainId","isString","oldIdentifierPatternFn","isOldIdentifierSyntax","cadence","newIdentifierPatternFn","isNewIdentifierSyntax","getContractIdentifierSyntaxMatches","matchAll","resolveCadence","config","where","then","entries","replace","fullMatch","contractName","withPrefix","cast","handleArgResolution","depth","resolvedArg","resolveArguments","encodeTransactionPayload","tx","prependTransactionDomainTag","rlpEncode","preparePayload","encodeTransactionEnvelope","prepareEnvelope","encodeTxIdFromVoucher","voucher","sha3_256","prepareVoucher","rightPaddedHexBuffer","pad","padEnd","leftPaddedHexBuffer","padStart","TRANSACTION_DOMAIN_TAG","addressBuffer","blockBuffer","argumentToString","scriptBuffer","script","signatureBuffer","signature","encode","sha","SHA3","validatePayload","refBlock","computeLimit","proposalKey","sequenceNum","authorizers","authorizer","validateEnvelope","preparePayloadSignatures","signers","collectSigners","payloadSigs","sig","signerIndex","sort","a","Map","addSigner","forEach","validateVoucher","prepareSigs","sigs","envelopeSigs","payloadFields","field","checkField","proposalKeyFields","payloadSigsFields","index","payloadSigFields","envelopeSigsFields","envelopeSigFields","isObject","check","defaultVal","base","missingFieldError","invalidFieldError","printFieldName","findInsideSigners","inside","add","proposer","p","delete","findOutsideSigners","outside","createSignableVoucher","buildAuthorizers","cid","prev","current","item","buildInsideSigners","buildOutsideSigners","voucherToTxId","MAX_DEPTH_LIMIT","idof","prototype","call","Function","genAccountId","ids","ROLES","AUTHORIZATIONS","debug","SPACE","SPACE_COUNT_PER_INDENT","DEBUG_MESSAGE","indent","fill","curr","recurseFlatMap","el","depthLimit","flatMap","buildPreSignable","f_type","f_vsn","roles","removeUnusedIxAccounts","payerTempIds","authorizersTempIds","proposerTempIds","ixAccountKeys","uniqueTempIds","concat","ixAccountKey","addAccountToIx","newAccount","existingAccount","uniqueAccountsFlatMap","flatMapped","seen","uniqueAccountsFlatMapped","accountId","recurseResolveAccount","currentAccountTempId","debugLogger","Math","max","accountWithoutResolve","resolvedAccounts","flatResolvedAccounts","flatResolvedAccount","recursedAccounts","resolvedAccount","resolveAccountType","accountTempIDs","allResolvedAccounts","resolvedAccountTempIds","resolvedAccountTempId","payerTempID","pAcct","resolveAccounts","getDebugMessage","enableDebug","resolveSignatures","insideSigners","insidePayload","encodeInsideMessage","prepForEncoding","fetchSignature","outsideSigners","outsidePayload","encodeOutsideMessage","innerFetchSignature","signingFunction","buildSignable","payerAddress","resolveValidators","validators","cb","resolveFinalNormalization","resolveVoucherIntercept","DEFAULT_COMPUTE_LIMIT","resolveComputeLimit","noop","accts","Boolean","execFetchRef","execFetchSequenceNumber","sendFn","first","defaultSend","ixModule","values","sequenceNumber","predicate","send","resolveFn","defaultResolve","decodersFromConfig","pattern","fromEntries","findPayloadSigners","findEnvelopeSigners","envelope","UnableToDetermineMessageEncodingTypeForSignerAddress","signerAddress","trim","encodeMessageFromSignable","signable","payloadSigners","envelopeSigners","isPayloadSigner","isEnvelopeSigner","ps","validator","atBlockHeight","height","atBlockId","sealed","ax","authz","getEvents","eventType","start","end","getEventsAtBlockHeightRange","eventName","fromBlockHeight","toBlockHeight","getEventsAtBlockIds","blockIds","getBlockHeader","getCollection","getTransactionStatus","getTransaction","getNetworkParameters","limit","ping","ref","template","DEFAULT_SCRIPT_ACCOUNTS","DEFUALT_REF","voucherIntercept","resolveProposerSequenceNumber","responseModule","getRefId","resolveRefBlockId","mockAccountResponse","numberOfKeys","_","mockGetBlockResponse","mockSend","execSend","authzFn","fallbackSigningFunction","authzResolve","ROLE","authzResolveMany","authzDeepResolveMany","run","VERSION","params"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;EAEAA,MAAM,CAACC,cAAc,CAACC,KAAO,EAAE,YAAY,EAAE;EAC3CC,EAAAA,KAAK,EAAE,IAAA;EACT,CAAC,CAAC,CAAA;AACaD,OAAA,CAAAE,OAAA,GAAGC,IAAG;EAErB,IAAIC,SAAO,GAAGC,wBAAsB,CAACC,8BAAiB,CAAC,CAAA;EAEvD,SAASD,wBAAsBA,CAACE,GAAG,EAAE;EAAE,EAAA,OAAOA,GAAG,IAAIA,GAAG,CAACC,UAAU,GAAGD,GAAG,GAAG;EAAEL,IAAAA,OAAO,EAAEK,GAAAA;KAAK,CAAA;EAAG,CAAA;EAE/F,MAAME,SAAS,GAAG,IAAIC,UAAU,CAAC,GAAG,CAAC,CAAC;;EAEtC,IAAIC,OAAO,GAAGF,SAAS,CAACG,MAAM,CAAA;EAE9B,SAAST,GAAGA,GAAG;EACb,EAAA,IAAIQ,OAAO,GAAGF,SAAS,CAACG,MAAM,GAAG,EAAE,EAAE;EACnCR,IAAAA,SAAO,CAACF,OAAO,CAACW,cAAc,CAACJ,SAAS,CAAC,CAAA;EAEzCE,IAAAA,OAAO,GAAG,CAAC,CAAA;EACZ,GAAA;IAED,OAAOF,SAAS,CAACK,KAAK,CAACH,OAAO,EAAEA,OAAO,IAAI,EAAE,CAAC,CAAA;EAChD;;;;;;;;ECrBAb,MAAM,CAACC,cAAc,CAACgB,KAAO,EAAE,YAAY,EAAE;EAC3Cd,EAAAA,KAAK,EAAE,IAAA;EACT,CAAC,CAAC,CAAA;EACac,KAAA,CAAAb,OAAA,GAAG,KAAK,EAAC;EACxB,IAAIc,UAAQ,GAAG,qHAAqH,CAAA;EACpID,KAAA,CAAAb,OAAe,GAAGc,UAAQ;;ECL1BlB,MAAM,CAACC,cAAc,CAACkB,UAAO,EAAE,YAAY,EAAE;EAC3ChB,EAAAA,KAAK,EAAE,IAAA;EACT,CAAC,CAAC,CAAA;AACagB,YAAA,CAAAf,OAAA,GAAG,KAAK,EAAC;EAExB,IAAIgB,MAAM,GAAGb,wBAAsB,CAACC,KAAqB,CAAC,CAAA;EAE1D,SAASD,wBAAsBA,CAACE,GAAG,EAAE;EAAE,EAAA,OAAOA,GAAG,IAAIA,GAAG,CAACC,UAAU,GAAGD,GAAG,GAAG;EAAEL,IAAAA,OAAO,EAAEK,GAAAA;KAAK,CAAA;EAAG,CAAA;EAE/F,SAASY,QAAQA,CAACC,IAAI,EAAE;EACtB,EAAA,OAAO,OAAOA,IAAI,KAAK,QAAQ,IAAIF,MAAM,CAAChB,OAAO,CAACmB,IAAI,CAACD,IAAI,CAAC,CAAA;EAC9D,CAAA;EAEA,IAAIJ,UAAQ,GAAGG,QAAQ,CAAA;AACvBF,YAAA,CAAAf,OAAe,GAAGc,UAAQ;;ECd1BlB,MAAM,CAACC,cAAc,CAACuB,WAAO,EAAE,YAAY,EAAE;EAC3CrB,EAAAA,KAAK,EAAE,IAAA;EACT,CAAC,CAAC,CAAA;AACaqB,aAAA,CAAApB,OAAA,GAAG,KAAK,EAAC;AACDoB,aAAA,CAAAC,eAAA,GAAGA,gBAAe;EAEzC,IAAIC,WAAS,GAAGnB,wBAAsB,CAACC,UAAwB,CAAC,CAAA;EAEhE,SAASD,wBAAsBA,CAACE,GAAG,EAAE;EAAE,EAAA,OAAOA,GAAG,IAAIA,GAAG,CAACC,UAAU,GAAGD,GAAG,GAAG;EAAEL,IAAAA,OAAO,EAAEK,GAAAA;KAAK,CAAA;EAAG,CAAA;;EAE/F;EACA;EACA;EACA;EACA,MAAMkB,SAAS,GAAG,EAAE,CAAA;EAEpB,KAAK,IAAIC,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG,GAAG,EAAE,EAAEA,CAAC,EAAE;EAC5BD,EAAAA,SAAS,CAACE,IAAI,CAAC,CAACD,CAAC,GAAG,KAAK,EAAEE,QAAQ,CAAC,EAAE,CAAC,CAACd,KAAK,CAAC,CAAC,CAAC,CAAC,CAAA;EACnD,CAAA;EAEA,SAASS,eAAeA,CAACM,GAAG,EAAc;EAAA,EAAA,IAAZC,MAAM,GAAAC,SAAA,CAAAnB,MAAA,GAAA,CAAA,IAAAmB,SAAA,CAAA,CAAA,CAAA,KAAAC,SAAA,GAAAD,SAAA,CAAA,CAAA,CAAA,GAAG,CAAC,CAAA;EACxC;EACA;EACE,EAAA,OAAON,SAAS,CAACI,GAAG,CAACC,MAAM,GAAG,CAAC,CAAC,CAAC,GAAGL,SAAS,CAACI,GAAG,CAACC,MAAM,GAAG,CAAC,CAAC,CAAC,GAAGL,SAAS,CAACI,GAAG,CAACC,MAAM,GAAG,CAAC,CAAC,CAAC,GAAGL,SAAS,CAACI,GAAG,CAACC,MAAM,GAAG,CAAC,CAAC,CAAC,GAAG,GAAG,GAAGL,SAAS,CAACI,GAAG,CAACC,MAAM,GAAG,CAAC,CAAC,CAAC,GAAGL,SAAS,CAACI,GAAG,CAACC,MAAM,GAAG,CAAC,CAAC,CAAC,GAAG,GAAG,GAAGL,SAAS,CAACI,GAAG,CAACC,MAAM,GAAG,CAAC,CAAC,CAAC,GAAGL,SAAS,CAACI,GAAG,CAACC,MAAM,GAAG,CAAC,CAAC,CAAC,GAAG,GAAG,GAAGL,SAAS,CAACI,GAAG,CAACC,MAAM,GAAG,CAAC,CAAC,CAAC,GAAGL,SAAS,CAACI,GAAG,CAACC,MAAM,GAAG,CAAC,CAAC,CAAC,GAAG,GAAG,GAAGL,SAAS,CAACI,GAAG,CAACC,MAAM,GAAG,EAAE,CAAC,CAAC,GAAGL,SAAS,CAACI,GAAG,CAACC,MAAM,GAAG,EAAE,CAAC,CAAC,GAAGL,SAAS,CAACI,GAAG,CAACC,MAAM,GAAG,EAAE,CAAC,CAAC,GAAGL,SAAS,CAACI,GAAG,CAACC,MAAM,GAAG,EAAE,CAAC,CAAC,GAAGL,SAAS,CAACI,GAAG,CAACC,MAAM,GAAG,EAAE,CAAC,CAAC,GAAGL,SAAS,CAACI,GAAG,CAACC,MAAM,GAAG,EAAE,CAAC,CAAC,CAAA;EACpf,CAAA;EAEA,SAASG,SAASA,CAACJ,GAAG,EAAc;EAAA,EAAA,IAAZC,MAAM,GAAAC,SAAA,CAAAnB,MAAA,GAAA,CAAA,IAAAmB,SAAA,CAAA,CAAA,CAAA,KAAAC,SAAA,GAAAD,SAAA,CAAA,CAAA,CAAA,GAAG,CAAC,CAAA;IAChC,MAAMX,IAAI,GAAGG,eAAe,CAACM,GAAG,EAAEC,MAAM,CAAC,CAAC;EAC5C;EACA;EACA;EACA;;IAEE,IAAI,CAAC,IAAIN,WAAS,CAACtB,OAAO,EAAEkB,IAAI,CAAC,EAAE;MACjC,MAAMc,SAAS,CAAC,6BAA6B,CAAC,CAAA;EAC/C,GAAA;EAED,EAAA,OAAOd,IAAI,CAAA;EACb,CAAA;EAEA,IAAIJ,UAAQ,GAAGiB,SAAS,CAAA;AACxBX,aAAA,CAAApB,OAAe,GAAGc,UAAQ;;ECzC1BlB,MAAM,CAACC,cAAc,CAACoC,IAAO,EAAE,YAAY,EAAE;EAC3ClC,EAAAA,KAAK,EAAE,IAAA;EACT,CAAC,CAAC,CAAA;AACakC,MAAA,CAAAjC,OAAA,GAAG,KAAK,EAAC;EAExB,IAAIkC,MAAI,GAAG/B,wBAAsB,CAACC,KAAmB,CAAC,CAAA;EAEtD,IAAI+B,YAAU,GAAGC,WAAyB,CAAA;EAE1C,SAASjC,wBAAsBA,CAACE,GAAG,EAAE;EAAE,EAAA,OAAOA,GAAG,IAAIA,GAAG,CAACC,UAAU,GAAGD,GAAG,GAAG;EAAEL,IAAAA,OAAO,EAAEK,GAAAA;KAAK,CAAA;EAAG,CAAA;;EAE/F;EACA;EACA;EACA;EACA,IAAIgC,OAAO,CAAA;EAEX,IAAIC,SAAS,CAAC;;EAGd,IAAIC,UAAU,GAAG,CAAC,CAAA;EAClB,IAAIC,UAAU,GAAG,CAAC,CAAC;;EAEnB,SAASC,EAAEA,CAACC,OAAO,EAAEC,GAAG,EAAEf,MAAM,EAAE;EAChC,EAAA,IAAIJ,CAAC,GAAGmB,GAAG,IAAIf,MAAM,IAAI,CAAC,CAAA;IAC1B,MAAMgB,CAAC,GAAGD,GAAG,IAAI,IAAIE,KAAK,CAAC,EAAE,CAAC,CAAA;EAC9BH,EAAAA,OAAO,GAAGA,OAAO,IAAI,EAAE,CAAA;EACvB,EAAA,IAAII,IAAI,GAAGJ,OAAO,CAACI,IAAI,IAAIT,OAAO,CAAA;EAClC,EAAA,IAAIU,QAAQ,GAAGL,OAAO,CAACK,QAAQ,KAAKjB,SAAS,GAAGY,OAAO,CAACK,QAAQ,GAAGT,SAAS,CAAC;EAC/E;EACA;;EAEE,EAAA,IAAIQ,IAAI,IAAI,IAAI,IAAIC,QAAQ,IAAI,IAAI,EAAE;EACpC,IAAA,MAAMC,SAAS,GAAGN,OAAO,CAACO,MAAM,IAAI,CAACP,OAAO,CAACzC,GAAG,IAAIiC,MAAI,CAAClC,OAAO,GAAG,CAAA;MAEnE,IAAI8C,IAAI,IAAI,IAAI,EAAE;EACtB;EACMA,MAAAA,IAAI,GAAGT,OAAO,GAAG,CAACW,SAAS,CAAC,CAAC,CAAC,GAAG,IAAI,EAAEA,SAAS,CAAC,CAAC,CAAC,EAAEA,SAAS,CAAC,CAAC,CAAC,EAAEA,SAAS,CAAC,CAAC,CAAC,EAAEA,SAAS,CAAC,CAAC,CAAC,EAAEA,SAAS,CAAC,CAAC,CAAC,CAAC,CAAA;EAC7G,KAAA;MAED,IAAID,QAAQ,IAAI,IAAI,EAAE;EAC1B;EACMA,MAAAA,QAAQ,GAAGT,SAAS,GAAG,CAACU,SAAS,CAAC,CAAC,CAAC,IAAI,CAAC,GAAGA,SAAS,CAAC,CAAC,CAAC,IAAI,MAAM,CAAA;EACnE,KAAA;EACF,GAAA;EACH;EACA;EACA;;EAGE,EAAA,IAAIE,KAAK,GAAGR,OAAO,CAACQ,KAAK,KAAKpB,SAAS,GAAGY,OAAO,CAACQ,KAAK,GAAGC,IAAI,CAACC,GAAG,EAAE,CAAC;EACvE;;EAEE,EAAA,IAAIC,KAAK,GAAGX,OAAO,CAACW,KAAK,KAAKvB,SAAS,GAAGY,OAAO,CAACW,KAAK,GAAGb,UAAU,GAAG,CAAC,CAAC;;EAEzE,EAAA,MAAMc,EAAE,GAAGJ,KAAK,GAAGX,UAAU,GAAG,CAACc,KAAK,GAAGb,UAAU,IAAI,KAAK,CAAC;;IAE7D,IAAIc,EAAE,GAAG,CAAC,IAAIZ,OAAO,CAACK,QAAQ,KAAKjB,SAAS,EAAE;EAC5CiB,IAAAA,QAAQ,GAAGA,QAAQ,GAAG,CAAC,GAAG,MAAM,CAAA;EACjC,GAAA;EACH;;EAGE,EAAA,IAAI,CAACO,EAAE,GAAG,CAAC,IAAIJ,KAAK,GAAGX,UAAU,KAAKG,OAAO,CAACW,KAAK,KAAKvB,SAAS,EAAE;EACjEuB,IAAAA,KAAK,GAAG,CAAC,CAAA;EACV,GAAA;;IAGD,IAAIA,KAAK,IAAI,KAAK,EAAE;EAClB,IAAA,MAAM,IAAIE,KAAK,CAAC,iDAAiD,CAAC,CAAA;EACnE,GAAA;EAEDhB,EAAAA,UAAU,GAAGW,KAAK,CAAA;EAClBV,EAAAA,UAAU,GAAGa,KAAK,CAAA;IAClBf,SAAS,GAAGS,QAAQ,CAAC;;IAErBG,KAAK,IAAI,cAAc,CAAC;;EAExB,EAAA,MAAMM,EAAE,GAAG,CAAC,CAACN,KAAK,GAAG,SAAS,IAAI,KAAK,GAAGG,KAAK,IAAI,WAAW,CAAA;IAC9DT,CAAC,CAACpB,CAAC,EAAE,CAAC,GAAGgC,EAAE,KAAK,EAAE,GAAG,IAAI,CAAA;IACzBZ,CAAC,CAACpB,CAAC,EAAE,CAAC,GAAGgC,EAAE,KAAK,EAAE,GAAG,IAAI,CAAA;IACzBZ,CAAC,CAACpB,CAAC,EAAE,CAAC,GAAGgC,EAAE,KAAK,CAAC,GAAG,IAAI,CAAA;IACxBZ,CAAC,CAACpB,CAAC,EAAE,CAAC,GAAGgC,EAAE,GAAG,IAAI,CAAC;;IAEnB,MAAMC,GAAG,GAAGP,KAAK,GAAG,WAAW,GAAG,KAAK,GAAG,SAAS,CAAA;IACnDN,CAAC,CAACpB,CAAC,EAAE,CAAC,GAAGiC,GAAG,KAAK,CAAC,GAAG,IAAI,CAAA;IACzBb,CAAC,CAACpB,CAAC,EAAE,CAAC,GAAGiC,GAAG,GAAG,IAAI,CAAC;;EAEpBb,EAAAA,CAAC,CAACpB,CAAC,EAAE,CAAC,GAAGiC,GAAG,KAAK,EAAE,GAAG,GAAG,GAAG,IAAI,CAAC;;IAEjCb,CAAC,CAACpB,CAAC,EAAE,CAAC,GAAGiC,GAAG,KAAK,EAAE,GAAG,IAAI,CAAC;;IAE3Bb,CAAC,CAACpB,CAAC,EAAE,CAAC,GAAGuB,QAAQ,KAAK,CAAC,GAAG,IAAI,CAAC;;IAE/BH,CAAC,CAACpB,CAAC,EAAE,CAAC,GAAGuB,QAAQ,GAAG,IAAI,CAAC;;IAEzB,KAAK,IAAIW,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG,CAAC,EAAE,EAAEA,CAAC,EAAE;MAC1Bd,CAAC,CAACpB,CAAC,GAAGkC,CAAC,CAAC,GAAGZ,IAAI,CAACY,CAAC,CAAC,CAAA;EACnB,GAAA;IAED,OAAOf,GAAG,IAAI,IAAIR,YAAU,CAACd,eAAe,EAAEuB,CAAC,CAAC,CAAA;EAClD,CAAA;EAEA,IAAI9B,UAAQ,GAAG2B,EAAE,CAAA;AACjBR,MAAA,CAAAjC,OAAe,GAAGc,UAAQ;;;;;;;;ECxG1BlB,MAAM,CAACC,cAAc,CAAC8D,OAAO,EAAE,YAAY,EAAE;EAC3C5D,EAAAA,KAAK,EAAE,IAAA;EACT,CAAC,CAAC,CAAA;AACa4D,SAAA,CAAA3D,OAAA,GAAG,KAAK,EAAC;EAExB,IAAIsB,WAAS,GAAGnB,wBAAsB,CAACC,UAAwB,CAAC,CAAA;EAEhE,SAASD,wBAAsBA,CAACE,GAAG,EAAE;EAAE,EAAA,OAAOA,GAAG,IAAIA,GAAG,CAACC,UAAU,GAAGD,GAAG,GAAG;EAAEL,IAAAA,OAAO,EAAEK,GAAAA;KAAK,CAAA;EAAG,CAAA;EAE/F,SAASuD,KAAKA,CAAC1C,IAAI,EAAE;IACnB,IAAI,CAAC,IAAII,WAAS,CAACtB,OAAO,EAAEkB,IAAI,CAAC,EAAE;MACjC,MAAMc,SAAS,CAAC,cAAc,CAAC,CAAA;EAChC,GAAA;EAED,EAAA,IAAI6B,CAAC,CAAA;IACL,MAAMlC,GAAG,GAAG,IAAInB,UAAU,CAAC,EAAE,CAAC,CAAC;;IAE/BmB,GAAG,CAAC,CAAC,CAAC,GAAG,CAACkC,CAAC,GAAGC,QAAQ,CAAC5C,IAAI,CAACN,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC,MAAM,EAAE,CAAA;IACpDe,GAAG,CAAC,CAAC,CAAC,GAAGkC,CAAC,KAAK,EAAE,GAAG,IAAI,CAAA;IACxBlC,GAAG,CAAC,CAAC,CAAC,GAAGkC,CAAC,KAAK,CAAC,GAAG,IAAI,CAAA;IACvBlC,GAAG,CAAC,CAAC,CAAC,GAAGkC,CAAC,GAAG,IAAI,CAAC;;IAElBlC,GAAG,CAAC,CAAC,CAAC,GAAG,CAACkC,CAAC,GAAGC,QAAQ,CAAC5C,IAAI,CAACN,KAAK,CAAC,CAAC,EAAE,EAAE,CAAC,EAAE,EAAE,CAAC,MAAM,CAAC,CAAA;IACpDe,GAAG,CAAC,CAAC,CAAC,GAAGkC,CAAC,GAAG,IAAI,CAAC;;IAElBlC,GAAG,CAAC,CAAC,CAAC,GAAG,CAACkC,CAAC,GAAGC,QAAQ,CAAC5C,IAAI,CAACN,KAAK,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,EAAE,CAAC,MAAM,CAAC,CAAA;IACrDe,GAAG,CAAC,CAAC,CAAC,GAAGkC,CAAC,GAAG,IAAI,CAAC;;IAElBlC,GAAG,CAAC,CAAC,CAAC,GAAG,CAACkC,CAAC,GAAGC,QAAQ,CAAC5C,IAAI,CAACN,KAAK,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,EAAE,CAAC,MAAM,CAAC,CAAA;IACrDe,GAAG,CAAC,CAAC,CAAC,GAAGkC,CAAC,GAAG,IAAI,CAAC;EACpB;;IAEElC,GAAG,CAAC,EAAE,CAAC,GAAG,CAACkC,CAAC,GAAGC,QAAQ,CAAC5C,IAAI,CAACN,KAAK,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,EAAE,CAAC,IAAI,aAAa,GAAG,IAAI,CAAA;IACvEe,GAAG,CAAC,EAAE,CAAC,GAAGkC,CAAC,GAAG,WAAW,GAAG,IAAI,CAAA;IAChClC,GAAG,CAAC,EAAE,CAAC,GAAGkC,CAAC,KAAK,EAAE,GAAG,IAAI,CAAA;IACzBlC,GAAG,CAAC,EAAE,CAAC,GAAGkC,CAAC,KAAK,EAAE,GAAG,IAAI,CAAA;IACzBlC,GAAG,CAAC,EAAE,CAAC,GAAGkC,CAAC,KAAK,CAAC,GAAG,IAAI,CAAA;EACxBlC,EAAAA,GAAG,CAAC,EAAE,CAAC,GAAGkC,CAAC,GAAG,IAAI,CAAA;EAClB,EAAA,OAAOlC,GAAG,CAAA;EACZ,CAAA;EAEA,IAAIb,UAAQ,GAAG8C,KAAK,CAAA;AACpBD,SAAA,CAAA3D,OAAe,GAAGc,UAAQ;;EC1C1BlB,MAAM,CAACC,cAAc,CAACkE,KAAO,EAAE,YAAY,EAAE;EAC3ChE,EAAAA,KAAK,EAAE,IAAA;EACT,CAAC,CAAC,CAAA;AACFgE,OAAA,CAAAC,GAAW,GAAGD,KAAA,CAAAE,GAAW,GAAG,KAAK,EAAC;AACnBF,OAAA,CAAA/D,OAAA,GAAGkE,IAAG;EAErB,IAAI/B,YAAU,GAAG/B,WAAyB,CAAA;EAE1C,IAAI+D,MAAM,GAAGhE,wBAAsB,CAACiC,OAAqB,CAAC,CAAA;EAE1D,SAASjC,wBAAsBA,CAACE,GAAG,EAAE;EAAE,EAAA,OAAOA,GAAG,IAAIA,GAAG,CAACC,UAAU,GAAGD,GAAG,GAAG;EAAEL,IAAAA,OAAO,EAAEK,GAAAA;KAAK,CAAA;EAAG,CAAA;EAE/F,SAAS+D,aAAaA,CAACC,GAAG,EAAE;IAC1BA,GAAG,GAAGC,QAAQ,CAACC,kBAAkB,CAACF,GAAG,CAAC,CAAC,CAAC;;IAExC,MAAMG,KAAK,GAAG,EAAE,CAAA;EAEhB,EAAA,KAAK,IAAIhD,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG6C,GAAG,CAAC3D,MAAM,EAAE,EAAEc,CAAC,EAAE;MACnCgD,KAAK,CAAC/C,IAAI,CAAC4C,GAAG,CAACI,UAAU,CAACjD,CAAC,CAAC,CAAC,CAAA;EAC9B,GAAA;EAED,EAAA,OAAOgD,KAAK,CAAA;EACd,CAAA;EAEA,MAAMP,GAAG,GAAG,sCAAsC,CAAA;AACvCF,OAAA,CAAAE,GAAA,GAAGA,IAAG;EACjB,MAAMD,GAAG,GAAG,sCAAsC,CAAA;AACvCD,OAAA,CAAAC,GAAA,GAAGA,GAAG,CAAA;EAEjB,SAASE,GAAGA,CAACQ,IAAI,EAAEC,OAAO,EAAEC,QAAQ,EAAE;IACpC,SAASC,YAAYA,CAAC9E,KAAK,EAAE+E,SAAS,EAAEnC,GAAG,EAAEf,MAAM,EAAE;EACnD,IAAA,IAAImD,UAAU,CAAA;EAEd,IAAA,IAAI,OAAOhF,KAAK,KAAK,QAAQ,EAAE;EAC7BA,MAAAA,KAAK,GAAGqE,aAAa,CAACrE,KAAK,CAAC,CAAA;EAC7B,KAAA;EAED,IAAA,IAAI,OAAO+E,SAAS,KAAK,QAAQ,EAAE;QACjCA,SAAS,GAAG,IAAIX,MAAM,CAACnE,OAAO,EAAE8E,SAAS,CAAC,CAAA;EAC3C,KAAA;MAED,IAAI,CAAC,CAACC,UAAU,GAAGD,SAAS,MAAM,IAAI,IAAIC,UAAU,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,UAAU,CAACrE,MAAM,MAAM,EAAE,EAAE;QACpG,MAAMsB,SAAS,CAAC,kEAAkE,CAAC,CAAA;EACpF,KAAA;EACL;EACA;;MAGI,IAAIwC,KAAK,GAAG,IAAIhE,UAAU,CAAC,EAAE,GAAGT,KAAK,CAACW,MAAM,CAAC,CAAA;EAC7C8D,IAAAA,KAAK,CAACQ,GAAG,CAACF,SAAS,CAAC,CAAA;MACpBN,KAAK,CAACQ,GAAG,CAACjF,KAAK,EAAE+E,SAAS,CAACpE,MAAM,CAAC,CAAA;EAClC8D,IAAAA,KAAK,GAAGI,QAAQ,CAACJ,KAAK,CAAC,CAAA;MACvBA,KAAK,CAAC,CAAC,CAAC,GAAGA,KAAK,CAAC,CAAC,CAAC,GAAG,IAAI,GAAGG,OAAO,CAAA;MACpCH,KAAK,CAAC,CAAC,CAAC,GAAGA,KAAK,CAAC,CAAC,CAAC,GAAG,IAAI,GAAG,IAAI,CAAA;EAEjC,IAAA,IAAI7B,GAAG,EAAE;QACPf,MAAM,GAAGA,MAAM,IAAI,CAAC,CAAA;QAEpB,KAAK,IAAIJ,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG,EAAE,EAAE,EAAEA,CAAC,EAAE;UAC3BmB,GAAG,CAACf,MAAM,GAAGJ,CAAC,CAAC,GAAGgD,KAAK,CAAChD,CAAC,CAAC,CAAA;EAC3B,OAAA;EAED,MAAA,OAAOmB,GAAG,CAAA;EACX,KAAA;MAED,OAAO,IAAIR,YAAU,CAACd,eAAe,EAAEmD,KAAK,CAAC,CAAA;EAC9C,GAAA;;IAGD,IAAI;EACFK,IAAAA,YAAY,CAACH,IAAI,GAAGA,IAAI,CAAC;EAC7B,GAAG,CAAC,OAAOO,GAAG,EAAE,EAAE;;IAGhBJ,YAAY,CAACZ,GAAG,GAAGA,GAAG,CAAA;IACtBY,YAAY,CAACb,GAAG,GAAGA,GAAG,CAAA;EACtB,EAAA,OAAOa,YAAY,CAAA;EACrB;;;;EC7EAjF,MAAM,CAACC,cAAc,CAACqF,KAAO,EAAE,YAAY,EAAE;EAC3CnF,EAAAA,KAAK,EAAE,IAAA;EACT,CAAC,CAAC,CAAA;AACamF,OAAA,CAAAlF,OAAA,GAAG,KAAK,EAAC;EAExB,IAAIE,SAAO,GAAGC,wBAAsB,CAACC,8BAAiB,CAAC,CAAA;EAEvD,SAASD,wBAAsBA,CAACE,GAAG,EAAE;EAAE,EAAA,OAAOA,GAAG,IAAIA,GAAG,CAACC,UAAU,GAAGD,GAAG,GAAG;EAAEL,IAAAA,OAAO,EAAEK,GAAAA;KAAK,CAAA;EAAG,CAAA;EAE/F,SAAS8E,GAAGA,CAACX,KAAK,EAAE;EAClB,EAAA,IAAI3B,KAAK,CAACuC,OAAO,CAACZ,KAAK,CAAC,EAAE;EACxBA,IAAAA,KAAK,GAAGa,MAAM,CAACC,IAAI,CAACd,KAAK,CAAC,CAAA;EAC9B,GAAG,MAAM,IAAI,OAAOA,KAAK,KAAK,QAAQ,EAAE;MACpCA,KAAK,GAAGa,MAAM,CAACC,IAAI,CAACd,KAAK,EAAE,MAAM,CAAC,CAAA;EACnC,GAAA;EAED,EAAA,OAAOtE,SAAO,CAACF,OAAO,CAACuF,UAAU,CAAC,KAAK,CAAC,CAACC,MAAM,CAAChB,KAAK,CAAC,CAACiB,MAAM,EAAE,CAAA;EACjE,CAAA;EAEA,IAAI3E,UAAQ,GAAGqE,GAAG,CAAA;AAClBD,OAAA,CAAAlF,OAAe,GAAGc,UAAQ;;ECpB1BlB,MAAM,CAACC,cAAc,CAAC6F,IAAO,EAAE,YAAY,EAAE;EAC3C3F,EAAAA,KAAK,EAAE,IAAA;EACT,CAAC,CAAC,CAAA;AACa2F,MAAA,CAAA1F,OAAA,GAAG,KAAK,EAAC;EAExB,IAAI2F,IAAE,GAAGxF,wBAAsB,CAACC,KAAmB,CAAC,CAAA;EAEpD,IAAIwF,GAAG,GAAGzF,wBAAsB,CAACiC,KAAmB,CAAC,CAAA;EAErD,SAASjC,wBAAsBA,CAACE,GAAG,EAAE;EAAE,EAAA,OAAOA,GAAG,IAAIA,GAAG,CAACC,UAAU,GAAGD,GAAG,GAAG;EAAEL,IAAAA,OAAO,EAAEK,GAAAA;KAAK,CAAA;EAAG,CAAA;EAE/F,MAAMwF,EAAE,GAAG,IAAIF,IAAE,CAAC3F,OAAO,EAAE,IAAI,EAAE,IAAI,EAAE4F,GAAG,CAAC5F,OAAO,CAAC,CAAA;EACnD,IAAIc,UAAQ,GAAG+E,EAAE,CAAA;AACjBH,MAAA,CAAA1F,OAAe,GAAGc,UAAQ;;;;;;ECb1BlB,MAAM,CAACC,cAAc,CAACiG,MAAO,EAAE,YAAY,EAAE;EAC3C/F,EAAAA,KAAK,EAAE,IAAA;EACT,CAAC,CAAC,CAAA;EACa+F,MAAA,CAAA9F,OAAA,GAAG,KAAK,EAAC;EAExB,IAAIE,SAAO,GAAGC,wBAAsB,CAACC,8BAAiB,CAAC,CAAA;EAEvD,SAASD,wBAAsBA,CAACE,GAAG,EAAE;EAAE,EAAA,OAAOA,GAAG,IAAIA,GAAG,CAACC,UAAU,GAAGD,GAAG,GAAG;EAAEL,IAAAA,OAAO,EAAEK,GAAAA;KAAK,CAAA;EAAG,CAAA;EAE/F,IAAIS,UAAQ,GAAG;EACbiF,EAAAA,UAAU,EAAE7F,SAAO,CAACF,OAAO,CAAC+F,UAAAA;EAC9B,CAAC,CAAA;EACDD,MAAA,CAAA9F,OAAe,GAAGc,UAAQ;;ECZ1BlB,MAAM,CAACC,cAAc,CAACmG,IAAO,EAAE,YAAY,EAAE;EAC3CjG,EAAAA,KAAK,EAAE,IAAA;EACT,CAAC,CAAC,CAAA;AACaiG,MAAA,CAAAhG,OAAA,GAAG,KAAK,EAAC;EAExB,IAAIiG,OAAO,GAAG9F,wBAAsB,CAACC,MAAsB,CAAC,CAAA;EAE5D,IAAI8B,IAAI,GAAG/B,wBAAsB,CAACiC,KAAmB,CAAC,CAAA;EAEtD,IAAID,UAAU,GAAG+D,WAAyB,CAAA;EAE1C,SAAS/F,wBAAsBA,CAACE,GAAG,EAAE;EAAE,EAAA,OAAOA,GAAG,IAAIA,GAAG,CAACC,UAAU,GAAGD,GAAG,GAAG;EAAEL,IAAAA,OAAO,EAAEK,GAAAA;KAAK,CAAA;EAAG,CAAA;EAE/F,SAAS8F,EAAEA,CAACzD,OAAO,EAAEC,GAAG,EAAEf,MAAM,EAAE;IAChC,IAAIqE,OAAO,CAACjG,OAAO,CAAC+F,UAAU,IAAI,CAACpD,GAAG,IAAI,CAACD,OAAO,EAAE;EAClD,IAAA,OAAOuD,OAAO,CAACjG,OAAO,CAAC+F,UAAU,EAAE,CAAA;EACpC,GAAA;EAEDrD,EAAAA,OAAO,GAAGA,OAAO,IAAI,EAAE,CAAA;EAEvB,EAAA,MAAM0D,IAAI,GAAG1D,OAAO,CAACO,MAAM,IAAI,CAACP,OAAO,CAACzC,GAAG,IAAIiC,IAAI,CAAClC,OAAO,GAAG,CAAC;;IAG/DoG,IAAI,CAAC,CAAC,CAAC,GAAGA,IAAI,CAAC,CAAC,CAAC,GAAG,IAAI,GAAG,IAAI,CAAA;EAC/BA,EAAAA,IAAI,CAAC,CAAC,CAAC,GAAGA,IAAI,CAAC,CAAC,CAAC,GAAG,IAAI,GAAG,IAAI,CAAC;;EAEhC,EAAA,IAAIzD,GAAG,EAAE;MACPf,MAAM,GAAGA,MAAM,IAAI,CAAC,CAAA;MAEpB,KAAK,IAAIJ,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG,EAAE,EAAE,EAAEA,CAAC,EAAE;QAC3BmB,GAAG,CAACf,MAAM,GAAGJ,CAAC,CAAC,GAAG4E,IAAI,CAAC5E,CAAC,CAAC,CAAA;EAC1B,KAAA;EAED,IAAA,OAAOmB,GAAG,CAAA;EACX,GAAA;IAED,OAAO,IAAIR,UAAU,CAACd,eAAe,EAAE+E,IAAI,CAAC,CAAA;EAC9C,CAAA;EAEA,IAAItF,UAAQ,GAAGqF,EAAE,CAAA;AACjBH,MAAA,CAAAhG,OAAe,GAAGc,UAAQ;;;;;;ECxC1BlB,MAAM,CAACC,cAAc,CAACwG,MAAO,EAAE,YAAY,EAAE;EAC3CtG,EAAAA,KAAK,EAAE,IAAA;EACT,CAAC,CAAC,CAAA;AACasG,QAAA,CAAArG,OAAA,GAAG,KAAK,EAAC;EAExB,IAAIE,OAAO,GAAGC,wBAAsB,CAACC,8BAAiB,CAAC,CAAA;EAEvD,SAASD,wBAAsBA,CAACE,GAAG,EAAE;EAAE,EAAA,OAAOA,GAAG,IAAIA,GAAG,CAACC,UAAU,GAAGD,GAAG,GAAG;EAAEL,IAAAA,OAAO,EAAEK,GAAAA;KAAK,CAAA;EAAG,CAAA;EAE/F,SAASiG,IAAIA,CAAC9B,KAAK,EAAE;EACnB,EAAA,IAAI3B,KAAK,CAACuC,OAAO,CAACZ,KAAK,CAAC,EAAE;EACxBA,IAAAA,KAAK,GAAGa,MAAM,CAACC,IAAI,CAACd,KAAK,CAAC,CAAA;EAC9B,GAAG,MAAM,IAAI,OAAOA,KAAK,KAAK,QAAQ,EAAE;MACpCA,KAAK,GAAGa,MAAM,CAACC,IAAI,CAACd,KAAK,EAAE,MAAM,CAAC,CAAA;EACnC,GAAA;EAED,EAAA,OAAOtE,OAAO,CAACF,OAAO,CAACuF,UAAU,CAAC,MAAM,CAAC,CAACC,MAAM,CAAChB,KAAK,CAAC,CAACiB,MAAM,EAAE,CAAA;EAClE,CAAA;EAEA,IAAI3E,UAAQ,GAAGwF,IAAI,CAAA;AACnBD,QAAA,CAAArG,OAAe,GAAGc,UAAQ;;ECpB1BlB,MAAM,CAACC,cAAc,CAAC0G,IAAO,EAAE,YAAY,EAAE;EAC3CxG,EAAAA,KAAK,EAAE,IAAA;EACT,CAAC,CAAC,CAAA;AACawG,MAAA,CAAAvG,OAAA,GAAG,KAAK,EAAC;EAExB,IAAI2F,EAAE,GAAGxF,wBAAsB,CAACC,KAAmB,CAAC,CAAA;EAEpD,IAAIoG,IAAI,GAAGrG,wBAAsB,CAACiC,MAAoB,CAAC,CAAA;EAEvD,SAASjC,wBAAsBA,CAACE,GAAG,EAAE;EAAE,EAAA,OAAOA,GAAG,IAAIA,GAAG,CAACC,UAAU,GAAGD,GAAG,GAAG;EAAEL,IAAAA,OAAO,EAAEK,GAAAA;KAAK,CAAA;EAAG,CAAA;EAE/F,MAAMoG,EAAE,GAAG,IAAId,EAAE,CAAC3F,OAAO,EAAE,IAAI,EAAE,IAAI,EAAEwG,IAAI,CAACxG,OAAO,CAAC,CAAA;EACpD,IAAIc,UAAQ,GAAG2F,EAAE,CAAA;AACjBF,MAAA,CAAAvG,OAAe,GAAGc,UAAQ;;;;ECb1BlB,MAAM,CAACC,cAAc,CAAC6G,GAAO,EAAE,YAAY,EAAE;EAC3C3G,EAAAA,KAAK,EAAE,IAAA;EACT,CAAC,CAAC,CAAA;EACa2G,GAAA,CAAA1G,OAAA,GAAG,KAAK,EAAC;EACxB,IAAIc,UAAQ,GAAG,sCAAsC,CAAA;EACrD4F,GAAA,CAAA1G,OAAe,GAAGc,UAAQ;;;;ECL1BlB,MAAM,CAACC,cAAc,CAAC8G,SAAO,EAAE,YAAY,EAAE;EAC3C5G,EAAAA,KAAK,EAAE,IAAA;EACT,CAAC,CAAC,CAAA;AACa4G,WAAA,CAAA3G,OAAA,GAAG,KAAK,EAAC;EAExB,IAAIsB,SAAS,GAAGnB,sBAAsB,CAACC,UAAwB,CAAC,CAAA;EAEhE,SAASD,sBAAsBA,CAACE,GAAG,EAAE;EAAE,EAAA,OAAOA,GAAG,IAAIA,GAAG,CAACC,UAAU,GAAGD,GAAG,GAAG;EAAEL,IAAAA,OAAO,EAAEK,GAAAA;KAAK,CAAA;EAAG,CAAA;EAE/F,SAASsE,OAAOA,CAACzD,IAAI,EAAE;IACrB,IAAI,CAAC,IAAII,SAAS,CAACtB,OAAO,EAAEkB,IAAI,CAAC,EAAE;MACjC,MAAMc,SAAS,CAAC,cAAc,CAAC,CAAA;EAChC,GAAA;EAED,EAAA,OAAO8B,QAAQ,CAAC5C,IAAI,CAACN,KAAK,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,EAAE,CAAC,CAAA;EACzC,CAAA;EAEA,IAAIE,QAAQ,GAAG6D,OAAO,CAAA;AACtBgC,WAAA,CAAA3G,OAAe,GAAGc,QAAQ;;;;EClB1BlB,EAAAA,MAAM,CAACC,cAAc,CAAU+G,OAAA,EAAA,YAAY,EAAE;EAC3C7G,IAAAA,KAAK,EAAE,IAAA;EACT,GAAC,CAAC,CAAA;EACFH,EAAAA,MAAM,CAACC,cAAc,CAAC+G,OAAO,EAAE,KAAK,EAAE;EACpCC,IAAAA,UAAU,EAAE,IAAI;MAChBC,GAAG,EAAE,YAAY;QACf,OAAOC,IAAI,CAAC/G,OAAO,CAAA;EACpB,KAAA;EACH,GAAC,CAAC,CAAA;EACFJ,EAAAA,MAAM,CAACC,cAAc,CAAC+G,OAAO,EAAE,OAAO,EAAE;EACtCC,IAAAA,UAAU,EAAE,IAAI;MAChBC,GAAG,EAAE,YAAY;QACf,OAAO3C,MAAM,CAACnE,OAAO,CAAA;EACtB,KAAA;EACH,GAAC,CAAC,CAAA;EACFJ,EAAAA,MAAM,CAACC,cAAc,CAAC+G,OAAO,EAAE,WAAW,EAAE;EAC1CC,IAAAA,UAAU,EAAE,IAAI;MAChBC,GAAG,EAAE,YAAY;QACf,OAAO3E,UAAU,CAACnC,OAAO,CAAA;EAC1B,KAAA;EACH,GAAC,CAAC,CAAA;EACFJ,EAAAA,MAAM,CAACC,cAAc,CAAC+G,OAAO,EAAE,IAAI,EAAE;EACnCC,IAAAA,UAAU,EAAE,IAAI;MAChBC,GAAG,EAAE,YAAY;QACf,OAAOnB,EAAE,CAAC3F,OAAO,CAAA;EAClB,KAAA;EACH,GAAC,CAAC,CAAA;EACFJ,EAAAA,MAAM,CAACC,cAAc,CAAC+G,OAAO,EAAE,IAAI,EAAE;EACnCC,IAAAA,UAAU,EAAE,IAAI;MAChBC,GAAG,EAAE,YAAY;QACf,OAAOE,GAAG,CAAChH,OAAO,CAAA;EACnB,KAAA;EACH,GAAC,CAAC,CAAA;EACFJ,EAAAA,MAAM,CAACC,cAAc,CAAC+G,OAAO,EAAE,IAAI,EAAE;EACnCC,IAAAA,UAAU,EAAE,IAAI;MAChBC,GAAG,EAAE,YAAY;QACf,OAAOG,GAAG,CAACjH,OAAO,CAAA;EACnB,KAAA;EACH,GAAC,CAAC,CAAA;EACFJ,EAAAA,MAAM,CAACC,cAAc,CAAC+G,OAAO,EAAE,IAAI,EAAE;EACnCC,IAAAA,UAAU,EAAE,IAAI;MAChBC,GAAG,EAAE,YAAY;QACf,OAAOI,GAAG,CAAClH,OAAO,CAAA;EACnB,KAAA;EACH,GAAC,CAAC,CAAA;EACFJ,EAAAA,MAAM,CAACC,cAAc,CAAC+G,OAAO,EAAE,UAAU,EAAE;EACzCC,IAAAA,UAAU,EAAE,IAAI;MAChBC,GAAG,EAAE,YAAY;QACf,OAAOxF,SAAS,CAACtB,OAAO,CAAA;EACzB,KAAA;EACH,GAAC,CAAC,CAAA;EACFJ,EAAAA,MAAM,CAACC,cAAc,CAAC+G,OAAO,EAAE,SAAS,EAAE;EACxCC,IAAAA,UAAU,EAAE,IAAI;MAChBC,GAAG,EAAE,YAAY;QACf,OAAOK,QAAQ,CAACnH,OAAO,CAAA;EACxB,KAAA;EACH,GAAC,CAAC,CAAA;EAEF,EAAA,IAAI2F,EAAE,GAAGxF,sBAAsB,CAACC,IAAkB,CAAC,CAAA;EAEnD,EAAA,IAAI4G,GAAG,GAAG7G,sBAAsB,CAACiC,IAAkB,CAAC,CAAA;EAEpD,EAAA,IAAI6E,GAAG,GAAG9G,sBAAsB,CAAC+F,IAAkB,CAAC,CAAA;EAEpD,EAAA,IAAIgB,GAAG,GAAG/G,sBAAsB,CAACiH,IAAkB,CAAC,CAAA;EAEpD,EAAA,IAAIL,IAAI,GAAG5G,sBAAsB,CAACkH,GAAmB,CAAC,CAAA;EAEtD,EAAA,IAAIF,QAAQ,GAAGhH,sBAAsB,CAACmH,SAAuB,CAAC,CAAA;EAE9D,EAAA,IAAIhG,SAAS,GAAGnB,sBAAsB,CAACoH,UAAwB,CAAC,CAAA;EAEhE,EAAA,IAAIpF,UAAU,GAAGhC,sBAAsB,CAACqH,WAAyB,CAAC,CAAA;EAElE,EAAA,IAAIrD,MAAM,GAAGhE,sBAAsB,CAACsH,OAAqB,CAAC,CAAA;IAE1D,SAAStH,sBAAsBA,CAACE,GAAG,EAAE;EAAE,IAAA,OAAOA,GAAG,IAAIA,GAAG,CAACC,UAAU,GAAGD,GAAG,GAAG;EAAEL,MAAAA,OAAO,EAAEK,GAAAA;OAAK,CAAA;EAAC,GAAA;;;EC3EtF,MAAMqH,OAAO,+BAA+B,SAAS,CAAA;EACrD,MAAMC,MAAM,gCAAgC,QAAQ,CAAA;EACpD,MAAMC,WAAW,2BAA2B,aAAa,CAAA;EACzD,MAAMC,sBAAsB,gBAAgB,wBAAwB,CAAA;EACpE,MAAMC,WAAW,2BAA2B,aAAa,CAAA;EACzD,MAAMC,UAAU,4BAA4B,YAAY,CAAA;EACxD,MAAMC,IAAI,kCAAkC,MAAM,CAAA;EAClD,MAAMC,eAAe,uBAAuB,iBAAiB,CAAA;EAC7D,MAAMC,SAAS,6BAA6B,WAAW,CAAA;EACvD,MAAMC,gBAAgB,sBAAsB,kBAAkB,CAAA;EAC9D,MAAMC,cAAc,wBAAwB,gBAAgB,CAAA;EAC5D,MAAMC,sBAAsB,gBAAgB,wBAAwB,CAAA;EAEpE,MAAMC,GAAG,SAAS,KAAK,CAAA;EACvB,MAAMC,EAAE,UAAU,IAAI,CAAA;EAEtB,MAAMC,OAAO,UAAU,SAAS,CAAA;EAChC,MAAMC,KAAK,YAAY,OAAO,CAAA;EAC9B,MAAMC,QAAQ,SAAS,UAAU,CAAA;EAEjC,MAAMC,UAAU,SAAS,YAAY,CAAA;EACrC,MAAMC,KAAK,cAAc,OAAO,CAAA;EAChC,MAAMC,QAAQ,WAAW,UAAU,CAAA;EAE1C,MAAMC,IAAI,GAAI,CAAA;AACd,UAAA,EAAYN,OAAQ,CAAA;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAE,CAAA,CAAA;EAYF,MAAMO,GAAG,GAAI,CAAA;AACb,UAAA,EAAYL,QAAS,CAAA;AACrB;AACA;AACA;AACA;AACA;AACA;AACA,CAAE,CAAA,CAAA;EAEF,MAAMM,EAAE,GAAI,CAAA;AACZ,SAAA,EAAWtB,OAAQ,CAAA;AACnB;AACA,YAAA,EAAca,EAAG,CAAA;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAE,CAAA,CAAA;EAEF,MAAMU,IAAI,GAAG,IAAIC,GAAG,CAACtJ,MAAM,CAACuJ,IAAI,CAACC,IAAI,CAACxF,KAAK,CAACoF,EAAE,CAAC,CAAC,CAAC,CAAA;AAE1C,QAAMK,WAAW,GAAGA,MAAMD,IAAI,CAACxF,KAAK,CAACoF,EAAE,EAAC;EAExC,MAAMM,UAAQ,GAAGC,CAAC,IAAI,OAAOA,CAAC,KAAK,QAAQ,CAAA;EAC3C,MAAMnE,SAAO,GAAGmE,CAAC,IAAI1G,KAAK,CAACuC,OAAO,CAACmE,CAAC,CAAC,CAAA;EACrC,MAAMC,KAAK,GAAGD,CAAC,IAAIA,CAAC,KAAK,IAAI,IAAI,OAAOA,CAAC,KAAK,QAAQ,CAAA;EACtD,MAAME,MAAM,GAAGF,CAAC,IAAIA,CAAC,IAAI,IAAI,CAAA;EAC7B,MAAMG,MAAI,GAAGH,CAAC,IAAI,OAAOA,CAAC,KAAK,UAAU,CAAA;EAEzC,MAAMI,aAAa,GAAGC,EAAE,IAAI;EACjC,EAAA,IAAI,CAACJ,KAAK,CAACI,EAAE,CAAC,IAAIH,MAAM,CAACG,EAAE,CAAC,IAAIN,UAAQ,CAACM,EAAE,CAAC,EAAE,OAAO,KAAK,CAAA;EAC1D,EAAA,KAAK,IAAIC,GAAG,IAAIZ,IAAI,EAAE,IAAI,CAACW,EAAE,CAACE,cAAc,CAACD,GAAG,CAAC,EAAE,OAAO,KAAK,CAAA;EAC/D,EAAA,OAAO,IAAI,CAAA;EACb,CAAC,CAAA;EAEM,MAAME,EAAE,GAAGH,EAAE,IAAI;IACtBA,EAAE,CAACI,MAAM,GAAGzB,EAAE,CAAA;EACd,EAAA,OAAOqB,EAAE,CAAA;EACX,CAAC,CAAA;EAEM,MAAMK,GAAG,GAAGA,CAACL,EAAE,EAAEM,MAAM,KAAK;IACjCN,EAAE,CAACI,MAAM,GAAG1B,GAAG,CAAA;IACfsB,EAAE,CAACM,MAAM,GAAGA,MAAM,CAAA;EAClB,EAAA,OAAON,EAAE,CAAA;EACX,CAAC,CAAA;EAED,MAAMO,MAAM,GAAGC,GAAG,IAAIR,EAAE,IAAI;IAC1BA,EAAE,CAACS,GAAG,GAAGD,GAAG,CAAA;IACZ,OAAOL,EAAE,CAACH,EAAE,CAAC,CAAA;EACf,CAAC,CAAA;EAED,MAAMU,gBAAgB,GAAGC,IAAI,IAAI;EAC/B,EAAA,IAAIA,IAAI,CAACC,KAAK,IAAI,IAAI,EAAE,OAAOD,IAAI,CAAA;EAEnCE,EAAAA,sBAAS,CAAC,CAACC,KAAK,CAAC5G,QAAQ,CAACyG,IAAI,CAACC,KAAK,CAAC,CAAC,EAAE,kCAAkC,CAAC,CAAA;IAC3E,OAAO;EACL,IAAA,GAAGD,IAAI;EACPC,IAAAA,KAAK,EAAE1G,QAAQ,CAACyG,IAAI,CAACC,KAAK,CAAA;KAC3B,CAAA;EACH,CAAC,CAAA;EAEM,MAAMG,WAAW,GAAG,UAACJ,IAAI,EAAA;EAAA,EAAA,IAAEK,IAAI,GAAA/I,SAAA,CAAAnB,MAAA,GAAA,CAAA,IAAAmB,SAAA,CAAA,CAAA,CAAA,KAAAC,SAAA,GAAAD,SAAA,CAAA,CAAA,CAAA,GAAG,EAAE,CAAA;EAAA,EAAA,OAAK+H,EAAE,IAAI;EACpDa,IAAAA,sBAAS,CACP,OAAOF,IAAI,KAAK,UAAU,IAAI,OAAOA,IAAI,KAAK,QAAQ,EACtD,2EACF,CAAC,CAAA;MACDE,sBAAS,CAACG,IAAI,CAACC,IAAI,IAAI,IAAI,EAAE,0BAA0B,CAAC,CAAA;EAExD,IAAA,MAAMrC,OAAO,GAAGY,IAAI,CAACxF,KAAK,CAACkF,IAAI,CAAC,CAAA;EAChC,IAAA,MAAM+B,IAAI,GAAGD,IAAI,CAACC,IAAI,CAAA;EACtB,IAAA,MAAMC,MAAM,GAAGC,OAAM,EAAE,CAAA;EAEvB,IAAA,IAAIR,IAAI,CAACS,aAAa,IAAItB,MAAI,CAACa,IAAI,CAACS,aAAa,CAAC,EAChDT,IAAI,GAAG;QAACU,OAAO,EAAEV,IAAI,CAACS,aAAAA;OAAc,CAAA;MACtC,IAAI,CAACT,IAAI,CAACS,aAAa,IAAItB,MAAI,CAACa,IAAI,CAAC,EAAEA,IAAI,GAAG;EAACU,MAAAA,OAAO,EAAEV,IAAAA;OAAK,CAAA;EAE7D,IAAA,MAAMU,OAAO,GAAGV,IAAI,CAACU,OAAO,CAAA;EAC5B,IAAA,IAAIA,OAAO,EACTV,IAAI,CAACU,OAAO,GAAG,UAACV,IAAI,EAAA;QAAA,KAAAW,IAAAA,IAAA,GAAArJ,SAAA,CAAAnB,MAAA,EAAKyK,IAAI,OAAAtI,KAAA,CAAAqI,IAAA,GAAAA,CAAAA,GAAAA,IAAA,WAAAE,IAAA,GAAA,CAAA,EAAAA,IAAA,GAAAF,IAAA,EAAAE,IAAA,EAAA,EAAA;EAAJD,QAAAA,IAAI,CAAAC,IAAA,GAAAvJ,CAAAA,CAAAA,GAAAA,SAAA,CAAAuJ,IAAA,CAAA,CAAA;EAAA,OAAA;QAAA,OAC3B,CAACH,OAAO,EAAEX,gBAAgB,CAAC,CAACe,MAAM,CAChC,OAAO9B,CAAC,EAAE+B,EAAE,KAAKA,EAAE,CAAC,MAAM/B,CAAC,EAAE,GAAG4B,IAAI,CAAC,EACrCZ,IACF,CAAC,CAAA;EAAA,KAAA,CAAA;EACLA,IAAAA,IAAI,GAAGD,gBAAgB,CAACC,IAAI,CAAC,CAAA;EAE7BX,IAAAA,EAAE,CAAC2B,QAAQ,CAACT,MAAM,CAAC,GAAG;EACpB,MAAA,GAAGtC,OAAO;QACVsC,MAAM;EACN,MAAA,GAAGP,IAAI;EACPM,MAAAA,IAAI,EAAE;UACJ,GAAGrC,OAAO,CAACqC,IAAI;EACf,QAAA,IAAI,OAAON,IAAI,CAACM,IAAI,KAAK,QAAQ,GAAGN,IAAI,CAACM,IAAI,GAAG,EAAE,CAAC;EACnD,QAAA,CAACA,IAAI,GAAG,IAAA;EACV,OAAA;OACD,CAAA;MAED,IAAIA,IAAI,KAAKlC,UAAU,EAAE;EACvBiB,MAAAA,EAAE,CAAC4B,cAAc,CAAC/J,IAAI,CAACqJ,MAAM,CAAC,CAAA;EAChC,KAAC,MAAM,IAAID,IAAI,KAAKjC,KAAK,EAAE;EACzBgB,MAAAA,EAAE,CAAC6B,KAAK,CAAChK,IAAI,CAACqJ,MAAM,CAAC,CAAA;EACvB,KAAC,MAAM;EACLlB,MAAAA,EAAE,CAACiB,IAAI,CAAC,GAAGC,MAAM,CAAA;EACnB,KAAA;EAEA,IAAA,OAAOlB,EAAE,CAAA;KACV,CAAA;EAAA,CAAA,CAAA;EAEM,MAAM8B,YAAY,GAAGC,GAAG,IAAI/B,EAAE,IAAI;EACvC,EAAA,IAAIkB,MAAM,GAAGC,OAAM,EAAE,CAAA;IACrBnB,EAAE,CAACgC,OAAO,CAAC/J,SAAS,CAACJ,IAAI,CAACqJ,MAAM,CAAC,CAAA;IAEjClB,EAAE,CAAC/H,SAAS,CAACiJ,MAAM,CAAC,GAAG1B,IAAI,CAACxF,KAAK,CAACmF,GAAG,CAAC,CAAA;IACtCa,EAAE,CAAC/H,SAAS,CAACiJ,MAAM,CAAC,CAACA,MAAM,GAAGA,MAAM,CAAA;IACpClB,EAAE,CAAC/H,SAAS,CAACiJ,MAAM,CAAC,CAAC/K,KAAK,GAAG4L,GAAG,CAAC5L,KAAK,CAAA;IACtC6J,EAAE,CAAC/H,SAAS,CAACiJ,MAAM,CAAC,CAACe,UAAU,GAAGF,GAAG,CAACE,UAAU,CAAA;IAChDjC,EAAE,CAAC/H,SAAS,CAACiJ,MAAM,CAAC,CAACgB,KAAK,GAAGH,GAAG,CAACG,KAAK,CAAA;IACtClC,EAAE,CAAC/H,SAAS,CAACiJ,MAAM,CAAC,CAACG,OAAO,GAAGU,GAAG,CAACV,OAAO,CAAA;IAC1CrB,EAAE,CAAC/H,SAAS,CAACiJ,MAAM,CAAC,CAACiB,eAAe,GAAGrC,MAAI,CAACiC,GAAG,CAACI,eAAe,CAAC,GAC5DJ,GAAG,CAACI,eAAe,CAACC,IAAI,CAACL,GAAG,CAAC,GAC7BA,GAAG,CAACI,eAAe,CAAA;IAEvB,OAAOhC,EAAE,CAACH,EAAE,CAAC,CAAA;EACf,CAAC,CAAA;EAEM,MAAMqC,WAAW,yBAAyB9B,MAAM,CAACzC,OAAO,CAAC,CAAA;EACzD,MAAMwE,UAAU,0BAA0B/B,MAAM,CAACxC,MAAM,CAAC,CAAA;EACxD,MAAMwE,eAAe,qBAAqBhC,MAAM,CAACvC,WAAW,CAAC,CAAA;EAC7D,MAAMwE,wBAAwB,YAAYjC,MAAM,CAACtC,sBAAsB,CAAC,CAAA;EACxE,MAAMwE,kBAAkB,kBAAkBlC,MAAM,CAAClC,eAAe,CAAC,CAAA;EACjE,MAAMqE,cAAc,sBAAsBnC,MAAM,CAACrC,WAAW,CAAC,CAAA;EAC7D,MAAMyE,aAAa,uBAAuBpC,MAAM,CAACpC,UAAU,CAAC,CAAA;EAC5D,MAAMyE,QAAQ,4BAA4BrC,MAAM,CAACnC,IAAI,CAAC,CAAA;EACtD,MAAMyE,YAAY,wBAAwBtC,MAAM,CAACjC,SAAS,CAAC,CAAA;EAC3D,MAAMwE,kBAAkB,kBAAkBvC,MAAM,CAAChC,gBAAgB,CAAC,CAAA;EAClE,MAAMwE,iBAAiB,mBAAmBxC,MAAM,CAAC/B,cAAc,CAAC,CAAA;EAChE,MAAMwE,wBAAwB,YAAYzC,MAAM,CAAC9B,sBAAsB,CAAC,CAAA;EAE/E,MAAMwE,EAAE,GAAGzC,GAAG,IAAIR,EAAE,IAAIA,EAAE,CAACS,GAAG,KAAKD,GAAG,CAAA;QAEzB0C,SAAS,yBAAyBD,EAAE,CAACnF,OAAO,EAAC;QAC7CqF,QAAQ,0BAA0BF,EAAE,CAAClF,MAAM,EAAC;QAC5CqF,aAAa,qBAAqBH,EAAE,CAACjF,WAAW,EAAC;QACjDqF,sBAAsB,YAAYJ,EAAE,CAAChF,sBAAsB,EAAC;QAC5DqF,gBAAgB,kBAAkBL,EAAE,CAAC5E,eAAe,EAAC;QACrDkF,YAAY,sBAAsBN,EAAE,CAAC/E,WAAW,EAAC;QACjDsF,WAAW,uBAAuBP,EAAE,CAAC9E,UAAU,EAAC;QAChDsF,MAAM,4BAA4BR,EAAE,CAAC7E,IAAI,EAAC;QAC1CsF,UAAU,wBAAwBT,EAAE,CAAC3E,SAAS,EAAC;QAC/CqF,gBAAgB,kBAAkBV,EAAE,CAAC1E,gBAAgB,EAAC;QACtDqF,eAAe,mBAAmBX,EAAE,CAACzE,cAAc,EAAC;QACpDqF,sBAAsB,YAAYZ,EAAE,CAACxE,sBAAsB,EAAC;AAElE,QAAMqF,IAAI,UAAU9D,EAAE,IAAIA,EAAE,CAACI,MAAM,KAAKzB,GAAE;AAC1C,QAAMoF,KAAK,SAAS/D,EAAE,IAAIA,EAAE,CAACI,MAAM,KAAK1B,IAAG;AAC3C,QAAMsF,GAAG,WAAWhE,EAAE,IAAIA,EAAE,CAACM,OAAM;EAEnC,MAAM2D,SAAS,UAAUC,OAAO,IAAIA,OAAO,CAACC,IAAI,KAAKvF,OAAO,CAAA;EAC5D,MAAMwF,OAAO,YAAYC,KAAK,IAAIA,KAAK,CAACF,IAAI,KAAKtF,KAAK,CAAA;EACtD,MAAMyF,UAAU,SAASC,QAAQ,IAAIA,QAAQ,CAACJ,IAAI,KAAKrF,QAAQ,CAAA;EAEtE,MAAM0F,QAAQ,GAAGxE,EAAE,IAAI;IACrB,KAAK,IAAIC,GAAG,IAAIjK,MAAM,CAACuJ,IAAI,CAACS,EAAE,CAAC,EAAE;EAC/B,IAAA,IAAI,CAACX,IAAI,CAACoF,GAAG,CAACxE,GAAG,CAAC,EAChB,MAAM,IAAItG,KAAK,CAAE,CAAGsG,CAAAA,EAAAA,GAAI,kDAAiD,CAAC,CAAA;EAC9E,GAAA;EACA,EAAA,OAAOD,EAAE,CAAA;EACX,CAAC,CAAA;EAED,MAAM0E,OAAO,GAAG,gBAAO1E,EAAE,EAAe;EAAA,EAAA,IAAb2E,GAAG,GAAA1M,SAAA,CAAAnB,MAAA,GAAA,CAAA,IAAAmB,SAAA,CAAA,CAAA,CAAA,KAAAC,SAAA,GAAAD,SAAA,CAAA,CAAA,CAAA,GAAG,EAAE,CAAA;IACjC,IAAI;EACF+H,IAAAA,EAAE,GAAGwE,QAAQ,CAAC,MAAMxE,EAAE,CAAC,CAAA;EACvB,IAAA,IAAI+D,KAAK,CAAC/D,EAAE,CAAC,EAAE,MAAM,IAAIrG,KAAK,CAAE,CAAqBqG,mBAAAA,EAAAA,EAAE,CAACM,MAAO,EAAC,CAAC,CAAA;EACjE,IAAA,IAAI,CAACqE,GAAG,CAAC7N,MAAM,EAAE,OAAOkJ,EAAE,CAAA;EAC1B,IAAA,MAAM,CAAC4E,EAAE,EAAE,GAAGrD,IAAI,CAAC,GAAGoD,GAAG,CAAA;MACzB,MAAME,GAAG,GAAG,MAAMD,EAAE,CAAA;EACpB,IAAA,IAAI9E,MAAI,CAAC+E,GAAG,CAAC,EAAE,OAAOH,OAAO,CAACG,GAAG,CAAC7E,EAAE,CAAC,EAAEuB,IAAI,CAAC,CAAA;EAC5C,IAAA,IAAI1B,MAAM,CAACgF,GAAG,CAAC,IAAI,CAACA,GAAG,EAAE,OAAOH,OAAO,CAAC1E,EAAE,EAAEuB,IAAI,CAAC,CAAA;MACjD,IAAIxB,aAAa,CAAC8E,GAAG,CAAC,EAAE,OAAOH,OAAO,CAACG,GAAG,EAAEtD,IAAI,CAAC,CAAA;EACjD,IAAA,MAAM,IAAI5H,KAAK,CAAC,iCAAiC,CAAC,CAAA;KACnD,CAAC,OAAOmL,CAAC,EAAE;EACV,IAAA,MAAMA,CAAC,CAAA;EACT,GAAA;EACF,CAAC,CAAA;AAEYC,QAAAA,IAAI,GAAG,YAAa;EAAA,EAAA,KAAA,IAAAC,KAAA,GAAA/M,SAAA,CAAAnB,MAAA,EAATmO,IAAI,GAAAhM,IAAAA,KAAA,CAAA+L,KAAA,GAAAE,KAAA,GAAA,CAAA,EAAAA,KAAA,GAAAF,KAAA,EAAAE,KAAA,EAAA,EAAA;EAAJD,IAAAA,IAAI,CAAAC,KAAA,CAAAjN,GAAAA,SAAA,CAAAiN,KAAA,CAAA,CAAA;EAAA,GAAA;EAC1B,EAAA,MAAM,CAACC,IAAI,EAAEC,IAAI,CAAC,GAAGH,IAAI,CAAA;EACzB,EAAA,IAAIzJ,SAAO,CAAC2J,IAAI,CAAC,IAAIC,IAAI,IAAI,IAAI,EAAE,OAAOzF,CAAC,IAAIoF,IAAI,CAACpF,CAAC,EAAEwF,IAAI,CAAC,CAAA;EAC5D,EAAA,OAAOT,OAAO,CAACS,IAAI,EAAEC,IAAI,CAAC,CAAA;EAC5B,EAAC;EAED,MAAMC,UAAQ,GAAGpL,CAAC,IAAIA,CAAC,CAAA;AAEhB,QAAMiD,GAAG,GAAGA,CAAC8C,EAAE,EAAEC,GAAG,EAAEqF,QAAQ,KAAK;EACxC,EAAA,OAAOtF,EAAE,CAACuF,OAAO,CAACtF,GAAG,CAAC,IAAI,IAAI,GAAGqF,QAAQ,GAAGtF,EAAE,CAACuF,OAAO,CAACtF,GAAG,CAAC,CAAA;EAC7D,EAAC;AAEM,QAAMuF,GAAG,GAAGA,CAACvF,GAAG,EAAE9J,KAAK,KAAK6J,EAAE,IAAI;EACvCA,EAAAA,EAAE,CAACuF,OAAO,CAACtF,GAAG,CAAC,GAAG9J,KAAK,CAAA;IACvB,OAAOgK,EAAE,CAACH,EAAE,CAAC,CAAA;EACf,EAAC;AAEYpE,QAAAA,MAAM,GAAG,UAACqE,GAAG,EAAA;EAAA,EAAA,IAAEyB,EAAE,GAAAzJ,SAAA,CAAAnB,MAAA,GAAA,CAAA,IAAAmB,SAAA,CAAA,CAAA,CAAA,KAAAC,SAAA,GAAAD,SAAA,CAAA,CAAA,CAAA,GAAGoN,UAAQ,CAAA;EAAA,EAAA,OAAKrF,EAAE,IAAI;EAClDA,IAAAA,EAAE,CAACuF,OAAO,CAACtF,GAAG,CAAC,GAAGyB,EAAE,CAAC1B,EAAE,CAACuF,OAAO,CAACtF,GAAG,CAAC,EAAED,EAAE,CAAC,CAAA;MACzC,OAAOG,EAAE,CAACH,EAAE,CAAC,CAAA;KACd,CAAA;EAAA,EAAA;QAEYyF,OAAO,GAAGxF,GAAG,IAAID,EAAE,IAAI;EAClC,EAAA,OAAOA,EAAE,CAACuF,OAAO,CAACtF,GAAG,CAAC,CAAA;IACtB,OAAOE,EAAE,CAACH,EAAE,CAAC,CAAA;EACf;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ECvSO,SAAS0F,KAAKA,GAAW;EAAA,EAAA,IAAVf,GAAG,GAAA1M,SAAA,CAAAnB,MAAA,GAAA,CAAA,IAAAmB,SAAA,CAAA,CAAA,CAAA,KAAAC,SAAA,GAAAD,SAAA,CAAA,CAAA,CAAA,GAAG,EAAE,CAAA;EAC5B,EAAA,OAAO8M,IAAI,CAACtF,WAAW,EAAE,EAAEkF,GAAG,CAAC,CAAA;EACjC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;uBCHA,gBAAAgB,mBAAA,CAAAC,MAAA,CAAA,CAAA;6BACO,gBAAAC,uBAAA,CAAAC,cAAA,CAAA,CAAA;EAEHC,MAAAA,eAAA,GAAAC,UAAA,CAAAD,eAAA,IAAArI,8BAAA,CAAA;EACmBuI,MAAAA,gBAAA,SAAAtM,KAAA,CAAA;EACnBuM,EAAAA,WAAAA,CAAAC,IAAA,EAAA;MACA,IAAA;QACAC,KAAA;QACJC,QAAA;QACAC,IAAS;QACTC,MAAA;QACAC,WAAS;QACTC,YAAuB;QACvBC,kBAAuB;EACvBC,MAAAA,UAAAA;EACA,KAAA,GAAIR,IAAA,CAAA;EACJ,IAAA,MAAUS,GAAA,GAAA,CAAA;AACV;QACAR,KAAc,GAAA,SAAAA,KAAA,CAAA,CAAA,GAAA,EAAA,CAAA;AAEJC,MAAAA,EAAAA,QAAK,eAAAA,QAAqB,CAAA,CAAA,GAAA,EAAA,CAAA;QACpCC,IAAS,GAAA,CAAA,KAAA,EAAEA,IAAA,CAAA,CAAA,GAAA,EAAA,CAAA;AACJC,MAAAA,EAAAA,MAAA,aAAAA,MAAA,CAAA,CAAA,GAAA,EAAA,CAAA;AACP,MAAAC,EAAAA,WAAA,kBAAAA,WAAA,CAAA,CAAA,GAAA,EAAA,CAAA;AACA,MAAAC,EAAAA,YAAA,mBAAAA,YAAA,CAAA,CAAA,GAAA,EAAA,CAAA;;AAEA,MAAAE,EAAAA,UAAA,iBAAAA,UAAA,CAAA,CAAA,GAAA,EAAA,CAAA;AACA,IAAA,CAAA,CAAA;EACA,IAAA,KAAA,CAAAC,GAAA,CAAA,CAAA;EACA,IAAA,IAAA,CAAA9L,IAAA,GAAA,oBAAA,CAAA;MACA,IAAA6L,CAAAA,UAAA,GAAAA,UAAA,CAAA;MACA,IAAAE,CAAAA,YAAA,GAAAT,KAAA,CAAA;EACA,GAAA;EACA,CAAA;;EAEA;EACA;EACA;EACA;EACA;EACA;EACA;EACwB;;;;;;;EAMlB;EACA;EACA,eAAAU,WAAYC,CAAAC,KAAA,EAAA;EACZ,EAAA,IAAA;MACAX,QAAA;MACAC,IAAE;MAERC,MAAA;MACIU,IAAA;MACAC,OAAS;gBACL,GAAW,CAAA;qBACE,GAAA,IAAA;MAEpBH,YAAA,GAAA,KAAA;MACDI,oBAAA,GAAA,IAAA;EACA,GAAA,GAAAH,KAAA,CAAA;EACAI,EAAAA,MAAAA,QAAA,GAAAH,IAAA,GAAAzH,IAAA,CAAArH,SAAA,CAAA8O,IAAA,CAAA,GAAA,IAAA,CAAA;EACAI,EAAAA,SAAAA,WAAAA,GAAA;MACA,MACAC,UAAA,GAAA,IAAAvB,eAAA,EAAA,CAAA;EACAwB,IAAAA,MAAAA,YAAA,GAAAC,UAAA,CAAA,MAAA;QACAF,UAAA,CAAAG,KAAA,EAAA,CAAA;EACA,KAAA,EAAAV,YAAA,CAAA,CAAA;EAEA,IAAA,OAAAW,uBAAA,CAAA,SAAA,CAAArB,CAAAA,CAAAA,EAAAA,QAAA,GAAAC,IAAA,CAAA,CAAA,EAAA;EACAC,MAAAA,MAAA,EAAAA,MAAA;EAEAU,MAAAA,IAAA,EAAAG,QAAA;EACA,MAAA,OAAA;EACA,MAAA,MAAA,EAAAE,UAAA,CAAAK,MAAAA;EACA,KAAA,CAAA,CAAA,IAAA,CAAA,MAAAC,GAAA,IAAA;EACeA,MAAAA,IAAAA,GAAA,CAAAC,EAAA,EAAA;UACT,OAAAD,GAAA,CAAAE,IAAA,EAAA,CAAA;EACM,OAAA;EACJC,MAAAA,MAAAA,YAAA,GAAA,MAAAH,GAAA,CAAAI,IAAA,GAAAC,KAAA,CAAA,MAAA,IAAA,CAAA,CAAA;cACEC,QAAA,GAAAC,aAAA,CAAAJ,YAAA,CAAA,CAAA;EACF,MAAA,MAAA,IAAA9B,gBAAA,CAAA;UAEJG,KAAA,EAAA8B,QAAc,EAAAlG,OAAA;UACdqE,QAAA;UACAC,IAAA;UACAC,MAAA;EAEIC,QAAAA,WAAW,EAAIY,QAAA;EACrBX,QAAAA;;;EAGc,OAAA,CAAA,CAAA;OACGwB,CAAAA,CAAAA,KAAA,OAAAnD,CAAA,IAAA;EACRA,MAAAA,IAAAA,CAAA,YAAAmB,gBAAA,EAAA;EACC,QAAA,MAAAnB,CAAQ,CAAA;;QAEpB,IAAAA,CAAA,CAAAhK,IAAA,KAAA,YAAA,EAAA;EACA,QAAA,MAAAgK,CAAA,CAAA;EACY,OAAA;;EAEJ;EAEI,MAAA,IAAAqC,oBAAA;gBACQiB;EACdC,UAAAA,KAAA,EAAU,mBAAA;EACHrG,UAAAA,OAAA,8BAAAqE,QAAA,CAAA;;AAED,8EAAA,CAAA;EACEiC,UAAAA,KAAA,EAAAF,iBAAA,CAAAG,MAAA,CAAAnC,KAAAA;EAEN,SAAA,CAAA,CAAA;EACA,OAAA;EACA,MAAA,MAAA,IAAAH,gBAAA,CAAA;UACRG,KAAA,EAAAtB,CAAA,EAAA9C,OAAA;UAEAqE,QAAA;UAAuBC,IAAA;UACfC,MAAA;EACDC,QAAAA,WAAA,EAAAY,QAAAA;EACD,OAAA,CAAA,CAAA;OACE,CAAA,CAAAoB,OAAA,CAAQ,MAAA;QACTC,YAAA,CAAAlB,YAAA,CAAA,CAAA;EAEP,KAAA,CAAA,CAAA;;EAKAmB,EAAAA,eAAAA,WAAAC,GAAA;MACA,IAAAA,YAAA,GAAA1Q,SAAA,CAAAnB,MAAA,QAAAmB,SAAA,CAAA,CAAA,CAAA,KAAAC,SAAA,GAAAD,SAAA,CAAA,CAAA,CAAA,GAAA,CAAA,CAAA;;QAIY,MAAA2Q,IAAA,SAAAvB,WAAA,EAAA,CAAA;EACC,MAAA,OAAAuB,IAAA,CAAA;EACG,KAAA,CAAA,OAAAxC,KAAA,EAAA;8BACJ,GAAA,CAAA,GAAA,EAAA,GAAA,EAAA,GAAA,EAAA,GAAA,EAAA,GAAA,EAAA,GAAA,CAAA,CAAA;QACE,IAAAA,KAAA,CAAAtL,IAAA,KAAA+N,YAAAA,IAAAA,gBAAA,CAAAC,QAAA,CAAA1C,KAAA,CAAAO,UAAA,CAAA,EAAA;EACN,QAAA,OAAA,MAAW,IAAUoC,OAAA,CAAA1H,CAAAA,OAAA,EAAA2H,MAAA,KAAA;YACpB,IAAAL,YAAA,GAAAM,UAAA,EAAA;EACK,YAAA,IAAA9B,oBAAA,EAAA;gBACI+B,OAAA,CAAAC,IAAA,CAAA,CAAA,qCAAA,EAAAC,eAAA,CAAA,MAAA,CAAA,CAAA,CAAA;EACX,aAAA;cACJ5B,UAAA,CAAA,MAAA;gBACDnG,OAAA,CAAAqH,WAAA,CAAAC,YAAA,GAAA,CAAA,CAAA,CAAA,CAAA;EACE,aAAA,EAAAS,eAAA,CAAA,CAAA;;EAEJJ,YAAAA,MAAA,CAAA5C,KAAA,CAAA,CAAA;EACM,WAAA;EACN,SAAA,CAAA,CAAA;SAEU,MAAA;EACF,QAAA,MAAAA,KAAA,CAAA;EACR,OAAA;EACY,KAAA;EACZ,GAAA;;EAEA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ECjKA,MAAMiD,gBAAgB,GAAI,CAAA;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAE,CAAA,CAAA;AAEK,QAAMnB,QAAQ,GAAGA,MAAM1I,IAAI,CAACxF,KAAK,CAACqP,gBAAgB;;ECbzD;EACA;EACA;EACA;EACA;EACO,SAASC,QAAQA,GAAkB;EAAA,EAAA,IAAjBC,QAAQ,GAAAtR,SAAA,CAAAnB,MAAA,GAAA,CAAA,IAAAmB,SAAA,CAAA,CAAA,CAAA,KAAAC,SAAA,GAAAD,SAAA,CAAA,CAAA,CAAA,GAAG,IAAI,CAAA;EACtC,EAAA,OAAO8M,IAAI,CAAC,CACVlC,YAAY,EACZ7C,EAAE,IAAI;EACJA,IAAAA,EAAE,CAACwJ,KAAK,CAACD,QAAQ,GAAGA,QAAQ,CAAA;MAC5B,OAAOpJ,EAAE,CAACH,EAAE,CAAC,CAAA;EACf,GAAC,CACF,CAAC,CAAA;EACJ;;ECZA;EACA;EACA;EACA;EACA;EACO,SAASyJ,UAAUA,CAACC,IAAI,EAAE;EAC/B,EAAA,OAAO3E,IAAI,CAAC,CACVrC,cAAc,EACd1C,EAAE,IAAI;MACJA,EAAE,CAACkE,OAAO,CAACwF,IAAI,GAAGC,qBAAU,CAACD,IAAI,CAAC,CAAA;MAClC,OAAOvJ,EAAE,CAACH,EAAE,CAAC,CAAA;EACf,GAAC,CACF,CAAC,CAAA;EACJ;;ECdA,MAAM4J,4BAA4B,GAAGA,MAAM;IACzCC,YAAG,CAACC,SAAS,CAAC;EACZC,IAAAA,GAAG,EAAE,gBAAgB;EACrBC,IAAAA,OAAO,EACL,qEAAqE;EACvEC,IAAAA,UAAU,EACR,kHAAA;EACJ,GAAC,CAAC,CAAA;EACJ,CAAC,CAAA;EAUD,MAAMC,cAAc,GAAG,MAAMtS,CAAC,IAAIA,CAAC,CAAA;EAEnC,MAAMuS,UAAU,GAAG,YAAY,IAAI,CAAA;EAEnC,MAAMC,UAAU,GAAG,MAAMC,IAAI,IAAI;IAC/B,OAAOA,IAAI,CAACC,UAAU,CAAA;EACxB,CAAC,CAAA;EAED,MAAMC,UAAU,GAAG,MAAMjE,IAAI,IAAI;IAC/B,OAAO;MACLkE,MAAM,EAAElE,IAAI,CAACkE,MAAM;MACnBC,UAAU,EAAEnE,IAAI,CAACmE,UAAAA;KAClB,CAAA;EACH,CAAC,CAAA;EAED,MAAMC,gBAAgB,GAAG,MAAMC,GAAG,IAAI;IACpC,OAAO;MACLrE,IAAI,EAAEqE,GAAG,CAACrE,IAAI;MACdsE,OAAO,EAAED,GAAG,CAACC,OAAO;MACpBC,UAAU,EAAEF,GAAG,CAACE,UAAAA;KACjB,CAAA;EACH,CAAC,CAAA;EAED,MAAMC,cAAc,GAAG,OAAOC,QAAQ,EAAEC,QAAQ,EAAEC,KAAK,KACrDF,QAAQ,GAAG,MAAMG,aAAa,CAACH,QAAQ,EAAEC,QAAQ,EAAEC,KAAK,CAAC,GAAG,IAAI,CAAA;EAElE,MAAME,eAAe,GAAG,MAAMlR,CAAC,KAAK;IAAC2Q,OAAO,EAAE3Q,CAAC,CAAC2Q,OAAO;IAAEP,IAAI,EAAEpQ,CAAC,CAACoQ,IAAAA;EAAI,CAAC,CAAC,CAAA;EAEvE,MAAMe,WAAW,GAAG,OAAOC,KAAK,EAAEL,QAAQ,EAAEC,KAAK,KAC/C,MAAMlC,OAAO,CAACuC,GAAG,CACfD,KAAK,CAACE,GAAG,CACPtR,CAAC,IACC,IAAI8O,OAAO,CAAC,MAAMnB,GAAG,IACnBA,GAAG,CAAC,MAAMsD,aAAa,CAACjR,CAAC,EAAE+Q,QAAQ,EAAE,CAAC,GAAGC,KAAK,EAAEhR,CAAC,CAACoQ,IAAI,CAAC,CAAC,CAC1D,CACJ,CACF,CAAC,CAAA;EAEH,MAAMmB,gBAAgB,GAAG,OAAOC,UAAU,EAAET,QAAQ,EAAEC,KAAK,KACzD,MAAMQ,UAAU,CAAChK,MAAM,CAAC,OAAOiK,GAAG,EAAEzR,CAAC,KAAK;IACxCyR,GAAG,GAAG,MAAMA,GAAG,CAAA;EACfA,EAAAA,GAAG,CAAC,MAAMR,aAAa,CAACjR,CAAC,CAACgG,GAAG,EAAE+K,QAAQ,EAAE,CAAC,GAAGC,KAAK,EAAEhR,CAAC,CAACgG,GAAG,CAAC,CAAC,CAAC,GAC1D,MAAMiL,aAAa,CAACjR,CAAC,CAAC9D,KAAK,EAAE6U,QAAQ,EAAE,CAAC,GAAGC,KAAK,EAAEhR,CAAC,CAACgG,GAAG,CAAC,CAAC,CAAA;EAC3D,EAAA,OAAOyL,GAAG,CAAA;EACZ,CAAC,EAAE3C,OAAO,CAAC1H,OAAO,CAAC,EAAE,CAAC,CAAC,CAAA;EAEzB,MAAMsK,eAAe,GAAG,OAAOC,SAAS,EAAEZ,QAAQ,EAAEC,KAAK,KAAK;EAC5D,EAAA,MAAMY,OAAO,GAAG,MAAMD,SAAS,CAACE,MAAM,CAACrK,MAAM,CAAC,OAAOiK,GAAG,EAAEzR,CAAC,KAAK;MAC9DyR,GAAG,GAAG,MAAMA,GAAG,CAAA;MACfA,GAAG,CAACzR,CAAC,CAACa,IAAI,CAAC,GAAG,MAAMoQ,aAAa,CAACjR,CAAC,CAAC9D,KAAK,EAAE6U,QAAQ,EAAE,CAAC,GAAGC,KAAK,EAAEhR,CAAC,CAACa,IAAI,CAAC,CAAC,CAAA;EACxE,IAAA,OAAO4Q,GAAG,CAAA;KACX,EAAE3C,OAAO,CAAC1H,OAAO,CAAC,EAAE,CAAC,CAAC,CAAA;EACvB,EAAA,MAAM0K,OAAO,GAAGH,SAAS,CAACI,EAAE,IAAIC,aAAa,CAACjB,QAAQ,EAAEY,SAAS,CAACI,EAAE,CAAC,CAAA;IACrE,OAAOD,OAAO,GAAG,MAAMA,OAAO,CAACF,OAAO,CAAC,GAAGA,OAAO,CAAA;EACnD,CAAC,CAAA;EAED,MAAMK,eAAe,GAAG;EACtBC,EAAAA,IAAI,EAAEjC,cAAc;EACpBkC,EAAAA,GAAG,EAAElC,cAAc;EACnBmC,EAAAA,KAAK,EAAEnC,cAAc;EACrBoC,EAAAA,IAAI,EAAEpC,cAAc;EACpBqC,EAAAA,MAAM,EAAErC,cAAc;EACtBsC,EAAAA,KAAK,EAAEtC,cAAc;EACrBuC,EAAAA,MAAM,EAAEvC,cAAc;EACtBwC,EAAAA,KAAK,EAAExC,cAAc;EACrByC,EAAAA,MAAM,EAAEzC,cAAc;EACtB0C,EAAAA,KAAK,EAAE1C,cAAc;EACrB2C,EAAAA,OAAO,EAAE3C,cAAc;EACvB4C,EAAAA,MAAM,EAAE5C,cAAc;EACtB6C,EAAAA,OAAO,EAAE7C,cAAc;EACvB8C,EAAAA,MAAM,EAAE9C,cAAc;EACtB+C,EAAAA,KAAK,EAAE/C,cAAc;EACrBgD,EAAAA,MAAM,EAAEhD,cAAc;EACtBiD,EAAAA,MAAM,EAAEjD,cAAc;EACtBkD,EAAAA,MAAM,EAAElD,cAAc;EACtBmD,EAAAA,MAAM,EAAEnD,cAAc;EACtBoD,EAAAA,KAAK,EAAEpD,cAAc;EACrBqD,EAAAA,MAAM,EAAErD,cAAc;EACtBsD,EAAAA,SAAS,EAAEtD,cAAc;EACzBuD,EAAAA,IAAI,EAAEvD,cAAc;EACpBwD,EAAAA,OAAO,EAAExD,cAAc;EACvByD,EAAAA,IAAI,EAAExD,UAAU;EAChByD,EAAAA,QAAQ,EAAE9C,cAAc;EACxB+C,EAAAA,SAAS,EAAE1C,eAAe;EAC1BlS,EAAAA,KAAK,EAAEmS,WAAW;EAClB0C,EAAAA,UAAU,EAAEtC,gBAAgB;EAC5BuC,EAAAA,KAAK,EAAEpC,eAAe;EACtBqC,EAAAA,QAAQ,EAAErC,eAAe;EACzBsC,EAAAA,MAAM,EAAEtC,eAAe;EACvBuC,EAAAA,IAAI,EAAEvC,eAAe;EACrBwC,EAAAA,IAAI,EAAE/D,UAAU;EAChBgE,EAAAA,IAAI,EAAE7D,UAAU;EAChB8D,EAAAA,UAAU,EAAE3D,gBAAAA;EACd,CAAC,CAAA;EAED,MAAMuB,aAAa,GAAGA,CAACjB,QAAQ,EAAEsD,MAAM,KAAK;EAC1C,EAAA,MAAMC,KAAK,GAAGvY,MAAM,CAACuJ,IAAI,CAACyL,QAAQ,CAAC,CAACwD,IAAI,CAACzC,OAAO,IAAI;EAClD,IAAA,IAAI,UAAU,CAACxU,IAAI,CAACwU,OAAO,CAAC,EAAE;EAC5B,MAAA,MAAM0C,GAAG,GAAG,IAAIC,MAAM,CAAC3C,OAAO,CAAC4C,SAAS,CAAC,CAAC,EAAE5C,OAAO,CAACjV,MAAM,GAAG,CAAC,CAAC,CAAC,CAAA;EAChE,MAAA,OAAO2X,GAAG,CAAClX,IAAI,CAAC+W,MAAM,CAAC,CAAA;EACzB,KAAA;MACA,OAAOvC,OAAO,KAAKuC,MAAM,CAAA;EAC3B,GAAC,CAAC,CAAA;EACF,EAAA,OAAOA,MAAM,IAAIC,KAAK,IAAIvD,QAAQ,CAACuD,KAAK,CAAC,CAAA;EAC3C,CAAC,CAAA;EAED,MAAMrD,aAAa,GAAG,OAAO0D,kBAAkB,EAAE5D,QAAQ,EAAEC,KAAK,KAAK;IACnE,IAAIc,OAAO,GAAGE,aAAa,CAACjB,QAAQ,EAAE4D,kBAAkB,CAACvE,IAAI,CAAC,CAAA;EAC9D,EAAA,IAAI,CAAC0B,OAAO,EACV,MAAM,IAAIpS,KAAK,CACZ,CAA2BiV,yBAAAA,EAAAA,kBAAkB,CAACvE,IAAK,CAAA,CAAA,EAAGY,KAAK,CAAC4D,IAAI,CAAC,GAAG,CAAE,EACzE,CAAC,CAAA;IACH,OAAO,MAAM9C,OAAO,CAAC6C,kBAAkB,CAACzY,KAAK,EAAE6U,QAAQ,EAAEC,KAAK,CAAC,CAAA;EACjE,CAAC,CAAA;;EAED;EACA;EACA;EACA;EACA;EACA;EACA;EACO,MAAM6D,QAAM,GAAG,gBACpBF,kBAAkB,EAGf;EAAA,EAAA,IAFHG,cAAc,GAAA9W,SAAA,CAAAnB,MAAA,GAAA,CAAA,IAAAmB,SAAA,CAAA,CAAA,CAAA,KAAAC,SAAA,GAAAD,SAAA,CAAA,CAAA,CAAA,GAAG,EAAE,CAAA;EAAA,EAAA,IACnBgT,KAAK,GAAAhT,SAAA,CAAAnB,MAAA,GAAA,CAAA,IAAAmB,SAAA,CAAA,CAAA,CAAA,KAAAC,SAAA,GAAAD,SAAA,CAAA,CAAA,CAAA,GAAG,EAAE,CAAA;EAEV;IACA,MAAM+W,gBAAgB,GAAGhZ,MAAM,CAACuJ,IAAI,CAAC2M,eAAe,CAAC,CAClD+C,MAAM,CACLlD,OAAO,IACL,CAAC/V,MAAM,CAACuJ,IAAI,CAACwP,cAAc,CAAC,CAACP,IAAI,CAACU,aAAa,IAC7C,IAAIR,MAAM,CAACQ,aAAa,CAAC,CAAC3X,IAAI,CAACwU,OAAO,CACxC,CACJ,CAAC,CACAtK,MAAM,CAAC,CAACuJ,QAAQ,EAAEmE,UAAU,KAAK;EAChCnE,IAAAA,QAAQ,CAACmE,UAAU,CAAC,GAAGjD,eAAe,CAACiD,UAAU,CAAC,CAAA;EAClD,IAAA,OAAOnE,QAAQ,CAAA;KAChB,EAAE+D,cAAc,CAAC,CAAA;EAEpB,EAAA,MAAM/D,QAAQ,GAAG;EACf,IAAA,GAAGgE,gBAAgB;MACnB,GAAGD,cAAAA;KACJ,CAAA;EACD,EAAA,OAAO7D,aAAa,CAAC0D,kBAAkB,EAAE5D,QAAQ,EAAEC,KAAK,CAAC,CAAA;EAC3D,CAAC,CAAA;EAEM,MAAMmE,cAAc,GAAG,gBAAOlH,QAAQ,EAA0B;EAAA,EAAA,IAAxB6G,cAAc,GAAA9W,SAAA,CAAAnB,MAAA,GAAA,CAAA,IAAAmB,SAAA,CAAA,CAAA,CAAA,KAAAC,SAAA,GAAAD,SAAA,CAAA,CAAA,CAAA,GAAG,EAAE,CAAA;IAChE,IAAIiQ,QAAQ,CAACmH,WAAW,EAAE;EACxB,IAAA,OAAOP,QAAM,CAAC5G,QAAQ,CAACmH,WAAW,EAAEN,cAAc,CAAC,CAAA;EACrD,GAAC,MAAM,IAAI7G,QAAQ,CAACoH,iBAAiB,EAAE;MACrC,OAAO;QACL,GAAGpH,QAAQ,CAACoH,iBAAiB;EAC7BC,MAAAA,MAAM,EAAE,MAAMxG,OAAO,CAACuC,GAAG,CACvBpD,QAAQ,CAACoH,iBAAiB,CAACC,MAAM,CAAChE,GAAG,CAAC,eAAeiE,YAAYA,CAAC1K,CAAC,EAAE;UACnE,OAAO;YACLuF,IAAI,EAAEvF,CAAC,CAACuF,IAAI;YACZoF,aAAa,EAAE3K,CAAC,CAAC2K,aAAa;YAC9BC,gBAAgB,EAAE5K,CAAC,CAAC4K,gBAAgB;YACpCC,UAAU,EAAE7K,CAAC,CAAC6K,UAAU;YACxBC,IAAI,EAAE,MAAMd,QAAM,CAAChK,CAAC,CAAC+K,OAAO,EAAEd,cAAc,CAAA;WAC7C,CAAA;EACH,OAAC,CACH,CAAA;OACD,CAAA;EACH,GAAC,MAAM,IAAI7G,QAAQ,CAAC4H,WAAW,EAAE;MAC/B,OAAO5H,QAAQ,CAAC4H,WAAW,CAAA;EAC7B,GAAC,MAAM,IAAI5H,QAAQ,CAACqH,MAAM,EAAE;EAC1B,IAAA,OAAO,MAAMxG,OAAO,CAACuC,GAAG,CACtBpD,QAAQ,CAACqH,MAAM,CAAChE,GAAG,CAAC,eAAeiE,YAAYA,CAAC1K,CAAC,EAAE;QACjD,OAAO;UACLiL,OAAO,EAAEjL,CAAC,CAACiL,OAAO;UAClBC,WAAW,EAAElL,CAAC,CAACkL,WAAW;UAC1BC,cAAc,EAAEnL,CAAC,CAACmL,cAAc;UAChC5F,IAAI,EAAEvF,CAAC,CAACuF,IAAI;UACZoF,aAAa,EAAE3K,CAAC,CAAC2K,aAAa;UAC9BC,gBAAgB,EAAE5K,CAAC,CAAC4K,gBAAgB;UACpCC,UAAU,EAAE7K,CAAC,CAAC6K,UAAU;UACxBC,IAAI,EAAE,MAAMd,QAAM,CAAChK,CAAC,CAAC+K,OAAO,EAAEd,cAAc,CAAA;SAC7C,CAAA;EACH,KAAC,CACH,CAAC,CAAA;EACH,GAAC,MAAM,IAAI7G,QAAQ,CAAChE,OAAO,EAAE;MAC3B,OAAOgE,QAAQ,CAAChE,OAAO,CAAA;EACzB,GAAC,MAAM,IAAIgE,QAAQ,CAACsB,KAAK,EAAE;MACzB,OAAOtB,QAAQ,CAACsB,KAAK,CAAA;EACvB,GAAC,MAAM,IAAItB,QAAQ,CAACgI,WAAW,EAAE;MAC/B,OAAOhI,QAAQ,CAACgI,WAAW,CAAA;EAC7B,GAAC,MAAM,IAAIhI,QAAQ,CAACiI,WAAW,EAAE;EAC/BvG,IAAAA,4BAA4B,EAAE,CAAA;MAC9B,OAAO1B,QAAQ,CAACiI,WAAW,CAAA;EAC7B,GAAC,MAAM,IAAIjI,QAAQ,CAACuH,aAAa,EAAE;MACjC,OAAOvH,QAAQ,CAACuH,aAAa,CAAA;EAC/B,GAAC,MAAM,IAAIvH,QAAQ,CAACkI,UAAU,EAAE;MAC9B,OAAOlI,QAAQ,CAACkI,UAAU,CAAA;EAC5B,GAAC,MAAM,IAAIlI,QAAQ,CAACmI,iBAAiB,EAAE;EACrC,IAAA,MAAMC,UAAU,GAAG;EACjB,MAAA,cAAc,EAAE,SAAS;EACzB,MAAA,cAAc,EAAE,SAAS;EACzB,MAAA,eAAe,EAAE,OAAA;OAClB,CAAA;MAED,OAAO;EACLC,MAAAA,OAAO,EAAED,UAAU,CAACpI,QAAQ,CAACmI,iBAAiB,CAACE,OAAO,CAAA;OACvD,CAAA;EACH,GAAA;EAEA,EAAA,OAAO,IAAI,CAAA;EACb,CAAC;;EC9ND,MAAMzQ,MAAI,GAAG7F,CAAC,IAAI,OAAOA,CAAC,KAAK,UAAU,CAAA;EACzC,MAAMuW,UAAQ,GAAGvW,CAAC,IAAI,OAAOA,CAAC,KAAK,QAAQ,CAAA;EAE3C,MAAMwW,sBAAsB,GAAGA,MAAM,cAAc,CAAA;EACnD,SAASC,qBAAqBA,CAACC,OAAO,EAAE;EACtC,EAAA,OAAOF,sBAAsB,EAAE,CAAClZ,IAAI,CAACoZ,OAAO,CAAC,CAAA;EAC/C,CAAA;EAEA,MAAMC,sBAAsB,GAAGA,MAAM,mBAAmB,CAAA;EACxD,SAASC,qBAAqBA,CAACF,OAAO,EAAE;EACtC,EAAA,OAAOC,sBAAsB,EAAE,CAACrZ,IAAI,CAACoZ,OAAO,CAAC,CAAA;EAC/C,CAAA;EAEA,SAASG,kCAAkCA,CAACH,OAAO,EAAE;EACnD,EAAA,OAAOA,OAAO,CAACI,QAAQ,CAACH,sBAAsB,EAAE,CAAC,CAAA;EACnD,CAAA;EAEO,eAAeI,cAAcA,CAAChR,EAAE,EAAE;EACvC,EAAA,IAAI,CAACoD,aAAa,CAACpD,EAAE,CAAC,IAAI,CAACmD,QAAQ,CAACnD,EAAE,CAAC,EAAE,OAAOA,EAAE,CAAA;EAElD,EAAA,IAAI2Q,OAAO,GAAGzT,GAAG,CAAC8C,EAAE,EAAE,YAAY,CAAC,CAAA;EAEnCa,EAAAA,sBAAS,CACPf,MAAI,CAAC6Q,OAAO,CAAC,IAAIH,UAAQ,CAACG,OAAO,CAAC,EAClC,6CACF,CAAC,CAAA;EACD,EAAA,IAAI7Q,MAAI,CAAC6Q,OAAO,CAAC,EAAEA,OAAO,GAAG,MAAMA,OAAO,CAAC,EAAE,CAAC,CAAA;EAC9C9P,EAAAA,sBAAS,CAAC2P,UAAQ,CAACG,OAAO,CAAC,EAAE,6CAA6C,CAAC,CAAA;EAC3E9P,EAAAA,sBAAS,CACP,CAAC6P,qBAAqB,CAACC,OAAO,CAAC,IAAI,CAACE,qBAAqB,CAACF,OAAO,CAAC,EAClE,sFACF,CAAC,CAAA;EACD,EAAA,IAAID,qBAAqB,CAACC,OAAO,CAAC,EAAE;EAClCA,IAAAA,OAAO,GAAG,MAAMM,aAAM,EAAE,CACrBC,KAAK,CAAC,KAAK,CAAC,CACZC,IAAI,CAACxR,CAAC,IACL3J,MAAM,CAACob,OAAO,CAACzR,CAAC,CAAC,CAAC8B,MAAM,CAAC,CAACkP,OAAO,EAAAxK,IAAA,KAAmB;EAAA,MAAA,IAAjB,CAAClG,GAAG,EAAE9J,KAAK,CAAC,GAAAgQ,IAAA,CAAA;EAC7C,MAAA,MAAMlP,KAAK,GAAG,IAAIyX,MAAM,CAAC,MAAM,GAAGzO,GAAG,GAAG,MAAM,EAAE,GAAG,CAAC,CAAA;EACpD,MAAA,OAAO0Q,OAAO,CAACU,OAAO,CAACpa,KAAK,EAAEd,KAAK,CAAC,CAAA;OACrC,EAAEwa,OAAO,CACZ,CAAC,CAAA;EACL,GAAA;EAEA,EAAA,IAAIE,qBAAqB,CAACF,OAAO,CAAC,EAAE;MAClC,KAAK,MAAM,CAACW,SAAS,EAAEC,YAAY,CAAC,IAAIT,kCAAkC,CACxEH,OACF,CAAC,EAAE;EACD,MAAA,MAAM/F,OAAO,GAAG,MAAMqG,aAAM,EAAE,CAAC/T,GAAG,CAAE,CAAA,iBAAA,EAAmBqU,YAAa,CAAA,CAAC,CAAC,CAAA;EACtE,MAAA,IAAI3G,OAAO,EAAE;EACX+F,QAAAA,OAAO,GAAGA,OAAO,CAACU,OAAO,CACvBC,SAAS,EACR,CAASC,OAAAA,EAAAA,YAAa,SAAQC,qBAAU,CAAC5G,OAAO,CAAE,EACrD,CAAC,CAAA;EACH,OAAC,MAAM;UACLhF,mBAAM,CAACiE,GAAG,CAAC;EACTxB,UAAAA,KAAK,EAAE,gCAAgC;YACvCrG,OAAO,EAAG,CAA+CuP,6CAAAA,EAAAA,YAAa,CAA2F,0FAAA,CAAA;EACjKjJ,UAAAA,KAAK,EAAE1C,mBAAM,CAAC2C,MAAM,CAACY,IAAAA;EACvB,SAAC,CAAC,CAAA;EACJ,OAAA;EACF,KAAA;EACF,GAAA;;EAEA;EACAnJ,EAAAA,EAAE,CAACgC,OAAO,CAAC2O,OAAO,GAAGA,OAAO,CAAA;EAE5B,EAAA,OAAO3Q,EAAE,CAAA;EACX;;ECtEA,MAAMF,MAAI,GAAG7F,CAAC,IAAI,OAAOA,CAAC,KAAK,UAAU,CAAA;EAEzC,SAASwX,IAAIA,CAAC1P,GAAG,EAAE;EACjB;EACAlB,EAAAA,sBAAS,CAAC,OAAOkB,GAAG,CAACG,KAAK,IAAI,IAAI,EAAG,CAAkCH,gCAAAA,EAAAA,GAAG,CAAC5L,KAAM,EAAC,CAAC,CAAA;EAEnF,EAAA,IAAI2J,MAAI,CAACiC,GAAG,CAACG,KAAK,CAAC,EAAE,OAAOH,GAAG,CAACG,KAAK,CAACH,GAAG,CAAC5L,KAAK,CAAC,CAAA;EAChD,EAAA,IAAI2J,MAAI,CAACiC,GAAG,CAACG,KAAK,CAACD,UAAU,CAAC,EAAE,OAAOF,GAAG,CAACG,KAAK,CAACD,UAAU,CAACF,GAAG,CAAC5L,KAAK,CAAC,CAAA;;EAEtE;EACA0K,EAAAA,sBAAS,CAAC,KAAK,EAAG,CAAiB,gBAAA,CAAA,EAAEkB,GAAG,CAAC,CAAA;EAC3C,CAAA;EAEA,eAAe2P,mBAAmBA,CAAC3P,GAAG,EAAa;EAAA,EAAA,IAAX4P,KAAK,GAAA1Z,SAAA,CAAAnB,MAAA,GAAA,CAAA,IAAAmB,SAAA,CAAA,CAAA,CAAA,KAAAC,SAAA,GAAAD,SAAA,CAAA,CAAA,CAAA,GAAG,CAAC,CAAA;IAC/C4I,sBAAS,CACP8Q,KAAK,GAAG,CAAC,EACR,sDAAqD5P,GAAG,CAACb,MAAO,CAAA,CACnE,CAAC,CAAA;EAED,EAAA,IAAIpB,MAAI,CAACiC,GAAG,CAACI,eAAe,CAAC,EAAE;EAC7B,IAAA,MAAMyP,WAAW,GAAG,MAAM7P,GAAG,CAACI,eAAe,EAAE,CAAA;EAC/C,IAAA,OAAOuP,mBAAmB,CAACE,WAAW,EAAED,KAAK,GAAG,CAAC,CAAC,CAAA;EACpD,GAAC,MAAM;EACL,IAAA,OAAO5P,GAAG,CAAA;EACZ,GAAA;EACF,CAAA;EAEO,eAAe8P,gBAAgBA,CAAC7R,EAAE,EAAE;IACzC,IAAIoD,aAAa,CAACpD,EAAE,CAAC,IAAImD,QAAQ,CAACnD,EAAE,CAAC,EAAE;EACrC,IAAA,KAAK,IAAI,CAACgM,EAAE,EAAEjK,GAAG,CAAC,IAAI/L,MAAM,CAACob,OAAO,CAACpR,EAAE,CAAC/H,SAAS,CAAC,EAAE;EAClD,MAAA,MAAM2P,GAAG,GAAG,MAAM8J,mBAAmB,CAAC3P,GAAG,CAAC,CAAA;QAC1C/B,EAAE,CAAC/H,SAAS,CAAC+T,EAAE,CAAC,CAAC/J,UAAU,GAAGwP,IAAI,CAAC7J,GAAG,CAAC,CAAA;EACzC,KAAA;EACF,GAAA;EAEA,EAAA,OAAO5H,EAAE,CAAA;EACX;;ACnCa8R,QAAAA,wBAAwB,GAAGC,EAAE,IACxCC,2BAA2B,CAACC,SAAS,CAACC,cAAc,CAACH,EAAE,CAAC,CAAC,EAAC;AAC/CI,QAAAA,yBAAyB,GAAGJ,EAAE,IACzCC,2BAA2B,CAACC,SAAS,CAACG,eAAe,CAACL,EAAE,CAAC,CAAC,EAAC;AAChDM,QAAAA,qBAAqB,GAAGC,OAAO,IAC1CC,QAAQ,CAACN,SAAS,CAACO,cAAc,CAACF,OAAO,CAAC,CAAC,EAAC;EAE9C,MAAMG,oBAAoB,GAAGA,CAACtc,KAAK,EAAEuc,GAAG,KACtCjX,UAAM,CAACC,IAAI,CAACvF,KAAK,CAACwc,MAAM,CAACD,GAAG,GAAG,CAAC,EAAE,CAAC,CAAC,EAAE,KAAK,CAAC,CAAA;EAE9C,MAAME,mBAAmB,GAAGA,CAACzc,KAAK,EAAEuc,GAAG,KACrCjX,UAAM,CAACC,IAAI,CAACvF,KAAK,CAAC0c,QAAQ,CAACH,GAAG,GAAG,CAAC,EAAE,CAAC,CAAC,EAAE,KAAK,CAAC,CAAA;EAEhD,MAAMI,sBAAsB,GAAGL,oBAAoB,CACjDhX,UAAM,CAACC,IAAI,CAAC,uBAAuB,CAAC,CAAC5D,QAAQ,CAAC,KAAK,CAAC,EACpD,EACF,CAAC,CAACA,QAAQ,CAAC,KAAK,CAAC,CAAA;EACjB,MAAMka,2BAA2B,GAAGD,EAAE,IAAIe,sBAAsB,GAAGf,EAAE,CAAA;EAErE,MAAMgB,aAAa,GAAGrJ,IAAI,IAAIkJ,mBAAmB,CAAClJ,IAAI,EAAE,CAAC,CAAC,CAAA;EAE1D,MAAMsJ,WAAW,GAAGxJ,KAAK,IAAIoJ,mBAAmB,CAACpJ,KAAK,EAAE,EAAE,CAAC,CAAA;EAE3D,MAAMyJ,gBAAgB,GAAGlR,GAAG,IAAItG,UAAM,CAACC,IAAI,CAAC8D,IAAI,CAACrH,SAAS,CAAC4J,GAAG,CAAC,EAAE,MAAM,CAAC,CAAA;EAExE,MAAMmR,YAAY,GAAGC,MAAM,IAAI1X,UAAM,CAACC,IAAI,CAACyX,MAAM,EAAE,MAAM,CAAC,CAAA;EAC1D,MAAMC,eAAe,GAAGC,SAAS,IAAI5X,UAAM,CAACC,IAAI,CAAC2X,SAAS,EAAE,KAAK,CAAC,CAAA;EAElE,MAAMpB,SAAS,GAAGhY,CAAC,IAAI;IACrB,OAAOqZ,UAAM,CAACrZ,CAAC,CAAC,CAACnC,QAAQ,CAAC,KAAK,CAAC,CAAA;EAClC,CAAC,CAAA;EAED,MAAMya,QAAQ,GAAG3L,GAAG,IAAI;EACtB,EAAA,MAAM2M,GAAG,GAAG,IAAIC,SAAI,CAAC,GAAG,CAAC,CAAA;IACzBD,GAAG,CAAC3X,MAAM,CAACH,UAAM,CAACC,IAAI,CAACkL,GAAG,EAAE,KAAK,CAAC,CAAC,CAAA;IACnC,OAAO2M,GAAG,CAAC1X,MAAM,EAAE,CAAC/D,QAAQ,CAAC,KAAK,CAAC,CAAA;EACrC,CAAC,CAAA;EAED,MAAMoa,cAAc,GAAGH,EAAE,IAAI;IAC3B0B,eAAe,CAAC1B,EAAE,CAAC,CAAA;EAEnB,EAAA,OAAO,CACLmB,YAAY,CAACnB,EAAE,CAACpB,OAAO,CAAC,EACxBoB,EAAE,CAAC9Z,SAAS,CAACsT,GAAG,CAAC0H,gBAAgB,CAAC,EAClCD,WAAW,CAACjB,EAAE,CAAC2B,QAAQ,CAAC,EACxB3B,EAAE,CAAC4B,YAAY,EACfZ,aAAa,CAACpJ,qBAAU,CAACoI,EAAE,CAAC6B,WAAW,CAAChJ,OAAO,CAAC,CAAC,EACjDmH,EAAE,CAAC6B,WAAW,CAAChT,KAAK,EACpBmR,EAAE,CAAC6B,WAAW,CAACC,WAAW,EAC1Bd,aAAa,CAACpJ,qBAAU,CAACoI,EAAE,CAAClQ,KAAK,CAAC,CAAC,EACnCkQ,EAAE,CAAC+B,WAAW,CAACvI,GAAG,CAACwI,UAAU,IAAIhB,aAAa,CAACpJ,qBAAU,CAACoK,UAAU,CAAC,CAAC,CAAC,CACxE,CAAA;EACH,CAAC,CAAA;EAED,MAAM3B,eAAe,GAAGL,EAAE,IAAI;IAC5BiC,gBAAgB,CAACjC,EAAE,CAAC,CAAA;IAEpB,OAAO,CAACG,cAAc,CAACH,EAAE,CAAC,EAAEkC,wBAAwB,CAAClC,EAAE,CAAC,CAAC,CAAA;EAC3D,CAAC,CAAA;EAED,MAAMkC,wBAAwB,GAAGlC,EAAE,IAAI;EACrC,EAAA,MAAMmC,OAAO,GAAGC,cAAc,CAACpC,EAAE,CAAC,CAAA;EAElC,EAAA,OAAOA,EAAE,CAACqC,WAAW,CAClB7I,GAAG,CAAC8I,GAAG,IAAI;MACV,OAAO;QACLC,WAAW,EAAEJ,OAAO,CAAChX,GAAG,CAACmX,GAAG,CAACzJ,OAAO,CAAC;QACrChK,KAAK,EAAEyT,GAAG,CAACzT,KAAK;QAChByT,GAAG,EAAEA,GAAG,CAACA,GAAAA;OACV,CAAA;KACF,CAAC,CACDE,IAAI,CAAC,CAACC,CAAC,EAAExb,CAAC,KAAK;MACd,IAAIwb,CAAC,CAACF,WAAW,GAAGtb,CAAC,CAACsb,WAAW,EAAE,OAAO,CAAC,CAAA;MAC3C,IAAIE,CAAC,CAACF,WAAW,GAAGtb,CAAC,CAACsb,WAAW,EAAE,OAAO,CAAC,CAAC,CAAA;MAE5C,IAAIE,CAAC,CAAC5T,KAAK,GAAG5H,CAAC,CAAC4H,KAAK,EAAE,OAAO,CAAC,CAAA;MAC/B,IAAI4T,CAAC,CAAC5T,KAAK,GAAG5H,CAAC,CAAC4H,KAAK,EAAE,OAAO,CAAC,CAAC,CAAA;EAClC,GAAC,CAAC,CACD2K,GAAG,CAAC8I,GAAG,IAAI;EACV,IAAA,OAAO,CAACA,GAAG,CAACC,WAAW,EAAED,GAAG,CAACzT,KAAK,EAAEwS,eAAe,CAACiB,GAAG,CAACA,GAAG,CAAC,CAAC,CAAA;EAC/D,GAAC,CAAC,CAAA;EACN,CAAC,CAAA;EAED,MAAMF,cAAc,GAAGpC,EAAE,IAAI;EAC3B,EAAA,MAAMmC,OAAO,GAAG,IAAIO,GAAG,EAAE,CAAA;IACzB,IAAI7c,CAAC,GAAG,CAAC,CAAA;IAET,MAAM8c,SAAS,GAAGhL,IAAI,IAAI;EACxB,IAAA,IAAI,CAACwK,OAAO,CAACzP,GAAG,CAACiF,IAAI,CAAC,EAAE;EACtBwK,MAAAA,OAAO,CAAC9Y,GAAG,CAACsO,IAAI,EAAE9R,CAAC,CAAC,CAAA;EACpBA,MAAAA,CAAC,EAAE,CAAA;EACL,KAAA;KACD,CAAA;EAED8c,EAAAA,SAAS,CAAC3C,EAAE,CAAC6B,WAAW,CAAChJ,OAAO,CAAC,CAAA;EACjC8J,EAAAA,SAAS,CAAC3C,EAAE,CAAClQ,KAAK,CAAC,CAAA;EACnBkQ,EAAAA,EAAE,CAAC+B,WAAW,CAACa,OAAO,CAACD,SAAS,CAAC,CAAA;EAEjC,EAAA,OAAOR,OAAO,CAAA;EAChB,CAAC,CAAA;EAED,MAAM1B,cAAc,GAAGF,OAAO,IAAI;IAChCsC,eAAe,CAACtC,OAAO,CAAC,CAAA;EAExB,EAAA,MAAM4B,OAAO,GAAGC,cAAc,CAAC7B,OAAO,CAAC,CAAA;IAEvC,MAAMuC,WAAW,GAAGC,IAAI,IAAI;EAC1B,IAAA,OAAOA,IAAI,CACRvJ,GAAG,CAACpF,IAAA,IAA2B;QAAA,IAA1B;UAACyE,OAAO;UAAEhK,KAAK;EAAEyT,QAAAA,GAAAA;EAAG,OAAC,GAAAlO,IAAA,CAAA;QACzB,OAAO;EAACmO,QAAAA,WAAW,EAAEJ,OAAO,CAAChX,GAAG,CAAC0N,OAAO,CAAC;UAAEhK,KAAK;EAAEyT,QAAAA,GAAAA;SAAI,CAAA;OACvD,CAAC,CACDE,IAAI,CAAC,CAACC,CAAC,EAAExb,CAAC,KAAK;QACd,IAAIwb,CAAC,CAACF,WAAW,GAAGtb,CAAC,CAACsb,WAAW,EAAE,OAAO,CAAC,CAAA;QAC3C,IAAIE,CAAC,CAACF,WAAW,GAAGtb,CAAC,CAACsb,WAAW,EAAE,OAAO,CAAC,CAAC,CAAA;QAC5C,IAAIE,CAAC,CAAC5T,KAAK,GAAG5H,CAAC,CAAC4H,KAAK,EAAE,OAAO,CAAC,CAAA;QAC/B,IAAI4T,CAAC,CAAC5T,KAAK,GAAG5H,CAAC,CAAC4H,KAAK,EAAE,OAAO,CAAC,CAAC,CAAA;EAClC,KAAC,CAAC,CACD2K,GAAG,CAAC8I,GAAG,IAAI;EACV,MAAA,OAAO,CAACA,GAAG,CAACC,WAAW,EAAED,GAAG,CAACzT,KAAK,EAAEwS,eAAe,CAACiB,GAAG,CAACA,GAAG,CAAC,CAAC,CAAA;EAC/D,KAAC,CAAC,CAAA;KACL,CAAA;IAED,OAAO,CACL,CACEnB,YAAY,CAACZ,OAAO,CAAC3B,OAAO,CAAC,EAC7B2B,OAAO,CAACra,SAAS,CAACsT,GAAG,CAAC0H,gBAAgB,CAAC,EACvCD,WAAW,CAACV,OAAO,CAACoB,QAAQ,CAAC,EAC7BpB,OAAO,CAACqB,YAAY,EACpBZ,aAAa,CAACpJ,qBAAU,CAAC2I,OAAO,CAACsB,WAAW,CAAChJ,OAAO,CAAC,CAAC,EACtD0H,OAAO,CAACsB,WAAW,CAAChT,KAAK,EACzB0R,OAAO,CAACsB,WAAW,CAACC,WAAW,EAC/Bd,aAAa,CAACpJ,qBAAU,CAAC2I,OAAO,CAACzQ,KAAK,CAAC,CAAC,EACxCyQ,OAAO,CAACwB,WAAW,CAACvI,GAAG,CAACwI,UAAU,IAChChB,aAAa,CAACpJ,qBAAU,CAACoK,UAAU,CAAC,CACtC,CAAC,CACF,EACDc,WAAW,CAACvC,OAAO,CAAC8B,WAAW,CAAC,EAChCS,WAAW,CAACvC,OAAO,CAACyC,YAAY,CAAC,CAClC,CAAA;EACH,CAAC,CAAA;EAED,MAAMtB,eAAe,GAAG1B,EAAE,IAAI;IAC5BiD,aAAa,CAACL,OAAO,CAACM,KAAK,IAAIC,UAAU,CAACnD,EAAE,EAAEkD,KAAK,CAAC,CAAC,CAAA;EACrDE,EAAAA,iBAAiB,CAACR,OAAO,CAACM,KAAK,IAC7BC,UAAU,CAACnD,EAAE,CAAC6B,WAAW,EAAEqB,KAAK,EAAE,aAAa,CACjD,CAAC,CAAA;EACH,CAAC,CAAA;EAED,MAAMjB,gBAAgB,GAAGjC,EAAE,IAAI;IAC7BqD,iBAAiB,CAACT,OAAO,CAACM,KAAK,IAAIC,UAAU,CAACnD,EAAE,EAAEkD,KAAK,CAAC,CAAC,CAAA;IACzDlD,EAAE,CAACqC,WAAW,CAACO,OAAO,CAAC,CAACN,GAAG,EAAEgB,KAAK,KAAK;EACrCC,IAAAA,gBAAgB,CAACX,OAAO,CAACM,KAAK,IAC5BC,UAAU,CAACb,GAAG,EAAEY,KAAK,EAAE,aAAa,EAAEI,KAAK,CAC7C,CAAC,CAAA;EACH,GAAC,CAAC,CAAA;EACJ,CAAC,CAAA;EAED,MAAMT,eAAe,GAAGtC,OAAO,IAAI;IACjC0C,aAAa,CAACL,OAAO,CAACM,KAAK,IAAIC,UAAU,CAAC5C,OAAO,EAAE2C,KAAK,CAAC,CAAC,CAAA;EAC1DE,EAAAA,iBAAiB,CAACR,OAAO,CAACM,KAAK,IAC7BC,UAAU,CAAC5C,OAAO,CAACsB,WAAW,EAAEqB,KAAK,EAAE,aAAa,CACtD,CAAC,CAAA;IACDG,iBAAiB,CAACT,OAAO,CAACM,KAAK,IAAIC,UAAU,CAAC5C,OAAO,EAAE2C,KAAK,CAAC,CAAC,CAAA;IAC9D3C,OAAO,CAAC8B,WAAW,CAACO,OAAO,CAAC,CAACN,GAAG,EAAEgB,KAAK,KAAK;EAC1CC,IAAAA,gBAAgB,CAACX,OAAO,CAACM,KAAK,IAC5BC,UAAU,CAACb,GAAG,EAAEY,KAAK,EAAE,aAAa,EAAEI,KAAK,CAC7C,CAAC,CAAA;EACH,GAAC,CAAC,CAAA;IACFE,kBAAkB,CAACZ,OAAO,CAACM,KAAK,IAAIC,UAAU,CAAC5C,OAAO,EAAE2C,KAAK,CAAC,CAAC,CAAA;IAC/D3C,OAAO,CAACyC,YAAY,CAACJ,OAAO,CAAC,CAACN,GAAG,EAAEgB,KAAK,KAAK;EAC3CG,IAAAA,iBAAiB,CAACb,OAAO,CAACM,KAAK,IAC7BC,UAAU,CAACb,GAAG,EAAEY,KAAK,EAAE,cAAc,EAAEI,KAAK,CAC9C,CAAC,CAAA;EACH,GAAC,CAAC,CAAA;EACJ,CAAC,CAAA;EAED,MAAM3V,QAAQ,GAAGzF,CAAC,IAAI,OAAOA,CAAC,KAAK,QAAQ,CAAA;EAC3C,MAAMuW,QAAQ,GAAGvW,CAAC,IAAI,OAAOA,CAAC,KAAK,QAAQ,CAAA;EAC3C,MAAMwb,QAAQ,GAAGxb,CAAC,IAAIA,CAAC,KAAK,IAAI,IAAI,OAAOA,CAAC,KAAK,QAAQ,CAAA;EACzD,MAAMuB,OAAO,GAAGvB,CAAC,IAAIwb,QAAQ,CAACxb,CAAC,CAAC,IAAIA,CAAC,YAAYhB,KAAK,CAAA;EAEtD,MAAM+b,aAAa,GAAG,CACpB;EAACla,EAAAA,IAAI,EAAE,SAAS;EAAE4a,EAAAA,KAAK,EAAElF,QAAAA;EAAQ,CAAC,EAClC;EAAC1V,EAAAA,IAAI,EAAE,WAAW;EAAE4a,EAAAA,KAAK,EAAEla,OAAAA;EAAO,CAAC,EACnC;EAACV,EAAAA,IAAI,EAAE,UAAU;EAAE4a,EAAAA,KAAK,EAAElF,QAAQ;EAAEmF,EAAAA,UAAU,EAAE,GAAA;EAAG,CAAC,EACpD;EAAC7a,EAAAA,IAAI,EAAE,cAAc;EAAE4a,EAAAA,KAAK,EAAEhW,QAAAA;EAAQ,CAAC,EACvC;EAAC5E,EAAAA,IAAI,EAAE,aAAa;EAAE4a,EAAAA,KAAK,EAAED,QAAAA;EAAQ,CAAC,EACtC;EAAC3a,EAAAA,IAAI,EAAE,OAAO;EAAE4a,EAAAA,KAAK,EAAElF,QAAAA;EAAQ,CAAC,EAChC;EAAC1V,EAAAA,IAAI,EAAE,aAAa;EAAE4a,EAAAA,KAAK,EAAEla,OAAAA;EAAO,CAAC,CACtC,CAAA;EAED,MAAM2Z,iBAAiB,GAAG,CACxB;EAACra,EAAAA,IAAI,EAAE,SAAS;EAAE4a,EAAAA,KAAK,EAAElF,QAAAA;EAAQ,CAAC,EAClC;EAAC1V,EAAAA,IAAI,EAAE,OAAO;EAAE4a,EAAAA,KAAK,EAAEhW,QAAAA;EAAQ,CAAC,EAChC;EAAC5E,EAAAA,IAAI,EAAE,aAAa;EAAE4a,EAAAA,KAAK,EAAEhW,QAAAA;EAAQ,CAAC,CACvC,CAAA;EAED,MAAM0V,iBAAiB,GAAG,CAAC;EAACta,EAAAA,IAAI,EAAE,aAAa;EAAE4a,EAAAA,KAAK,EAAEla,OAAAA;EAAO,CAAC,CAAC,CAAA;EAEjE,MAAM8Z,gBAAgB,GAAG,CACvB;EAACxa,EAAAA,IAAI,EAAE,SAAS;EAAE4a,EAAAA,KAAK,EAAElF,QAAAA;EAAQ,CAAC,EAClC;EAAC1V,EAAAA,IAAI,EAAE,OAAO;EAAE4a,EAAAA,KAAK,EAAEhW,QAAAA;EAAQ,CAAC,EAChC;EAAC5E,EAAAA,IAAI,EAAE,KAAK;EAAE4a,EAAAA,KAAK,EAAElF,QAAAA;EAAQ,CAAC,CAC/B,CAAA;EAED,MAAM+E,kBAAkB,GAAG,CAAC;EAACza,EAAAA,IAAI,EAAE,cAAc;EAAE4a,EAAAA,KAAK,EAAEla,OAAAA;EAAO,CAAC,CAAC,CAAA;EAEnE,MAAMga,iBAAiB,GAAG,CACxB;EAAC1a,EAAAA,IAAI,EAAE,SAAS;EAAE4a,EAAAA,KAAK,EAAElF,QAAAA;EAAQ,CAAC,EAClC;EAAC1V,EAAAA,IAAI,EAAE,OAAO;EAAE4a,EAAAA,KAAK,EAAEhW,QAAAA;EAAQ,CAAC,EAChC;EAAC5E,EAAAA,IAAI,EAAE,KAAK;EAAE4a,EAAAA,KAAK,EAAElF,QAAAA;EAAQ,CAAC,CAC/B,CAAA;EAED,MAAM0E,UAAU,GAAGA,CAACze,GAAG,EAAEwe,KAAK,EAAEW,IAAI,EAAEP,KAAK,KAAK;IAC9C,MAAM;MAACva,IAAI;MAAE4a,KAAK;EAAEC,IAAAA,UAAAA;EAAU,GAAC,GAAGV,KAAK,CAAA;EACvC,EAAA,IAAIxe,GAAG,CAACqE,IAAI,CAAC,IAAI,IAAI,IAAI6a,UAAU,IAAI,IAAI,EAAElf,GAAG,CAACqE,IAAI,CAAC,GAAG6a,UAAU,CAAA;EACnE,EAAA,IAAIlf,GAAG,CAACqE,IAAI,CAAC,IAAI,IAAI,EAAE,MAAM+a,iBAAiB,CAAC/a,IAAI,EAAE8a,IAAI,EAAEP,KAAK,CAAC,CAAA;EACjE,EAAA,IAAI,CAACK,KAAK,CAACjf,GAAG,CAACqE,IAAI,CAAC,CAAC,EAAE,MAAMgb,iBAAiB,CAAChb,IAAI,EAAE8a,IAAI,EAAEP,KAAK,CAAC,CAAA;EACnE,CAAC,CAAA;EAED,MAAMU,cAAc,GAAGA,CAACd,KAAK,EAAEW,IAAI,EAAEP,KAAK,KAAK;IAC7C,IAAI,CAAC,CAACO,IAAI,EACR,OAAOP,KAAK,IAAI,IAAI,GAAI,CAAA,EAAEO,IAAK,CAAGX,CAAAA,EAAAA,KAAM,EAAC,GAAI,CAAA,EAAEW,IAAK,CAAGP,CAAAA,EAAAA,KAAM,CAAGJ,CAAAA,EAAAA,KAAM,CAAC,CAAA,CAAA;EACzE,EAAA,OAAOA,KAAK,CAAA;EACd,CAAC,CAAA;EAED,MAAMY,iBAAiB,GAAGA,CAACZ,KAAK,EAAEW,IAAI,EAAEP,KAAK,KAC3C,IAAI1b,KAAK,CAAE,CAAgBoc,cAAAA,EAAAA,cAAc,CAACd,KAAK,EAAEW,IAAI,EAAEP,KAAK,CAAE,CAAA,CAAC,CAAC,CAAA;EAClE,MAAMS,iBAAiB,GAAGA,CAACb,KAAK,EAAEW,IAAI,EAAEP,KAAK,KAC3C,IAAI1b,KAAK,CAAE,CAAgBoc,cAAAA,EAAAA,cAAc,CAACd,KAAK,EAAEW,IAAI,EAAEP,KAAK,CAAE,CAAA,CAAC,CAAC;;ECtO3D,SAASW,iBAAiBA,CAAChW,EAAE,EAAE;EACpC;IACA,IAAIiW,MAAM,GAAG,IAAI3W,GAAG,CAACU,EAAE,CAAC4B,cAAc,CAAC,CAAA;EACvCqU,EAAAA,MAAM,CAACC,GAAG,CAAClW,EAAE,CAACmW,QAAQ,CAAC,CAAA;IACvB,IAAIld,KAAK,CAACuC,OAAO,CAACwE,EAAE,CAAC6B,KAAK,CAAC,EAAE;EAC3B7B,IAAAA,EAAE,CAAC6B,KAAK,CAAC8S,OAAO,CAACyB,CAAC,IAAIH,MAAM,CAACI,MAAM,CAACD,CAAC,CAAC,CAAC,CAAA;EACzC,GAAC,MAAM;EACLH,IAAAA,MAAM,CAACI,MAAM,CAACrW,EAAE,CAAC6B,KAAK,CAAC,CAAA;EACzB,GAAA;EACA,EAAA,OAAO5I,KAAK,CAACyC,IAAI,CAACua,MAAM,CAAC,CAAA;EAC3B,CAAA;EAEO,SAASK,kBAAkBA,CAACtW,EAAE,EAAE;EACrC;IACA,IAAIuW,OAAO,GAAG,IAAIjX,GAAG,CAACrG,KAAK,CAACuC,OAAO,CAACwE,EAAE,CAAC6B,KAAK,CAAC,GAAG7B,EAAE,CAAC6B,KAAK,GAAG,CAAC7B,EAAE,CAAC6B,KAAK,CAAC,CAAC,CAAA;EACtE,EAAA,OAAO5I,KAAK,CAACyC,IAAI,CAAC6a,OAAO,CAAC,CAAA;EAC5B,CAAA;AAEaC,QAAAA,qBAAqB,GAAGxW,EAAE,IAAI;IACzC,MAAMyW,gBAAgB,GAAGA,MAAM;EAC7B,IAAA,MAAM7U,cAAc,GAAG5B,EAAE,CAAC4B,cAAc,CACrC2J,GAAG,CAACmL,GAAG,IAAIlF,qBAAU,CAACxR,EAAE,CAAC2B,QAAQ,CAAC+U,GAAG,CAAC,CAAChN,IAAI,CAAC,CAAC,CAC7CjI,MAAM,CAAC,CAACkV,IAAI,EAAEC,OAAO,KAAK;EACzB,MAAA,OAAOD,IAAI,CAACnI,IAAI,CAACqI,IAAI,IAAIA,IAAI,KAAKD,OAAO,CAAC,GAAGD,IAAI,GAAG,CAAC,GAAGA,IAAI,EAAEC,OAAO,CAAC,CAAA;OACvE,EAAE,EAAE,CAAC,CAAA;EACR,IAAA,OAAOhV,cAAc,CAAC,CAAC,CAAC,GAAGA,cAAc,GAAG,EAAE,CAAA;KAC/C,CAAA;EAED,EAAA,MAAMkV,kBAAkB,GAAGA,MACzBd,iBAAiB,CAAChW,EAAE,CAAC,CAACuL,GAAG,CAACS,EAAE,KAAK;MAC/BpB,OAAO,EAAE4G,qBAAU,CAACxR,EAAE,CAAC2B,QAAQ,CAACqK,EAAE,CAAC,CAACtC,IAAI,CAAC;MACzC9I,KAAK,EAAEZ,EAAE,CAAC2B,QAAQ,CAACqK,EAAE,CAAC,CAACpL,KAAK;EAC5ByT,IAAAA,GAAG,EAAErU,EAAE,CAAC2B,QAAQ,CAACqK,EAAE,CAAC,CAACqH,SAAAA;EACvB,GAAC,CAAC,CAAC,CAAA;EAEL,EAAA,MAAM0D,mBAAmB,GAAGA,MAC1BT,kBAAkB,CAACtW,EAAE,CAAC,CAACuL,GAAG,CAACS,EAAE,KAAK;MAChCpB,OAAO,EAAE4G,qBAAU,CAACxR,EAAE,CAAC2B,QAAQ,CAACqK,EAAE,CAAC,CAACtC,IAAI,CAAC;MACzC9I,KAAK,EAAEZ,EAAE,CAAC2B,QAAQ,CAACqK,EAAE,CAAC,CAACpL,KAAK;EAC5ByT,IAAAA,GAAG,EAAErU,EAAE,CAAC2B,QAAQ,CAACqK,EAAE,CAAC,CAACqH,SAAAA;EACvB,GAAC,CAAC,CAAC,CAAA;IAEL,OAAO;EACL1C,IAAAA,OAAO,EAAE3Q,EAAE,CAACgC,OAAO,CAAC2O,OAAO;EAC3B+C,IAAAA,QAAQ,EAAE1T,EAAE,CAACgC,OAAO,CAAC0R,QAAQ,IAAI,IAAI;EACrCC,IAAAA,YAAY,EAAE3T,EAAE,CAACgC,OAAO,CAAC2R,YAAY;EACrC1b,IAAAA,SAAS,EAAE+H,EAAE,CAACgC,OAAO,CAAC/J,SAAS,CAACsT,GAAG,CAACS,EAAE,IAAIhM,EAAE,CAAC/H,SAAS,CAAC+T,EAAE,CAAC,CAAC/J,UAAU,CAAC;EACtE2R,IAAAA,WAAW,EAAE;EACXhJ,MAAAA,OAAO,EAAE4G,qBAAU,CAACxR,EAAE,CAAC2B,QAAQ,CAAC3B,EAAE,CAACmW,QAAQ,CAAC,CAACzM,IAAI,CAAC;QAClD9I,KAAK,EAAEZ,EAAE,CAAC2B,QAAQ,CAAC3B,EAAE,CAACmW,QAAQ,CAAC,CAACvV,KAAK;QACrCiT,WAAW,EAAE7T,EAAE,CAAC2B,QAAQ,CAAC3B,EAAE,CAACmW,QAAQ,CAAC,CAACtC,WAAAA;OACvC;EACDhS,IAAAA,KAAK,EAAE2P,qBAAU,CACfxR,EAAE,CAAC2B,QAAQ,CAAC1I,KAAK,CAACuC,OAAO,CAACwE,EAAE,CAAC6B,KAAK,CAAC,GAAG7B,EAAE,CAAC6B,KAAK,CAAC,CAAC,CAAC,GAAG7B,EAAE,CAAC6B,KAAK,CAAC,CAAC6H,IAChE,CAAC;MACDoK,WAAW,EAAE2C,gBAAgB,EAAE;MAC/BrC,WAAW,EAAE0C,kBAAkB,EAAE;MACjC/B,YAAY,EAAEgC,mBAAmB,EAAC;KACnC,CAAA;EACH,EAAC;AAEYC,QAAAA,aAAa,GAAG1E,OAAO,IAAI;IACtC,OAAOD,qBAAqB,CAACC,OAAO,CAAC,CAAA;EACvC;;EC3DA,MAAM2E,eAAe,GAAG,CAAC,CAAA;EAEzB,MAAMC,MAAI,GAAGvW,IAAI,IAAK,GAAE6Q,qBAAU,CAAC7Q,IAAI,CAAC+I,IAAI,CAAE,CAAA,CAAA,EAAG/I,IAAI,CAACC,KAAM,CAAC,CAAA,CAAA;EAC7D,MAAMd,IAAI,GAAG7F,CAAC,IACZA,CAAC,KACAjE,MAAM,CAACmhB,SAAS,CAACrf,QAAQ,CAACsf,IAAI,CAACnd,CAAC,CAAC,KAAK,mBAAmB,IACxD,UAAU,KAAK,OAAOA,CAAC,IACvBA,CAAC,YAAYod,QAAQ,CAAC,CAAA;EAE1B,MAAMC,YAAY,GAAG,YAAA;EAAA,EAAA,KAAA,IAAAhW,IAAA,GAAArJ,SAAA,CAAAnB,MAAA,EAAIygB,GAAG,GAAAte,IAAAA,KAAA,CAAAqI,IAAA,GAAAE,IAAA,GAAA,CAAA,EAAAA,IAAA,GAAAF,IAAA,EAAAE,IAAA,EAAA,EAAA;EAAH+V,IAAAA,GAAG,CAAA/V,IAAA,CAAAvJ,GAAAA,SAAA,CAAAuJ,IAAA,CAAA,CAAA;EAAA,GAAA;EAAA,EAAA,OAAK+V,GAAG,CAAC1I,IAAI,CAAC,GAAG,CAAC,CAAA;EAAA,CAAA,CAAA;EAE9C,MAAM2I,KAAK,GAAG;EACZxY,EAAAA,KAAK,EAAE,OAAO;EACdC,EAAAA,QAAQ,EAAE,UAAU;EACpBwY,EAAAA,cAAc,EAAE,gBAAA;EAClB,CAAC,CAAA;EAED,SAASC,OAAKA,GAAG;IACf,MAAMC,KAAK,GAAG,GAAG,CAAA;IACjB,MAAMC,sBAAsB,GAAG,CAAC,CAAA;IAChC,MAAMC,aAAa,GAAG,EAAE,CAAA;IACxB,OAAO,CACL,UAAUjR,GAAG,EAAc;EAAA,IAAA,IAAZkR,MAAM,GAAA7f,SAAA,CAAAnB,MAAA,GAAA,CAAA,IAAAmB,SAAA,CAAA,CAAA,CAAA,KAAAC,SAAA,GAAAD,SAAA,CAAA,CAAA,CAAA,GAAG,CAAC,CAAA;MACvB4f,aAAa,CAAChgB,IAAI,CAChBoB,KAAK,CAAC6e,MAAM,GAAGF,sBAAsB,CAAC,CACnCG,IAAI,CAACJ,KAAK,CAAC,CACX9I,IAAI,CAAC,GAAG,CAAC,GAAGjI,GACjB,CAAC,CAAA;EACH,GAAC,EACD,YAAY;EACV,IAAA,OAAOiR,aAAa,CAACpW,MAAM,CAAC,CAACkV,IAAI,EAAEqB,IAAI,KAAKrB,IAAI,GAAG,IAAI,GAAGqB,IAAI,CAAC,CAAA;EACjE,GAAC,CACF,CAAA;EACH,CAAA;EAEA,SAASC,cAAcA,CAACC,EAAE,EAAkB;EAAA,EAAA,IAAhBC,UAAU,GAAAlgB,SAAA,CAAAnB,MAAA,GAAA,CAAA,IAAAmB,SAAA,CAAA,CAAA,CAAA,KAAAC,SAAA,GAAAD,SAAA,CAAA,CAAA,CAAA,GAAG,CAAC,CAAA;EACxC,EAAA,IAAIkgB,UAAU,IAAI,CAAC,EAAE,OAAOD,EAAE,CAAA;IAC9B,IAAI,CAACjf,KAAK,CAACuC,OAAO,CAAC0c,EAAE,CAAC,EAAE,OAAOA,EAAE,CAAA;EACjC,EAAA,OAAOD,cAAc,CACnBC,EAAE,CAACE,OAAO,CAACtT,CAAC,IAAIA,CAAC,CAAC,EAClBqT,UAAU,GAAG,CACf,CAAC,CAAA;EACH,CAAA;EAEO,SAASE,gBAAgBA,CAAC1X,IAAI,EAAEX,EAAE,EAAE;IACzC,IAAI;MACF,OAAO;EACLsY,MAAAA,MAAM,EAAE,aAAa;EACrBC,MAAAA,KAAK,EAAE,OAAO;QACdC,KAAK,EAAE7X,IAAI,CAACM,IAAI;EAChB0P,MAAAA,OAAO,EAAE3Q,EAAE,CAACgC,OAAO,CAAC2O,OAAO;EAC3B1L,MAAAA,IAAI,EAAEjF,EAAE,CAACgC,OAAO,CAAC/J,SAAS,CAACsT,GAAG,CAAC5L,CAAC,IAAIK,EAAE,CAAC/H,SAAS,CAAC0H,CAAC,CAAC,CAACsC,UAAU,CAAC;QAC/D2N,IAAI,EAAE,EAAE;EACRnQ,MAAAA,WAAW,EAAEO,EAAE;QACfsS,OAAO,EAAEkE,qBAAqB,CAACxW,EAAE,CAAA;OAClC,CAAA;KACF,CAAC,OAAOoG,KAAK,EAAE;EACd8C,IAAAA,OAAO,CAAC9C,KAAK,CAAC,kBAAkB,EAAEA,KAAK,CAAC,CAAA;EACxC,IAAA,MAAMA,KAAK,CAAA;EACb,GAAA;EACF,CAAA;EAEA,eAAeqS,sBAAsBA,CAACzY,EAAE,EAAE;EACxC,EAAA,MAAM0Y,YAAY,GAAGzf,KAAK,CAACuC,OAAO,CAACwE,EAAE,CAAC6B,KAAK,CAAC,GAAG7B,EAAE,CAAC6B,KAAK,GAAG,CAAC7B,EAAE,CAAC6B,KAAK,CAAC,CAAA;EACpE,EAAA,MAAM8W,kBAAkB,GAAG1f,KAAK,CAACuC,OAAO,CAACwE,EAAE,CAAC4B,cAAc,CAAC,GACvD5B,EAAE,CAAC4B,cAAc,GACjB,CAAC5B,EAAE,CAAC4B,cAAc,CAAC,CAAA;EACvB,EAAA,MAAMgX,eAAe,GAAG3f,KAAK,CAACuC,OAAO,CAACwE,EAAE,CAACmW,QAAQ,CAAC,GAC9CnW,EAAE,CAACmW,QAAQ,GACX,CAACnW,EAAE,CAACmW,QAAQ,CAAC,CAAA;IAEjB,MAAM0C,aAAa,GAAG7iB,MAAM,CAACuJ,IAAI,CAACS,EAAE,CAAC2B,QAAQ,CAAC,CAAA;EAC9C,EAAA,MAAMmX,aAAa,GAAG,CACpB,GAAG,IAAIxZ,GAAG,CAACoZ,YAAY,CAACK,MAAM,CAACJ,kBAAkB,EAAEC,eAAe,CAAC,CAAC,CACrE,CAAA;EAED,EAAA,KAAK,MAAMI,YAAY,IAAIH,aAAa,EAAE;MACxC,IAAI,CAACC,aAAa,CAACtK,IAAI,CAACxC,EAAE,IAAIA,EAAE,KAAKgN,YAAY,CAAC,EAAE;EAClD,MAAA,OAAOhZ,EAAE,CAAC2B,QAAQ,CAACqX,YAAY,CAAC,CAAA;EAClC,KAAA;EACF,GAAA;EACF,CAAA;EAEA,SAASC,cAAcA,CAACjZ,EAAE,EAAEkZ,UAAU,EAAE;IACtC,IACE,OAAOA,UAAU,CAACxP,IAAI,KAAK,QAAQ,KAClC,OAAOwP,UAAU,CAACtY,KAAK,KAAK,QAAQ,IACnC,OAAOsY,UAAU,CAACtY,KAAK,KAAK,QAAQ,CAAC,EACvC;EACAsY,IAAAA,UAAU,CAAChY,MAAM,GAAGgW,MAAI,CAACgC,UAAU,CAAC,CAAA;EACtC,GAAC,MAAM;MACLA,UAAU,CAAChY,MAAM,GAAGgY,UAAU,CAAChY,MAAM,IAAIC,OAAM,EAAE,CAAA;EACnD,GAAA;IAEA,MAAMgY,eAAe,GAAGnZ,EAAE,CAAC2B,QAAQ,CAACuX,UAAU,CAAChY,MAAM,CAAC,IAAIgY,UAAU,CAAA;IAEpE,IAAI,CAAClZ,EAAE,CAAC2B,QAAQ,CAACuX,UAAU,CAAChY,MAAM,CAAC,EAAE;MACnClB,EAAE,CAAC2B,QAAQ,CAACuX,UAAU,CAAChY,MAAM,CAAC,GAAGgY,UAAU,CAAA;EAC7C,GAAA;IAEAlZ,EAAE,CAAC2B,QAAQ,CAACuX,UAAU,CAAChY,MAAM,CAAC,CAACD,IAAI,CAACkV,QAAQ,GAC1CgD,eAAe,CAAClY,IAAI,CAACkV,QAAQ,IAAI+C,UAAU,CAACjY,IAAI,CAACkV,QAAQ,CAAA;IAC3DnW,EAAE,CAAC2B,QAAQ,CAACuX,UAAU,CAAChY,MAAM,CAAC,CAACD,IAAI,CAACY,KAAK,GACvCsX,eAAe,CAAClY,IAAI,CAACY,KAAK,IAAIqX,UAAU,CAACjY,IAAI,CAACY,KAAK,CAAA;IACrD7B,EAAE,CAAC2B,QAAQ,CAACuX,UAAU,CAAChY,MAAM,CAAC,CAACD,IAAI,CAAC8S,UAAU,GAC5CoF,eAAe,CAAClY,IAAI,CAAC8S,UAAU,IAAImF,UAAU,CAACjY,IAAI,CAAC8S,UAAU,CAAA;EAE/D,EAAA,OAAO/T,EAAE,CAAC2B,QAAQ,CAACuX,UAAU,CAAChY,MAAM,CAAC,CAAA;EACvC,CAAA;EAEA,SAASkY,qBAAqBA,CAACzX,QAAQ,EAAE;EACvC,EAAA,MAAM0X,UAAU,GAAGpB,cAAc,CAACtW,QAAQ,CAAC,CAAA;EAC3C,EAAA,MAAM2X,IAAI,GAAG,IAAIha,GAAG,EAAE,CAAA;EAEtB,EAAA,MAAMia,wBAAwB,GAAGF,UAAU,CACxC9N,GAAG,CAACrH,OAAO,IAAI;EACd,IAAA,MAAMsV,SAAS,GAAGlC,YAAY,CAC5BpT,OAAO,CAAChD,MAAM,EACdgD,OAAO,CAACjD,IAAI,CAACY,KAAK,EAClBqC,OAAO,CAACjD,IAAI,CAACkV,QAAQ,EACrBjS,OAAO,CAACjD,IAAI,CAAC8S,UAAU,EACvB7P,OAAO,CAACjD,IAAI,CAACoD,KACf,CAAC,CAAA;MACD,IAAIiV,IAAI,CAAC7U,GAAG,CAAC+U,SAAS,CAAC,EAAE,OAAO,IAAI,CAAA;EACpCF,IAAAA,IAAI,CAACpD,GAAG,CAACsD,SAAS,CAAC,CAAA;EACnB,IAAA,OAAOtV,OAAO,CAAA;KACf,CAAC,CACD+K,MAAM,CAACnK,CAAC,IAAIA,CAAC,KAAK,IAAI,CAAC,CAAA;EAE1B,EAAA,OAAOyU,wBAAwB,CAAA;EACjC,CAAA;EAEA,eAAeE,qBAAqBA,CAClCzZ,EAAE,EACF0Z,oBAAoB,EAGpB;EAAA,EAAA,IAFAvB,UAAU,GAAAlgB,SAAA,CAAAnB,MAAA,GAAA,CAAA,IAAAmB,SAAA,CAAA,CAAA,CAAA,KAAAC,SAAA,GAAAD,SAAA,CAAA,CAAA,CAAA,GAAGgf,eAAe,CAAA;IAAA,IAC5B;EAAC0C,IAAAA,WAAAA;EAAW,GAAC,GAAA1hB,SAAA,CAAAnB,MAAA,GAAAmB,CAAAA,GAAAA,SAAA,MAAAC,SAAA,CAAA;IAEb,IAAIigB,UAAU,IAAI,CAAC,EAAE;MACnB,MAAM,IAAIxe,KAAK,CACZ,CAAA,0CAAA,EAA4Csd,eAAgB,CAA6EA,2EAAAA,EAAAA,eAAgB,YAC5J,CAAC,CAAA;EACH,GAAA;EAEA,EAAA,IAAI/S,OAAO,GAAGlE,EAAE,CAAC2B,QAAQ,CAAC+X,oBAAoB,CAAC,CAAA;EAE/C,EAAA,IAAI,CAACxV,OAAO,EAAE,OAAO,IAAI,CAAA;EAEzByV,EAAAA,WAAW,CACR,CAAWzV,SAAAA,EAAAA,OAAO,CAAChD,MAAO,EAAC,EAC5B0Y,IAAI,CAACC,GAAG,CAAC5C,eAAe,GAAGkB,UAAU,EAAE,CAAC,CAC1C,CAAC,CAAA;IAED,IAAIjU,OAAO,EAAE7C,OAAO,EAAE;EACpB,IAAA,IAAIvB,IAAI,CAACoE,OAAO,EAAE7C,OAAO,CAAC,EAAE;EAC1BsY,MAAAA,WAAW,CACR,CAAWzV,SAAAA,EAAAA,OAAO,CAAChD,MAAO,gBAAe,EAC1C0Y,IAAI,CAACC,GAAG,CAAC5C,eAAe,GAAGkB,UAAU,EAAE,CAAC,CAC1C,CAAC,CAAA;QAED,MAAM;UAAC9W,OAAO;UAAE,GAAGyY,qBAAAA;EAAqB,OAAC,GAAG5V,OAAO,CAAA;EAEnD,MAAA,IAAI6V,gBAAgB,GAAG,MAAM1Y,OAAO,CAClCyY,qBAAqB,EACrBzB,gBAAgB,CAACyB,qBAAqB,EAAE9Z,EAAE,CAC5C,CAAC,CAAA;EAED+Z,MAAAA,gBAAgB,GAAG9gB,KAAK,CAACuC,OAAO,CAACue,gBAAgB,CAAC,GAC9CA,gBAAgB,GAChB,CAACA,gBAAgB,CAAC,CAAA;EAEtB,MAAA,IAAIC,oBAAoB,GAAG/B,cAAc,CAAC8B,gBAAgB,CAAC,CAAA;EAE3DC,MAAAA,oBAAoB,GAAGA,oBAAoB,CAACzO,GAAG,CAAC0O,mBAAmB,IACjEhB,cAAc,CAACjZ,EAAE,EAAEia,mBAAmB,CACxC,CAAC,CAAA;EAED/V,MAAAA,OAAO,CAAC7C,OAAO,GAAG2Y,oBAAoB,CAACzO,GAAG,CACxC0O,mBAAmB,IAAIA,mBAAmB,CAAC/Y,MAC7C,CAAC,CAAA;EAEDgD,MAAAA,OAAO,GAAG+U,cAAc,CAACjZ,EAAE,EAAEkE,OAAO,CAAC,CAAA;EAErC,MAAA,MAAMgW,gBAAgB,GAAG,MAAMnR,OAAO,CAACuC,GAAG,CACxC0O,oBAAoB,CAACzO,GAAG,CAAC,MAAM4O,eAAe,IAAI;EAChD,QAAA,OAAO,MAAMV,qBAAqB,CAChCzZ,EAAE,EACFma,eAAe,CAACjZ,MAAM,EACtBiX,UAAU,GAAG,CAAC,EACd;EAACwB,UAAAA,WAAAA;EAAW,SACd,CAAC,CAAA;EACH,OAAC,CACH,CAAC,CAAA;QAED,OAAOO,gBAAgB,GACnBjC,cAAc,CAACiC,gBAAgB,CAAC,GAChChW,OAAO,CAAChD,MAAM,CAAA;EACpB,KAAC,MAAM;EACLyY,MAAAA,WAAW,CACR,CAAWzV,SAAAA,EAAAA,OAAO,CAAChD,MAAO,eAAc,EACzC0Y,IAAI,CAACC,GAAG,CAAC5C,eAAe,GAAGkB,UAAU,EAAE,CAAC,CAC1C,CAAC,CAAA;QAED,OAAOjU,OAAO,CAAC7C,OAAO,CAAA;EACxB,KAAA;EACF,GAAA;IACA,OAAO6C,OAAO,CAAChD,MAAM,CAAA;EACvB,CAAA;EAEA,eAAekZ,kBAAkBA,CAACpa,EAAE,EAAEqK,IAAI,EAAAlE,IAAA,EAAiB;IAAA,IAAf;EAACwT,IAAAA,WAAAA;EAAW,GAAC,GAAAxT,IAAA,CAAA;IACvDtF,sBAAS,CACPb,EAAE,IAAI,OAAOA,EAAE,KAAK,QAAQ,EAC5B,0CACF,CAAC,CAAA;IACDa,sBAAS,CACPwJ,IAAI,KAAKmN,KAAK,CAACxY,KAAK,IAClBqL,IAAI,KAAKmN,KAAK,CAACvY,QAAQ,IACvBoL,IAAI,KAAKmN,KAAK,CAACC,cAAc,EAC/B,gFACF,CAAC,CAAA;IAED,IAAI4C,cAAc,GAAGphB,KAAK,CAACuC,OAAO,CAACwE,EAAE,CAACqK,IAAI,CAAC,CAAC,GAAGrK,EAAE,CAACqK,IAAI,CAAC,GAAG,CAACrK,EAAE,CAACqK,IAAI,CAAC,CAAC,CAAA;IAEpE,IAAIiQ,mBAAmB,GAAG,EAAE,CAAA;EAC5B,EAAA,KAAK,IAAId,SAAS,IAAIa,cAAc,EAAE;EACpC,IAAA,IAAInW,OAAO,GAAGlE,EAAE,CAAC2B,QAAQ,CAAC6X,SAAS,CAAC,CAAA;EACpC3Y,IAAAA,sBAAS,CAACqD,OAAO,EAAG,CAAA,2CAAA,CAA4C,CAAC,CAAA;MAEjE,IAAIqW,sBAAsB,GAAG,MAAMd,qBAAqB,CACtDzZ,EAAE,EACFwZ,SAAS,EACTvC,eAAe,EACf;EACE0C,MAAAA,WAAAA;EACF,KACF,CAAC,CAAA;EAEDY,IAAAA,sBAAsB,GAAGthB,KAAK,CAACuC,OAAO,CAAC+e,sBAAsB,CAAC,GAC1DA,sBAAsB,GACtB,CAACA,sBAAsB,CAAC,CAAA;EAE5B,IAAA,IAAIR,gBAAgB,GAAGQ,sBAAsB,CAAChP,GAAG,CAC/CiP,qBAAqB,IAAIxa,EAAE,CAAC2B,QAAQ,CAAC6Y,qBAAqB,CAC5D,CAAC,CAAA;EAED,IAAA,IAAIR,oBAAoB,GAAGZ,qBAAqB,CAACW,gBAAgB,CAAC,CAAA;EAElEO,IAAAA,mBAAmB,GAAGA,mBAAmB,CAACvB,MAAM,CAACiB,oBAAoB,CAAC,CAAA;EACxE,GAAA;IAEAnZ,sBAAS,CACPyZ,mBAAmB,CAACxjB,MAAM,GAAG,CAAC,EAC9B,0DACF,CAAC,CAAA;EAED,EAAA,IAAIuT,IAAI,KAAKmN,KAAK,CAACxY,KAAK,EAAE;EACxBsb,IAAAA,mBAAmB,GAAGA,mBAAmB,CAACrL,MAAM,CAC9CtO,IAAI,IAAIA,IAAI,CAACM,IAAI,CAACY,KAAK,KAAK,IAC9B,CAAC,CAAA;EACH,GAAA;EACA,EAAA,IAAIwI,IAAI,KAAKmN,KAAK,CAACvY,QAAQ,EAAE;EAC3Bqb,IAAAA,mBAAmB,GAAGA,mBAAmB,CAACrL,MAAM,CAC9CtO,IAAI,IAAIA,IAAI,CAACM,IAAI,CAACkV,QAAQ,KAAK,IACjC,CAAC,CAAA;EACH,GAAA;EACA,EAAA,IAAI9L,IAAI,KAAKmN,KAAK,CAACC,cAAc,EAAE;EACjC6C,IAAAA,mBAAmB,GAAGA,mBAAmB,CAACrL,MAAM,CAC9CtO,IAAI,IAAIA,IAAI,CAACM,IAAI,CAAC8S,UAAU,KAAK,IACnC,CAAC,CAAA;EACH,GAAA;EAEA/T,EAAAA,EAAE,CAACqK,IAAI,CAAC,GAAGpR,KAAK,CAACuC,OAAO,CAACwE,EAAE,CAACqK,IAAI,CAAC,CAAC,GAC9B,CAAC,GAAG,IAAI/K,GAAG,CAACgb,mBAAmB,CAAC/O,GAAG,CAAC5K,IAAI,IAAIA,IAAI,CAACO,MAAM,CAAC,CAAC,CAAC,GAC1DoZ,mBAAmB,CAAC,CAAC,CAAC,CAACpZ,MAAM,CAAA;;EAEjC;EACA,EAAA,IAAImJ,IAAI,KAAKmN,KAAK,CAACxY,KAAK,EAAE;EACxB,IAAA,IAAI4L,OAAO,CAAA;MACX,KAAK,MAAM6P,WAAW,IAAIza,EAAE,CAACwX,KAAK,CAACxY,KAAK,CAAC,EAAE;EACzC,MAAA,IAAI0b,KAAK,GAAG1a,EAAE,CAAC2B,QAAQ,CAAC8Y,WAAW,CAAC,CAAA;EACpC,MAAA,IAAI,CAAC7P,OAAO,EAAEA,OAAO,GAAG8P,KAAK,CAAChR,IAAI,CAAA,KAC7B,IAAIkB,OAAO,KAAK8P,KAAK,CAAChR,IAAI,EAAE;EAC/B,QAAA,MAAM,IAAI/P,KAAK,CACb,mEACF,CAAC,CAAA;EACH,OAAA;EACF,KAAA;EACF,GAAA;EACF,CAAA;EAEO,eAAeghB,eAAeA,CAAC3a,EAAE,EAAa;EAAA,EAAA,IAAXgB,IAAI,GAAA/I,SAAA,CAAAnB,MAAA,GAAA,CAAA,IAAAmB,SAAA,CAAA,CAAA,CAAA,KAAAC,SAAA,GAAAD,SAAA,CAAA,CAAA,CAAA,GAAG,EAAE,CAAA;EACjD,EAAA,IAAImL,aAAa,CAACpD,EAAE,CAAC,EAAE;MACrB,IAAI,CAAC/G,KAAK,CAACuC,OAAO,CAACwE,EAAE,CAAC6B,KAAK,CAAC,EAAE;QAC5BgI,YAAG,CAACC,SAAS,CAAC;EACZC,QAAAA,GAAG,EAAE,KAAK;EACVC,QAAAA,OAAO,EACL,iEAAiE;EACnEhI,QAAAA,OAAO,EAAE,8BAAA;EACX,OAAC,CAAC,CAAA;EACJ,KAAA;MACA,IAAI,CAAC2X,WAAW,EAAEiB,eAAe,CAAC,GAAGlD,OAAK,EAAE,CAAA;MAC5C,IAAI;EACF,MAAA,MAAM0C,kBAAkB,CAACpa,EAAE,EAAEwX,KAAK,CAACvY,QAAQ,EAAE;EAAC0a,QAAAA,WAAAA;EAAW,OAAC,CAAC,CAAA;EAC3D,MAAA,MAAMS,kBAAkB,CAACpa,EAAE,EAAEwX,KAAK,CAACC,cAAc,EAAE;EAACkC,QAAAA,WAAAA;EAAW,OAAC,CAAC,CAAA;EACjE,MAAA,MAAMS,kBAAkB,CAACpa,EAAE,EAAEwX,KAAK,CAACxY,KAAK,EAAE;EAAC2a,QAAAA,WAAAA;EAAW,OAAC,CAAC,CAAA;QAExD,MAAMlB,sBAAsB,CAACzY,EAAE,EAAE;EAAC2Z,QAAAA,WAAAA;EAAW,OAAC,CAAC,CAAA;QAE/C,IAAI3Y,IAAI,CAAC6Z,WAAW,EAAE;EACpB3R,QAAAA,OAAO,CAACwO,KAAK,CAACkD,eAAe,EAAE,CAAC,CAAA;EAClC,OAAA;OACD,CAAC,OAAOxU,KAAK,EAAE;QACd8C,OAAO,CAAC9C,KAAK,CAAC,uBAAuB,EAAEA,KAAK,EAAE,uBAAuB,CAAC,CAAA;EACtE,MAAA,MAAMA,KAAK,CAAA;EACb,KAAA;EACF,GAAA;EACA,EAAA,OAAOpG,EAAE,CAAA;EACX;;ECxTO,eAAe8a,iBAAiBA,CAAC9a,EAAE,EAAE;EAC1C,EAAA,IAAIoD,aAAa,CAACpD,EAAE,CAAC,EAAE;MACrB,IAAI;EACF,MAAA,IAAI+a,aAAa,GAAG/E,iBAAiB,CAAChW,EAAE,CAAC,CAAA;QACzC,MAAMgb,aAAa,GAAGC,wBAAmB,CAACC,eAAe,CAAClb,EAAE,CAAC,CAAC,CAAA;;EAE9D;EACA;EACA;EACA;EACA;EACA;EACA,MAAA,MAAM+I,OAAO,CAACuC,GAAG,CAACyP,aAAa,CAACxP,GAAG,CAAC4P,cAAc,CAACnb,EAAE,EAAEgb,aAAa,CAAC,CAAC,CAAC,CAAA;EAEvE,MAAA,IAAII,cAAc,GAAG9E,kBAAkB,CAACtW,EAAE,CAAC,CAAA;QAC3C,MAAMqb,cAAc,GAAGC,yBAAoB,CAAC;UAC1C,GAAGJ,eAAe,CAAClb,EAAE,CAAC;EACtBoU,QAAAA,WAAW,EAAE2G,aAAa,CAACxP,GAAG,CAACS,EAAE,KAAK;YACpCpB,OAAO,EAAE5K,EAAE,CAAC2B,QAAQ,CAACqK,EAAE,CAAC,CAACtC,IAAI;YAC7B9I,KAAK,EAAEZ,EAAE,CAAC2B,QAAQ,CAACqK,EAAE,CAAC,CAACpL,KAAK;EAC5ByT,UAAAA,GAAG,EAAErU,EAAE,CAAC2B,QAAQ,CAACqK,EAAE,CAAC,CAACqH,SAAAA;EACvB,SAAC,CAAC,CAAA;EACJ,OAAC,CAAC,CAAA;;EAEF;EACA;EACA;EACA;EACA;EACA;EACA,MAAA,MAAMtK,OAAO,CAACuC,GAAG,CAAC8P,cAAc,CAAC7P,GAAG,CAAC4P,cAAc,CAACnb,EAAE,EAAEqb,cAAc,CAAC,CAAC,CAAC,CAAA;OAC1E,CAAC,OAAOjV,KAAK,EAAE;EACd8C,MAAAA,OAAO,CAAC9C,KAAK,CAAC,YAAY,EAAEA,KAAK,EAAE;EAACpG,QAAAA,EAAAA;EAAE,OAAC,CAAC,CAAA;EACxC,MAAA,MAAMoG,KAAK,CAAA;EACb,KAAA;EACF,GAAA;EACA,EAAA,OAAOpG,EAAE,CAAA;EACX,CAAA;EAEA,SAASmb,cAAcA,CAACnb,EAAE,EAAE6P,OAAO,EAAE;EACnC,EAAA,OAAO,eAAe0L,mBAAmBA,CAACvP,EAAE,EAAE;EAC5C,IAAA,MAAMrL,IAAI,GAAGX,EAAE,CAAC2B,QAAQ,CAACqK,EAAE,CAAC,CAAA;MAC5B,IAAIrL,IAAI,CAAC0S,SAAS,IAAI,IAAI,IAAI1S,IAAI,CAAC0S,SAAS,KAAKnb,SAAS,EAAE,OAAA;MAC5D,MAAM;EAACmb,MAAAA,SAAAA;EAAS,KAAC,GAAG,MAAM1S,IAAI,CAAC6a,eAAe,CAC5CC,aAAa,CAAC9a,IAAI,EAAEkP,OAAO,EAAE7P,EAAE,CACjC,CAAC,CAAA;MACDA,EAAE,CAAC2B,QAAQ,CAACqK,EAAE,CAAC,CAACqH,SAAS,GAAGA,SAAS,CAAA;KACtC,CAAA;EACH,CAAA;EAEO,SAASoI,aAAaA,CAAC9a,IAAI,EAAEqB,OAAO,EAAEhC,EAAE,EAAE;IAC/C,IAAI;MACF,OAAO;EACLsY,MAAAA,MAAM,EAAE,UAAU;EAClBC,MAAAA,KAAK,EAAE,OAAO;QACdvW,OAAO;EACP0H,MAAAA,IAAI,EAAEC,qBAAU,CAAChJ,IAAI,CAAC+I,IAAI,CAAC;QAC3B9I,KAAK,EAAED,IAAI,CAACC,KAAK;QACjB4X,KAAK,EAAE7X,IAAI,CAACM,IAAI;EAChB0P,MAAAA,OAAO,EAAE3Q,EAAE,CAACgC,OAAO,CAAC2O,OAAO;EAC3B1L,MAAAA,IAAI,EAAEjF,EAAE,CAACgC,OAAO,CAAC/J,SAAS,CAACsT,GAAG,CAAC5L,CAAC,IAAIK,EAAE,CAAC/H,SAAS,CAAC0H,CAAC,CAAC,CAACsC,UAAU,CAAC;QAC/D2N,IAAI,EAAE,EAAE;EACRnQ,MAAAA,WAAW,EAAEO,EAAE;QACfsS,OAAO,EAAEkE,qBAAqB,CAACxW,EAAE,CAAA;OAClC,CAAA;KACF,CAAC,OAAOoG,KAAK,EAAE;EACd8C,IAAAA,OAAO,CAAC9C,KAAK,CAAC,eAAe,EAAEA,KAAK,CAAC,CAAA;EACrC,IAAA,MAAMA,KAAK,CAAA;EACb,GAAA;EACF,CAAA;EAEA,SAAS8U,eAAeA,CAAClb,EAAE,EAAE;EAC3B,EAAA,MAAM0b,YAAY,GAAG/R,qBAAU,CAC7B,CAAC1Q,KAAK,CAACuC,OAAO,CAACwE,EAAE,CAAC6B,KAAK,CAAC,GAAG7B,EAAE,CAAC2B,QAAQ,CAAC3B,EAAE,CAAC6B,KAAK,CAAC,CAAC,CAAC,CAAC,GAAG7B,EAAE,CAAC2B,QAAQ,CAAC3B,EAAE,CAAC6B,KAAK,CAAC,EACxE6H,IACL,CAAC,CAAA;IACD,OAAO;EACLiH,IAAAA,OAAO,EAAE3Q,EAAE,CAACgC,OAAO,CAAC2O,OAAO;EAC3B+C,IAAAA,QAAQ,EAAE1T,EAAE,CAACgC,OAAO,CAAC0R,QAAQ,IAAI,IAAI;EACrCC,IAAAA,YAAY,EAAE3T,EAAE,CAACgC,OAAO,CAAC2R,YAAY;EACrC1b,IAAAA,SAAS,EAAE+H,EAAE,CAACgC,OAAO,CAAC/J,SAAS,CAACsT,GAAG,CAACS,EAAE,IAAIhM,EAAE,CAAC/H,SAAS,CAAC+T,EAAE,CAAC,CAAC/J,UAAU,CAAC;EACtE2R,IAAAA,WAAW,EAAE;EACXhJ,MAAAA,OAAO,EAAEjB,qBAAU,CAAC3J,EAAE,CAAC2B,QAAQ,CAAC3B,EAAE,CAACmW,QAAQ,CAAC,CAACzM,IAAI,CAAC;QAClD9I,KAAK,EAAEZ,EAAE,CAAC2B,QAAQ,CAAC3B,EAAE,CAACmW,QAAQ,CAAC,CAACvV,KAAK;QACrCiT,WAAW,EAAE7T,EAAE,CAAC2B,QAAQ,CAAC3B,EAAE,CAACmW,QAAQ,CAAC,CAACtC,WAAAA;OACvC;EACDhS,IAAAA,KAAK,EAAE6Z,YAAY;EACnB5H,IAAAA,WAAW,EAAE9T,EAAE,CAAC4B,cAAc,CAC3B2J,GAAG,CAACmL,GAAG,IAAI/M,qBAAU,CAAC3J,EAAE,CAAC2B,QAAQ,CAAC+U,GAAG,CAAC,CAAChN,IAAI,CAAC,CAAC,CAC7CjI,MAAM,CAAC,CAACkV,IAAI,EAAEC,OAAO,KAAK;EACzB,MAAA,OAAOD,IAAI,CAACnI,IAAI,CAACqI,IAAI,IAAIA,IAAI,KAAKD,OAAO,CAAC,GAAGD,IAAI,GAAG,CAAC,GAAGA,IAAI,EAAEC,OAAO,CAAC,CAAA;EACxE,KAAC,EAAE,EAAE,CAAA;KACR,CAAA;EACH;;ECvGO,eAAe+E,iBAAiBA,CAAC3b,EAAE,EAAE;IAC1C,MAAM4b,UAAU,GAAG1e,GAAG,CAAC8C,EAAE,EAAE,eAAe,EAAE,EAAE,CAAC,CAAA;EAC/C,EAAA,OAAO+E,IAAI,CACT/E,EAAE,EACF4b,UAAU,CAACrQ,GAAG,CAACsQ,EAAE,IAAI7b,EAAE,IAAI6b,EAAE,CAAC7b,EAAE,EAAE;MAACG,EAAE;EAAEE,IAAAA,GAAAA;KAAI,CAAC,CAC9C,CAAC,CAAA;EACH;;ECNO,eAAeyb,yBAAyBA,CAAC9b,EAAE,EAAE;IAClD,KAAK,IAAIC,GAAG,IAAIjK,MAAM,CAACuJ,IAAI,CAACS,EAAE,CAAC2B,QAAQ,CAAC,EAAE;EACxC3B,IAAAA,EAAE,CAAC2B,QAAQ,CAAC1B,GAAG,CAAC,CAACyJ,IAAI,GAAGC,qBAAU,CAAC3J,EAAE,CAAC2B,QAAQ,CAAC1B,GAAG,CAAC,CAACyJ,IAAI,CAAC,CAAA;EAC3D,GAAA;EACA,EAAA,OAAO1J,EAAE,CAAA;EACX;;ECJO,eAAe+b,uBAAuBA,CAAC/b,EAAE,EAAE;EAChD,EAAA,MAAM0B,EAAE,GAAGxE,GAAG,CAAC8C,EAAE,EAAE,sBAAsB,CAAC,CAAA;EAC1C,EAAA,IAAIF,MAAI,CAAC4B,EAAE,CAAC,EAAE;EACZ,IAAA,MAAMA,EAAE,CAAC8U,qBAAqB,CAACxW,EAAE,CAAC,CAAC,CAAA;EACrC,GAAA;EACA,EAAA,OAAOA,EAAE,CAAA;EACX;;ECLA,MAAMgc,qBAAqB,GAAG,GAAG,CAAA;EAE1B,eAAeC,mBAAmBA,CAACjc,EAAE,EAAE;EAC5C,EAAA,IAAIoD,aAAa,CAACpD,EAAE,CAAC,EAAE;EACrBA,IAAAA,EAAE,CAACgC,OAAO,CAAC2R,YAAY,GACrB3T,EAAE,CAACgC,OAAO,CAAC2R,YAAY,KAAK,MAAM1C,aAAM,CAAC/T,GAAG,CAAC,WAAW,CAAC,CAAC,CAAA;EAE5D,IAAA,IAAI,CAAC8C,EAAE,CAACgC,OAAO,CAAC2R,YAAY,EAAE;EAC5B/N,MAAAA,mBAAM,CAACiE,GAAG,CAACC,SAAS,CAAC;EACnBC,QAAAA,GAAG,EAAE,SAAS;EACdC,QAAAA,OAAO,EACL,+DAA+D;EACjEC,QAAAA,UAAU,EACR,oHAAA;EACJ,OAAC,CAAC,CAAA;EACFjK,MAAAA,EAAE,CAACgC,OAAO,CAAC2R,YAAY,GAAGqI,qBAAqB,CAAA;EACjD,KAAA;EACF,GAAA;EACA,EAAA,OAAOhc,EAAE,CAAA;EACX;;ECFA,MAAMkc,IAAI,GAAGjiB,CAAC,IAAIA,CAAC,CAAA;EACnB,MAAMyd,KAAK,GACT,UAACzX,GAAG,EAAA;EAAA,EAAA,IAAEyB,EAAE,GAAAzJ,SAAA,CAAAnB,MAAA,GAAA,CAAA,IAAAmB,SAAA,CAAA,CAAA,CAAA,KAAAC,SAAA,GAAAD,SAAA,CAAA,CAAA,CAAA,GAAGikB,IAAI,CAAA;IAAA,OACf,MAAMlc,EAAE,IAAI;EAMV,IAAA,MAAMmc,KAAK,GAAGnc,EAAE,IACd,CACE,aAAa,EACb;QACEmW,QAAQ,EAAEnW,EAAE,CAACmW,QAAQ;QACrBvU,cAAc,EAAE5B,EAAE,CAAC4B,cAAc;QACjCC,KAAK,EAAE7B,EAAE,CAAC6B,KAAAA;OACX,EACD,cAAc,EACd7B,EAAE,CAAC2B,QAAQ,CACZ,CAACsN,MAAM,CAACmN,OAAO,CAAC,CAAA;EAEnB,IAAA,MAAMvS,GAAG,GAAG,YAAY;EAAA,MAAA,KAAA,IAAAvI,IAAA,GAAArJ,SAAA,CAAAnB,MAAA,EAAR8P,GAAG,GAAA3N,IAAAA,KAAA,CAAAqI,IAAA,GAAAE,IAAA,GAAA,CAAA,EAAAA,IAAA,GAAAF,IAAA,EAAAE,IAAA,EAAA,EAAA;EAAHoF,QAAAA,GAAG,CAAApF,IAAA,CAAAvJ,GAAAA,SAAA,CAAAuJ,IAAA,CAAA,CAAA;EAAA,OAAA;QACjB0H,OAAO,CAACW,GAAG,CAAE,CAAQ5J,MAAAA,EAAAA,GAAI,CAAQ,OAAA,CAAA,EAAE,GAAG2G,GAAG,EAAE,WAAW,CAAC,CAAA;OACxD,CAAA;EAED,IAAA,IAAI,MAAMqK,aAAM,CAAC/T,GAAG,CAAE,CAAA,MAAA,EAAQ+C,GAAI,CAAC,CAAA,CAAC,EAAE,MAAMyB,EAAE,CAAC1B,EAAE,EAAE6J,GAAG,EAAEsS,KAAK,CAAC,CAAA;EAC9D,IAAA,OAAOnc,EAAE,CAAA;KACV,CAAA;EAAA,CAAA,CAAA;AAEUqB,QAAAA,OAAO,GAAG0D,IAAI,CAAC,CAC1BiM,cAAc,EACd0G,KAAK,CAAC,SAAS,EAAE,CAAC1X,EAAE,EAAE6J,GAAG,KAAKA,GAAG,CAAC7J,EAAE,CAACgC,OAAO,CAAC2O,OAAO,CAAC,CAAC,EACtDsL,mBAAmB,EACnBvE,KAAK,CAAC,eAAe,EAAE,CAAC1X,EAAE,EAAE6J,GAAG,KAAKA,GAAG,CAAC7J,EAAE,CAACgC,OAAO,CAAC2R,YAAY,CAAC,CAAC,EACjE9B,gBAAgB,EAChB6F,KAAK,CAAC,WAAW,EAAE,CAAC1X,EAAE,EAAE6J,GAAG,KAAKA,GAAG,CAAC7J,EAAE,CAACgC,OAAO,CAAC/J,SAAS,EAAE+H,EAAE,CAACgC,OAAO,CAAC,CAAC,EACtE2Y,eAAe,EACfjD,KAAK,CAAC,UAAU,EAAE,CAAC1X,EAAE,EAAE6J,GAAG,EAAEsS,KAAK,KAAKtS,GAAG,CAAC,GAAGsS,KAAK,CAACnc,EAAE,CAAC,CAAC,CAAC,eAC1Cqc,YAAY,eACZC,uBAAuB,EACrCxB,iBAAiB,EACjBpD,KAAK,CAAC,YAAY,EAAE,CAAC1X,EAAE,EAAE6J,GAAG,EAAEsS,KAAK,KAAKtS,GAAG,CAAC,GAAGsS,KAAK,CAACnc,EAAE,CAAC,CAAC,CAAC,EAC1D8b,yBAAyB,EACzBH,iBAAiB,EACjBI,uBAAuB,EACvBrE,KAAK,CAAC,UAAU,EAAE,CAAC1X,EAAE,EAAE6J,GAAG,KAAKA,GAAG,CAAC7J,EAAE,CAAC,CAAC,CACxC,EAAC;EAEF,eAAeqc,YAAYA,CAACrc,EAAE,EAAE;EAC9B,EAAA,IAAIoD,aAAa,CAACpD,EAAE,CAAC,IAAIA,EAAE,CAACgC,OAAO,CAAC0R,QAAQ,IAAI,IAAI,EAAE;MACpD,MAAMxa,IAAI,GAAG,MAAM+X,aAAM,EAAE,CAAC/T,GAAG,CAAC,gBAAgB,CAAC,CAAA;EACjD,IAAA,MAAMqf,MAAM,GAAG,MAAMtL,aAAM,CAACuL,KAAK,CAC/B,CAAC,eAAe,EAAE,UAAU,CAAC,EAC7BC,MACF,CAAC,CAAA;EAED5b,IAAAA,sBAAS,CACP0b,MAAM,EACL,CAAkE,gEAAA,EAAA,kGAAmG,EACxK,CAAC,CAAA;EAEDvc,IAAAA,EAAE,CAACgC,OAAO,CAAC0R,QAAQ,GAAG,CACpB,MAAM6I,MAAM,CACV7W,KAAK,CAAC,CAAC4D,QAAQ,EAAE,CAAC,CAAC,EACnB;gBAAC2H,aAAM;QAAE/I,QAAQ;gBAAEzM,UAAM;EAAEuE,MAAAA,EAAE,EAAE0c,QAAAA;EAAQ,KAAC,EACxC;EAACxjB,MAAAA,IAAAA;EAAI,KACP,CAAC,CAACiY,IAAI,CAACrC,cAAM,CAAC,EACd9C,EAAE,CAAA;EACN,GAAA;EACA,EAAA,OAAOhM,EAAE,CAAA;EACX,CAAA;EAEA,eAAesc,uBAAuBA,CAACtc,EAAE,EAAE;EACzC,EAAA,IAAIoD,aAAa,CAACpD,EAAE,CAAC,EAAE;MACrB,IAAIW,IAAI,GAAG3K,MAAM,CAAC2mB,MAAM,CAAC3c,EAAE,CAAC2B,QAAQ,CAAC,CAAC6M,IAAI,CAACgG,CAAC,IAAIA,CAAC,CAACvT,IAAI,CAACkV,QAAQ,CAAC,CAAA;EAChEtV,IAAAA,sBAAS,CAACF,IAAI,EAAG,CAAA,+BAAA,CAAgC,CAAC,CAAA;EAClD,IAAA,IAAIA,IAAI,CAACkT,WAAW,IAAI,IAAI,EAAE;QAC5B,MAAM3a,IAAI,GAAG,MAAM+X,aAAM,EAAE,CAAC/T,GAAG,CAAC,gBAAgB,CAAC,CAAA;EACjD,MAAA,MAAMqf,MAAM,GAAG,MAAMtL,aAAM,CAACuL,KAAK,CAC/B,CAAC,eAAe,EAAE,UAAU,CAAC,EAC7BC,MACF,CAAC,CAAA;EAED5b,MAAAA,sBAAS,CACP0b,MAAM,EACL,CAAkE,gEAAA,EAAA,kGAAmG,EACxK,CAAC,CAAA;QAEDvc,EAAE,CAAC2B,QAAQ,CAAChB,IAAI,CAACO,MAAM,CAAC,CAAC2S,WAAW,GAAG,MAAM0I,MAAM,CACjD,MAAM7W,KAAK,CAAC,CAAC+D,UAAU,CAAC9I,IAAI,CAAC+I,IAAI,CAAC,CAAC,CAAC,EACpC;kBAACuH,aAAM;UAAE/I,QAAQ;kBAAEzM,UAAM;EAAEuE,QAAAA,EAAE,EAAE0c,QAAAA;EAAQ,OAAC,EACxC;EAACxjB,QAAAA,IAAAA;EAAI,OACP,CAAC,CACEiY,IAAI,CAACrC,cAAM,CAAC,CACZqC,IAAI,CAACxQ,IAAI,IAAIA,IAAI,CAACpB,IAAI,CAAC,CACvB4R,IAAI,CAAC5R,IAAI,IAAIA,IAAI,CAACiP,IAAI,CAACvO,GAAG,IAAIA,GAAG,CAACoV,KAAK,KAAK1U,IAAI,CAACC,KAAK,CAAC,CAAC,CACxDuQ,IAAI,CAAClR,GAAG,IAAIA,GAAG,CAAC2c,cAAc,CAAC,CAAA;EACpC,KAAA;EACF,GAAA;EACA,EAAA,OAAO5c,EAAE,CAAA;EACX;;ECvHO,SAASa,SAASA,GAAU;EAAA,EAAA,KAAA,IAAAS,IAAA,GAAArJ,SAAA,CAAAnB,MAAA,EAANmO,IAAI,GAAAhM,IAAAA,KAAA,CAAAqI,IAAA,GAAAE,IAAA,GAAA,CAAA,EAAAA,IAAA,GAAAF,IAAA,EAAAE,IAAA,EAAA,EAAA;EAAJyD,IAAAA,IAAI,CAAAzD,IAAA,CAAAvJ,GAAAA,SAAA,CAAAuJ,IAAA,CAAA,CAAA;EAAA,GAAA;EAC/B,EAAA,IAAIyD,IAAI,CAACnO,MAAM,GAAG,CAAC,EAAE;EACnB,IAAA,MAAM,CAAC+lB,SAAS,EAAE7a,OAAO,CAAC,GAAGiD,IAAI,CAAA;EACjC,IAAA,OAAOpE,SAAS,CAAC,CAACb,EAAE,EAAAmG,IAAA,KAAgB;QAAA,IAAd;UAAChG,EAAE;EAAEE,QAAAA,GAAAA;EAAG,OAAC,GAAA8F,IAAA,CAAA;EAC7B,MAAA,OAAO0W,SAAS,GAAG1c,EAAE,CAACH,EAAE,CAAC,GAAGK,GAAG,CAACL,EAAE,EAAEgC,OAAO,CAAC,CAAA;EAC9C,KAAC,CAAC,CAAA;EACJ,GAAA;EACA,EAAA,MAAM,CAACN,EAAE,CAAC,GAAGuD,IAAI,CAAA;EACjB,EAAA,OAAOjF,EAAE,IAAI0B,EAAE,CAAC1B,EAAE,EAAE;MAACG,EAAE;EAAEE,IAAAA,GAAAA;EAAG,GAAC,CAAC,CAAA;EAChC;;ECFA;EACA;EACA;EACA;EACA;EACA;AACayc,QAAAA,IAAI,GAAG,kBAAgC;EAAA,EAAA,IAAzB7X,IAAI,GAAAhN,SAAA,CAAAnB,MAAA,GAAA,CAAA,IAAAmB,SAAA,CAAA,CAAA,CAAA,KAAAC,SAAA,GAAAD,SAAA,CAAA,CAAA,CAAA,GAAG,EAAE,CAAA;EAAA,EAAA,IAAE+I,IAAI,GAAA/I,SAAA,CAAAnB,MAAA,GAAA,CAAA,IAAAmB,SAAA,CAAA,CAAA,CAAA,KAAAC,SAAA,GAAAD,SAAA,CAAA,CAAA,CAAA,GAAG,EAAE,CAAA;EAC7C,EAAA,MAAMskB,MAAM,GAAG,MAAMtL,aAAM,CAACuL,KAAK,CAC/B,CAAC,eAAe,EAAE,UAAU,CAAC,EAC7Bxb,IAAI,CAAC8b,IAAI,IAAIL,MACf,CAAC,CAAA;EAED5b,EAAAA,SAAS,CACP0b,MAAM,EACL,CAAkE,gEAAA,EAAA,kGAAmG,EACxK,CAAC,CAAA;EAED,EAAA,MAAMQ,SAAS,GAAG,MAAM9L,aAAM,CAACuL,KAAK,CAClC,CAAC,aAAa,CAAC,EACfxb,IAAI,CAACK,OAAO,IAAI2b,OAClB,CAAC,CAAA;EAEDhc,EAAAA,IAAI,CAAC9H,IAAI,GAAG8H,IAAI,CAAC9H,IAAI,KAAK,MAAM+X,aAAM,EAAE,CAAC/T,GAAG,CAAC,gBAAgB,CAAC,CAAC,CAAA;EAE/D,EAAA,IAAIjE,KAAK,CAACuC,OAAO,CAACyJ,IAAI,CAAC,EAAEA,IAAI,GAAGF,IAAI,CAACtF,WAAW,EAAE,EAAEwF,IAAI,CAAC,CAAA;EACzD,EAAA,OAAOsX,MAAM,CACX,MAAMQ,SAAS,CAAC9X,IAAI,CAAC,EACrB;cAACgM,aAAM;MAAE/I,QAAQ;EAAElI,IAAAA,EAAE,EAAE0c,QAAQ;EAAEjhB,YAAAA,UAAAA;KAAO,EACxCuF,IACF,CAAC,CAAA;EACH;;ECpCO,eAAe8N,MAAMA,CAAC5G,QAAQ,EAAE;IACrC,MAAM+U,kBAAkB,GAAG,MAAMhM,aAAM,EAAE,CAACC,KAAK,CAAC,YAAY,CAAC,CAAA;EAC7D,EAAA,MAAMlG,QAAQ,GAAGhV,MAAM,CAACob,OAAO,CAAC6L,kBAAkB,CAAC,CAAC1R,GAAG,CACrDpF,IAAA,IAAsB;EAAA,IAAA,IAArB,CAAC+W,OAAO,EAAEhb,KAAK,CAAC,GAAAiE,IAAA,CAAA;MACf+W,OAAO,GAAI,CAAGA,CAAAA,EAAAA,OAAO,CAAC7L,OAAO,CAAC,YAAY,EAAE,EAAE,CAAE,CAAG,EAAA,CAAA,CAAA;EACnD,IAAA,OAAO,CAAC6L,OAAO,EAAEhb,KAAK,CAAC,CAAA;EACzB,GACF,CAAC,CAAA;IAED,OAAOkN,cAAc,CAAClH,QAAQ,EAAElS,MAAM,CAACmnB,WAAW,CAACnS,QAAQ,CAAC,CAAC,CAAA;EAC/D;;ECPA,MAAMoS,kBAAkB,GAAG9K,OAAO,IAAI;EACpC;IACA,IAAIzC,OAAO,GAAG,IAAIvQ,GAAG,CAACgT,OAAO,CAACwB,WAAW,CAAC,CAAA;IAC1CjE,OAAO,CAACqG,GAAG,CAAC5D,OAAO,CAACsB,WAAW,CAAChJ,OAAO,CAAC,CAAA;EACxCiF,EAAAA,OAAO,CAACwG,MAAM,CAAC/D,OAAO,CAACzQ,KAAK,CAAC,CAAA;IAC7B,OAAO5I,KAAK,CAACyC,IAAI,CAACmU,OAAO,CAAC,CAACtE,GAAG,CAACiG,qBAAU,CAAC,CAAA;EAC5C,CAAC,CAAA;EAED,MAAM6L,mBAAmB,GAAG/K,OAAO,IAAI;EACrC;IACA,IAAIgL,QAAQ,GAAG,IAAIhe,GAAG,CAAC,CAACgT,OAAO,CAACzQ,KAAK,CAAC,CAAC,CAAA;IACvC,OAAO5I,KAAK,CAACyC,IAAI,CAAC4hB,QAAQ,CAAC,CAAC/R,GAAG,CAACiG,qBAAU,CAAC,CAAA;EAC7C,CAAC,CAAA;EAEM,MAAM+L,oDAAoD,SAAS5jB,KAAK,CAAC;IAC9EuM,WAAWA,CAACsX,aAAa,EAAE;EACzB,IAAA,MAAM5W,GAAG,GAAI,CAAA;AACjB,sGAAA,EAAwG4W,aAAc,CAAA;AACtH,mCAAA,EAAqCA,aAAc,CAAA;AACnD,MAAO,CAAA,CAACC,IAAI,EAAE,CAAA;MACV,KAAK,CAAC7W,GAAG,CAAC,CAAA;MACV,IAAI,CAAC9L,IAAI,GAAG,0DAA0D,CAAA;EACxE,GAAA;EACF,CAAA;QAEa4iB,yBAAyB,GAAGA,CAACC,QAAQ,EAAEH,aAAa,KAAK;EACpE,EAAA,IAAII,cAAc,GAAGR,kBAAkB,CAACO,QAAQ,CAACrL,OAAO,CAAC,CAAA;EACzD,EAAA,IAAIuL,eAAe,GAAGR,mBAAmB,CAACM,QAAQ,CAACrL,OAAO,CAAC,CAAA;IAE3D,MAAMwL,eAAe,GAAGF,cAAc,CAAC9U,QAAQ,CAAC0I,qBAAU,CAACgM,aAAa,CAAC,CAAC,CAAA;IAC1E,MAAMO,gBAAgB,GAAGF,eAAe,CAAC/U,QAAQ,CAAC0I,qBAAU,CAACgM,aAAa,CAAC,CAAC,CAAA;EAE5E,EAAA,IAAI,CAACM,eAAe,IAAI,CAACC,gBAAgB,EAAE;EACzC,IAAA,MAAM,IAAIR,oDAAoD,CAC5DC,aACF,CAAC,CAAA;EACH,GAAA;EAEA,EAAA,MAAMxb,OAAO,GAAG;EACd2O,IAAAA,OAAO,EAAEgN,QAAQ,CAACrL,OAAO,CAAC3B,OAAO;EACjC+C,IAAAA,QAAQ,EAAEiK,QAAQ,CAACrL,OAAO,CAACoB,QAAQ;EACnCC,IAAAA,YAAY,EAAEgK,QAAQ,CAACrL,OAAO,CAACqB,YAAY;EAC3C1b,IAAAA,SAAS,EAAE0lB,QAAQ,CAACrL,OAAO,CAACra,SAAS;EACrC2b,IAAAA,WAAW,EAAE;EACX,MAAA,GAAG+J,QAAQ,CAACrL,OAAO,CAACsB,WAAW;QAC/BhJ,OAAO,EAAEjB,qBAAU,CAACgU,QAAQ,CAACrL,OAAO,CAACsB,WAAW,CAAChJ,OAAO,CAAA;OACzD;MACD/I,KAAK,EAAE8H,qBAAU,CAACgU,QAAQ,CAACrL,OAAO,CAACzQ,KAAK,CAAC;MACzCiS,WAAW,EAAE6J,QAAQ,CAACrL,OAAO,CAACwB,WAAW,CAACvI,GAAG,CAAC5B,qBAAU,CAAC;MACzDyK,WAAW,EAAEuJ,QAAQ,CAACrL,OAAO,CAAC8B,WAAW,CAAC7I,GAAG,CAACyS,EAAE,KAAK;EACnD,MAAA,GAAGA,EAAE;EACLpT,MAAAA,OAAO,EAAEjB,qBAAU,CAACqU,EAAE,CAACpT,OAAO,CAAA;EAChC,KAAC,CAAC,CAAA;KACH,CAAA;IAED,OAAOkT,eAAe,GAClBhM,wBAAwB,CAAC9P,OAAO,CAAC,GACjCmQ,yBAAyB,CAACnQ,OAAO,CAAC,CAAA;EACxC;;EC9DO,SAASic,SAASA,CAACpC,EAAE,EAAE;IAC5B,OAAOjgB,MAAM,CAAC,eAAe,EAAEggB,UAAU,IACvC3iB,KAAK,CAACuC,OAAO,CAACogB,UAAU,CAAC,GAAGA,UAAU,CAAC/jB,IAAI,CAACgkB,EAAE,CAAC,GAAG,CAACA,EAAE,CACvD,CAAC,CAAA;EACH;;ECHA;EACA;EACA;EACA;EACA;EACO,SAASqC,aAAaA,CAACC,MAAM,EAAE;EACpC,EAAA,OAAOpZ,IAAI,CAAC,CACV/E,EAAE,IAAI;EACJA,IAAAA,EAAE,CAACwJ,KAAK,CAAC2U,MAAM,GAAGA,MAAM,CAAA;EACxB,IAAA,OAAOne,EAAE,CAAA;EACX,GAAC,EACDie,SAAS,CAACje,EAAE,IAAI;EACd,IAAA,IAAI,OAAOA,EAAE,CAACwJ,KAAK,CAACD,QAAQ,KAAK,SAAS,EACxC,MAAM,IAAI5P,KAAK,CAAC,mDAAmD,CAAC,CAAA;MACtE,IAAIqG,EAAE,CAACwJ,KAAK,CAACwC,EAAE,EACb,MAAM,IAAIrS,KAAK,CAAC,mDAAmD,CAAC,CAAA;EACtE,IAAA,OAAOqG,EAAE,CAAA;KACV,CAAC,CACH,CAAC,CAAA;EACJ;;ECnBO,SAASoe,SAASA,CAACpS,EAAE,EAAE;EAC5B,EAAA,OAAOjH,IAAI,CAAC,CACV/E,EAAE,IAAI;EACJA,IAAAA,EAAE,CAACwJ,KAAK,CAACwC,EAAE,GAAGA,EAAE,CAAA;MAChB,OAAO7L,EAAE,CAACH,EAAE,CAAC,CAAA;EACf,GAAC,EACDie,SAAS,CAAC,CAACje,EAAE,EAAAmG,IAAA,KAAgB;MAAA,IAAd;QAAChG,EAAE;EAAEE,MAAAA,GAAAA;EAAG,KAAC,GAAA8F,IAAA,CAAA;MACtB,IAAI5C,YAAY,CAACvD,EAAE,CAAC,EAClB,OAAOK,GAAG,CACRL,EAAE,EACF,8DACF,CAAC,CAAA;EACH,IAAA,IAAI,OAAOA,EAAE,CAACwJ,KAAK,CAACD,QAAQ,KAAK,SAAS,EACxC,OAAOlJ,GAAG,CAACL,EAAE,EAAE,+CAA+C,CAAC,CAAA;EACjE,IAAA,IAAIA,EAAE,CAACwJ,KAAK,CAAC2U,MAAM,EACjB,OAAO9d,GAAG,CAACL,EAAE,EAAE,mDAAmD,CAAC,CAAA;MACrE,OAAOG,EAAE,CAACH,EAAE,CAAC,CAAA;KACd,CAAC,CACH,CAAC,CAAA;EACJ;;ECfA;EACA;EACA;;EAEA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACO,SAASkE,OAAOA,CAAC0G,OAAO,EAA2B;IAAA,IAAzB;MAACuT,MAAM;EAAEnS,IAAAA,EAAAA;EAAE,GAAC,GAAA/T,SAAA,CAAAnB,MAAA,GAAAmB,CAAAA,IAAAA,SAAA,CAAAC,CAAAA,CAAAA,KAAAA,SAAA,GAAAD,SAAA,CAAG,CAAA,CAAA,GAAA,EAAE,CAAA;IAAA,IAAE+I,IAAI,GAAA/I,SAAA,CAAAnB,MAAA,GAAAmB,CAAAA,GAAAA,SAAA,MAAAC,SAAA,CAAA;IACtD2I,sBAAS,CACP,EAAEmL,EAAE,IAAImS,MAAM,CAAC,EACd,iEACH,CAAC,CAAA;;EAED;IACA,IAAInS,EAAE,EAAE,OAAO8Q,IAAI,CAAC,CAACrT,UAAU,CAACmB,OAAO,CAAC,EAAEwT,SAAS,CAACpS,EAAE,CAAC,CAAC,EAAEhL,IAAI,CAAC,CAACmQ,IAAI,CAACrC,cAAM,CAAC,CAAA;;EAE5E;IACA,IAAIqP,MAAM,EACR,OAAOrB,IAAI,CAAC,CAACrT,UAAU,CAACmB,OAAO,CAAC,EAAEsT,aAAa,CAACC,MAAM,CAAC,CAAC,EAAEnd,IAAI,CAAC,CAACmQ,IAAI,CAACrC,cAAM,CAAC,CAAA;EAE9E,EAAA,OAAOgO,IAAI,CAAC,CAACrT,UAAU,CAACmB,OAAO,CAAC,CAAC,EAAE5J,IAAI,CAAC,CAACmQ,IAAI,CAACrC,cAAM,CAAC,CAAA;EACvD;;EC3BA;EACA;EACA;;EAEA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACO,SAAStF,KAAKA,GAA+C;IAAA,IAA9C;EAAC6U,IAAAA,MAAM,GAAG,KAAK;MAAErS,EAAE;EAAEmS,IAAAA,MAAAA;EAAM,GAAC,GAAAlmB,SAAA,CAAAnB,MAAA,GAAAmB,CAAAA,IAAAA,SAAA,CAAAC,CAAAA,CAAAA,KAAAA,SAAA,GAAAD,SAAA,CAAG,CAAA,CAAA,GAAA,EAAE,CAAA;EAAA,EAAA,IAAE+I,IAAI,GAAA/I,SAAA,CAAAnB,MAAA,GAAA,CAAA,IAAAmB,SAAA,CAAA,CAAA,CAAA,KAAAC,SAAA,GAAAD,SAAA,CAAA,CAAA,CAAA,GAAG,EAAE,CAAA;EAChE4I,EAAAA,sBAAS,CACP,EAAGwd,MAAM,IAAIrS,EAAE,IAAMqS,MAAM,IAAIF,MAAO,CAAC,EACtC,CAAA,2DAAA,CACH,CAAC,CAAA;IAEDtd,sBAAS,CACP,EAAEmL,EAAE,IAAImS,MAAM,CAAC,EACd,+DACH,CAAC,CAAA;;EAED;IACA,IAAInS,EAAE,EAAE,OAAO8Q,IAAI,CAAC,CAACxT,QAAQ,EAAE,EAAE8U,SAAS,CAACpS,EAAE,CAAC,CAAC,EAAEhL,IAAI,CAAC,CAACmQ,IAAI,CAACrC,cAAM,CAAC,CAAA;;EAEnE;IACA,IAAIqP,MAAM,EACR,OAAOrB,IAAI,CAAC,CAACxT,QAAQ,EAAE,EAAE4U,aAAa,CAACC,MAAM,CAAC,CAAC,EAAEnd,IAAI,CAAC,CAACmQ,IAAI,CAACrC,cAAM,CAAC,CAAA;;EAErE;EACA,EAAA,OAAOgO,IAAI,CAAC,CAACxT,QAAQ,CAAC+U,MAAM,CAAC,CAAC,EAAErd,IAAI,CAAC,CAACmQ,IAAI,CAACrC,cAAM,CAAC,CAAA;EACpD;;ECtCO,SAASlN,cAAcA,GAAU;EAAA,EAAA,IAAT0c,EAAE,GAAArmB,SAAA,CAAAnB,MAAA,GAAA,CAAA,IAAAmB,SAAA,CAAA,CAAA,CAAA,KAAAC,SAAA,GAAAD,SAAA,CAAA,CAAA,CAAA,GAAG,EAAE,CAAA;EACpC,EAAA,OAAO8M,IAAI,CACTuZ,EAAE,CAAC/S,GAAG,CAACgT,KAAK,IAAI;MACd,OAAOxd,WAAW,CAACwd,KAAK,EAAE;EAACtd,MAAAA,IAAI,EAAElC,UAAAA;EAAU,KAAC,CAAC,CAAA;EAC/C,GAAC,CACH,CAAC,CAAA;EACH,CAAA;EAEO,SAASqC,aAAaA,CAACsI,IAAI,EAAE8R,eAAe,EAAE5a,KAAK,EAAEiT,WAAW,EAAE;IACvE,OAAO;MAACnK,IAAI;MAAE8R,eAAe;MAAE5a,KAAK;EAAEiT,IAAAA,WAAAA;KAAY,CAAA;EACpD;;ECTO,SAAS2K,SAASA,CAACC,SAAS,EAAEC,KAAK,EAAEC,GAAG,EAAE;IAC/C,IAAI,OAAOD,KAAK,KAAK,WAAW,IAAI,OAAOC,GAAG,KAAK,WAAW,EAAE;EAC9D/Y,IAAAA,mBAAM,CAACiE,GAAG,CAACC,SAAS,CAAC;EACnBC,MAAAA,GAAG,EAAE,SAAS;EACdC,MAAAA,OAAO,EAAE,wCAAwC;EACjDC,MAAAA,UAAU,EACR,2HAAA;EACJ,KAAC,CAAC,CAAA;EACJ,GAAA;EAEA,EAAA,OAAOlF,IAAI,CAAC,CACVpC,aAAa,EACb3C,EAAE,IAAI;EACJA,IAAAA,EAAE,CAACuP,MAAM,CAACkP,SAAS,GAAGA,SAAS,CAAA;EAC/Bze,IAAAA,EAAE,CAACuP,MAAM,CAACmP,KAAK,GAAGA,KAAK,CAAA;EACvB1e,IAAAA,EAAE,CAACuP,MAAM,CAACoP,GAAG,GAAGA,GAAG,CAAA;MACnB,OAAOxe,EAAE,CAACH,EAAE,CAAC,CAAA;EACf,GAAC,CACF,CAAC,CAAA;EACJ;;ECpBA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACO,SAAS4e,2BAA2BA,CAACC,SAAS,EAAEC,eAAe,EAAEC,aAAa,EAAE;EACrF,EAAA,OAAOha,IAAI,CAAC,CACVpC,aAAa,EACb3C,EAAE,IAAI;EACJA,IAAAA,EAAE,CAACuP,MAAM,CAACkP,SAAS,GAAGI,SAAS,CAAA;EAC/B7e,IAAAA,EAAE,CAACuP,MAAM,CAACmP,KAAK,GAAGI,eAAe,CAAA;EACjC9e,IAAAA,EAAE,CAACuP,MAAM,CAACoP,GAAG,GAAGI,aAAa,CAAA;MAC7B,OAAO5e,EAAE,CAACH,EAAE,CAAC,CAAA;EACf,GAAC,CACF,CAAC,CAAA;EACJ;;ECpBA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACO,SAASgf,mBAAmBA,CAACH,SAAS,EAAiB;EAAA,EAAA,IAAfI,QAAQ,GAAAhnB,SAAA,CAAAnB,MAAA,GAAA,CAAA,IAAAmB,SAAA,CAAA,CAAA,CAAA,KAAAC,SAAA,GAAAD,SAAA,CAAA,CAAA,CAAA,GAAG,EAAE,CAAA;EAC1D,EAAA,OAAO8M,IAAI,CAAC,CACVpC,aAAa,EACb3C,EAAE,IAAI;EACJA,IAAAA,EAAE,CAACuP,MAAM,CAACkP,SAAS,GAAGI,SAAS,CAAA;EAC/B7e,IAAAA,EAAE,CAACuP,MAAM,CAAC0P,QAAQ,GAAGA,QAAQ,CAAA;MAC7B,OAAO9e,EAAE,CAACH,EAAE,CAAC,CAAA;EACf,GAAC,CACF,CAAC,CAAA;EACJ;;ECjBA;EACA;EACA;EACA;EACA;EACO,SAASkf,cAAcA,GAAkB;EAAA,EAAA,IAAjB3V,QAAQ,GAAAtR,SAAA,CAAAnB,MAAA,GAAA,CAAA,IAAAmB,SAAA,CAAA,CAAA,CAAA,KAAAC,SAAA,GAAAD,SAAA,CAAA,CAAA,CAAA,GAAG,IAAI,CAAA;EAC5C,EAAA,OAAO8M,IAAI,CAAC,CACVjC,kBAAkB,EAClB9C,EAAE,IAAI;EACJA,IAAAA,EAAE,CAACwJ,KAAK,CAACD,QAAQ,GAAGA,QAAQ,CAAA;MAC5B,OAAOpJ,EAAE,CAACH,EAAE,CAAC,CAAA;EACf,GAAC,CACF,CAAC,CAAA;EACJ;;ECbA;EACA;EACA;EACA;EACA;EACA;EACA;EACO,SAASmf,aAAaA,GAAY;EAAA,EAAA,IAAXnT,EAAE,GAAA/T,SAAA,CAAAnB,MAAA,GAAA,CAAA,IAAAmB,SAAA,CAAA,CAAA,CAAA,KAAAC,SAAA,GAAAD,SAAA,CAAA,CAAA,CAAA,GAAG,IAAI,CAAA;EACrC,EAAA,OAAO8M,IAAI,CAAC,CACVhC,iBAAiB,EACjB/C,EAAE,IAAI;EACJA,IAAAA,EAAE,CAACoQ,UAAU,CAACpE,EAAE,GAAGA,EAAE,CAAA;EACrB,IAAA,OAAOhM,EAAE,CAAA;EACX,GAAC,CACF,CAAC,CAAA;EACJ;;ECfA;EACA;EACA;EACA;EACA;EACA;EACO,SAASof,oBAAoBA,CAAC3P,aAAa,EAAE;EAClD,EAAA,OAAO1K,IAAI,CAAC,CACVvC,wBAAwB,EACxBxC,EAAE,IAAI;EACJA,IAAAA,EAAE,CAAC8P,WAAW,CAAC9D,EAAE,GAAGyD,aAAa,CAAA;MACjC,OAAOtP,EAAE,CAACH,EAAE,CAAC,CAAA;EACf,GAAC,CACF,CAAC,CAAA;EACJ;;ECdA;EACA;EACA;EACA;EACA;EACA;EACO,SAASqf,cAAcA,CAAC5P,aAAa,EAAE;EAC5C,EAAA,OAAO1K,IAAI,CAAC,CACVtC,kBAAkB,EAClBzC,EAAE,IAAI;EACJA,IAAAA,EAAE,CAAC8P,WAAW,CAAC9D,EAAE,GAAGyD,aAAa,CAAA;MACjC,OAAOtP,EAAE,CAACH,EAAE,CAAC,CAAA;EACf,GAAC,CACF,CAAC,CAAA;EACJ;;ECdO,SAASsf,oBAAoBA,GAAG;EACrC,EAAA,OAAOva,IAAI,CAAC,CACV/B,wBAAwB,EACxBhD,EAAE,IAAI;MACJ,OAAOG,EAAE,CAACH,EAAE,CAAC,CAAA;EACf,GAAC,CACF,CAAC,CAAA;EACJ;;ECTO,SAASuf,KAAKA,CAAC5L,YAAY,EAAE;EAClC,EAAA,OAAO3T,EAAE,IAAI;EACXA,IAAAA,EAAE,CAACgC,OAAO,CAAC2R,YAAY,GAAGA,YAAY,CAAA;EACtC,IAAA,OAAO3T,EAAE,CAAA;KACV,CAAA;EACH;;ECHA;EACA;EACA;EACA;EACA;EACO,SAASiF,IAAIA,GAAU;EAAA,EAAA,IAATqZ,EAAE,GAAArmB,SAAA,CAAAnB,MAAA,GAAA,CAAA,IAAAmB,SAAA,CAAA,CAAA,CAAA,KAAAC,SAAA,GAAAD,SAAA,CAAA,CAAA,CAAA,GAAG,EAAE,CAAA;IAC1B,OAAO8M,IAAI,CAACuZ,EAAE,CAAC/S,GAAG,CAACzJ,YAAY,CAAC,CAAC,CAAA;EACnC,CAAA;;EAEA;EACA;EACA;EACA;EACA;EACA;EACO,SAASC,GAAGA,CAAC5L,KAAK,EAAE+L,KAAK,EAAE;IAChC,OAAO;MAAC/L,KAAK;EAAE+L,IAAAA,KAAAA;KAAM,CAAA;EACvB;;ECjBO,eAAeiU,QAAQA,CAACoI,KAAK,EAAE;IACpC,OAAOxd,WAAW,CAACwd,KAAK,EAAE;EAACtd,IAAAA,IAAI,EAAEhC,QAAAA;EAAQ,GAAC,CAAC,CAAA;EAC7C;;ECFO,SAAS4C,KAAKA,GAAU;EAAA,EAAA,IAATyc,EAAE,GAAArmB,SAAA,CAAAnB,MAAA,GAAA,CAAA,IAAAmB,SAAA,CAAA,CAAA,CAAA,KAAAC,SAAA,GAAAD,SAAA,CAAA,CAAA,CAAA,GAAG,EAAE,CAAA;EAC3B,EAAA,IAAI,CAACgB,KAAK,CAACuC,OAAO,CAAC8iB,EAAE,CAAC,EAAEA,EAAE,GAAG,CAACA,EAAE,CAAC,CAAA;EACjC,EAAA,OAAOvZ,IAAI,CACTuZ,EAAE,CAAC/S,GAAG,CAACgT,KAAK,IAAI;MACd,OAAOxd,WAAW,CAACwd,KAAK,EAAE;EAACtd,MAAAA,IAAI,EAAEjC,KAAAA;EAAK,KAAC,CAAC,CAAA;EAC1C,GAAC,CACH,CAAC,CAAA;EACH;;ECPO,SAASwgB,IAAIA,GAAG;EACrB,EAAA,OAAO5c,QAAQ,CAAA;EACjB;;ECFO,SAAS6c,GAAGA,CAAC/L,QAAQ,EAAE;EAC5B,EAAA,OAAO3O,IAAI,CAAC,CACV/E,EAAE,IAAI;EACJA,IAAAA,EAAE,CAACgC,OAAO,CAAC0R,QAAQ,GAAGA,QAAQ,CAAA;MAC9B,OAAOvT,EAAE,CAACH,EAAE,CAAC,CAAA;EACf,GAAC,CACF,CAAC,CAAA;EACJ;;ECNO,SAASmT,MAAMA,GAAU;EAC9B,EAAA,OAAOpO,IAAI,CAAC,CAACzC,UAAU,EAAEkD,GAAG,CAAC,YAAY,EAAEka,qBAAQ,CAAC,GAAAznB,SAAO,CAAC,CAAC,CAAC,CAAC,CAAA;EACjE;;ECFA,MAAM0nB,uBAAuB,GAAG,EAAE,CAAA;EAClC,MAAMC,WAAW,GAAG,IAAI,CAAA;;EAExB;EACA;EACA;EACA;EACA;EACO,SAAS9P,WAAWA,GAAU;EACnC,EAAA,OAAO/K,IAAI,CAAC,CACVxC,eAAe,EACfiD,GAAG,CAAC,YAAY,EAAEka,qBAAQ,CAAC,GAAAznB,SAAO,CAAC,CAAC,EACpC+H,EAAE,IAAI;MACJA,EAAE,CAACgC,OAAO,CAAC0R,QAAQ,GAAG1T,EAAE,CAACgC,OAAO,CAAC0R,QAAQ,IAAIkM,WAAW,CAAA;EACxD5f,IAAAA,EAAE,CAAC4B,cAAc,GAAG5B,EAAE,CAAC4B,cAAc,IAAI+d,uBAAuB,CAAA;MAChE,OAAOxf,EAAE,CAACH,EAAE,CAAC,CAAA;EACf,GAAC,CACF,CAAC,CAAA;EACJ;;ECnBO,SAAS6f,gBAAgBA,CAACne,EAAE,EAAE;EACnC,EAAA,OAAO8D,GAAG,CAAC,sBAAsB,EAAE9D,EAAE,CAAC,CAAA;EACxC;;ACOO,QAAMoe,6BAA6B,GACxC3Z,IAAA,IAAA;IAAA,IAAC;EAACjN,IAAAA,IAAAA;EAAI,GAAC,GAAAiN,IAAA,CAAA;IAAA,OACP,MAAMnG,EAAE,IAAI;MACV,IAAI,CAACoD,aAAa,CAACpD,EAAE,CAAC,EAAE,OAAOG,EAAE,CAACH,EAAE,CAAC,CAAA;EACrC,IAAA,IAAIA,EAAE,CAAC2B,QAAQ,CAAC3B,EAAE,CAACmW,QAAQ,CAAC,CAACtC,WAAW,EAAE,OAAO1T,EAAE,CAACH,EAAE,CAAC,CAAA;EAEvD,IAAA,MAAMuc,MAAM,GAAG,MAAMtL,aAAM,CAACuL,KAAK,CAC/B,CAAC,eAAe,EAAE,UAAU,CAAC,EAC7BC,MACF,CAAC,CAAA;EAED5b,IAAAA,sBAAS,CACP0b,MAAM,EACL,CAAkE,gEAAA,EAAA,kGAAmG,EACxK,CAAC,CAAA;MAED,MAAMrU,UAAQ,GAAG,MAAMqU,MAAM,CAC3B,MAAM7W,KAAK,CAAC,CAAC+D,UAAU,CAACzJ,EAAE,CAAC2B,QAAQ,CAAC3B,EAAE,CAACmW,QAAQ,CAAC,CAACzM,IAAI,CAAC,CAAC,CAAC,EACxD;gBAACuH,aAAM;EAAE/I,MAAAA,QAAQ,EAAE6X,QAAc;gBAAEtkB,UAAM;EAAEuE,MAAAA,EAAE,EAAE0c,QAAAA;EAAQ,KAAC,EACxD;EAACxjB,MAAAA,IAAAA;EAAI,KACP,CAAC,CAAA;EACD,IAAA,MAAM2S,OAAO,GAAG,MAAMuD,cAAc,CAAClH,UAAQ,CAAC,CAAA;MAE9ClI,EAAE,CAAC2B,QAAQ,CAAC3B,EAAE,CAACmW,QAAQ,CAAC,CAACtC,WAAW,GAClChI,OAAO,CAACtM,IAAI,CAACS,EAAE,CAAC2B,QAAQ,CAAC3B,EAAE,CAACmW,QAAQ,CAAC,CAACvV,KAAK,CAAC,CAACgc,cAAc,CAAA;MAE7D,OAAOzc,EAAE,CAACH,EAAE,CAAC,CAAA;KACd,CAAA;EAAA;;ECvBH,eAAeggB,QAAQA,CAAChf,IAAI,EAAE;IAC5B,MAAM9H,IAAI,GAAG,MAAM+X,aAAM,EAAE,CAAC/T,GAAG,CAAC,gBAAgB,CAAC,CAAA;EACjD,EAAA,MAAMqf,MAAM,GAAG,MAAMtL,aAAM,CAACuL,KAAK,CAAC,CAAC,eAAe,EAAE,UAAU,CAAC,EAAEC,MAAW,CAAC,CAAA;EAE7E5b,EAAAA,sBAAS,CACP0b,MAAM,EACL,CAAkE,gEAAA,EAAA,kGAAmG,EACxK,CAAC,CAAA;EAED,EAAA,IAAIvc,EAAE,CAAA;EACNA,EAAAA,EAAE,GAAG,MAAM+E,IAAI,CAACtF,WAAW,EAAE,EAAE,CAAC6J,QAAQ,EAAE,CAAC,CAAC,CAAA;EAC5CtJ,EAAAA,EAAE,GAAG,MAAMuc,MAAM,CAACvc,EAAE,EAAE;cAACiR,aAAM;MAAE/I,QAAQ;cAAEzM,UAAM;EAAEuE,IAAAA,EAAE,EAAE0c,QAAAA;EAAQ,GAAC,EAAE;EAACxjB,IAAAA,IAAAA;EAAI,GAAC,CAAC,CAAA;EACvE8G,EAAAA,EAAE,GAAG,MAAMoP,cAAc,CAACpP,EAAE,CAAC,CAAA;IAC7B,OAAOA,EAAE,CAACgM,EAAE,CAAA;EACd,CAAA;EAEO,SAASiU,iBAAiBA,CAACjf,IAAI,EAAE;IACtC,OAAO,MAAMhB,EAAE,IAAI;MACjB,IAAI,CAACoD,aAAa,CAACpD,EAAE,CAAC,EAAE,OAAOG,EAAE,CAACH,EAAE,CAAC,CAAA;MACrC,IAAIA,EAAE,CAACgC,OAAO,CAAC0R,QAAQ,EAAE,OAAOvT,EAAE,CAACH,EAAE,CAAC,CAAA;MAEtCA,EAAE,CAACgC,OAAO,CAAC0R,QAAQ,GAAG,MAAMsM,QAAQ,CAAK,CAAC,CAAA;MAE1C,OAAO7f,EAAE,CAACH,EAAE,CAAC,CAAA;KACd,CAAA;EACH;;ECrCO,SAASkgB,mBAAmBA,CAAClgB,EAAE,EAAoB;EAAA,EAAA,IAAlBmgB,YAAY,GAAAloB,SAAA,CAAAnB,MAAA,GAAA,CAAA,IAAAmB,SAAA,CAAA,CAAA,CAAA,KAAAC,SAAA,GAAAD,SAAA,CAAA,CAAA,CAAA,GAAG,CAAC,CAAA;EACtD;IACA4I,sBAAS,CAACb,EAAE,CAACkE,OAAO,EAAE,kDAAkD,EAAElE,EAAE,CAAC,CAAA;EAC7E;IACAa,sBAAS,CAAEb,EAAE,CAACkE,OAAO,CAACwF,IAAI,EAAE,uDAAuD,EAAE1J,EAAE,CAAC,CAAA;EAExF,EAAA,MAAM4K,OAAO,GAAG5K,EAAE,CAACkE,OAAO,CAACwF,IAAI,CAAA;IAE/B,OAAO;EACLxF,IAAAA,OAAO,EAAE;EACPwF,MAAAA,IAAI,EAAEkB,OAAO;EACbrL,MAAAA,IAAI,EAAEtG,KAAK,CAACyC,IAAI,CAAC;EAAC5E,QAAAA,MAAM,EAAEqpB,YAAAA;EAAY,OAAC,EAAE,CAACC,CAAC,EAAExoB,CAAC,MAAM;EAClDyd,QAAAA,KAAK,EAAEzd,CAAC;EACRglB,QAAAA,cAAc,EAAE,EAAA;EAClB,OAAC,CAAC,CAAA;EACJ,KAAA;KACD,CAAA;EACH,CAAA;EAEO,SAASyD,oBAAoBA,CAACrgB,EAAE,EAAE;IACvC,OAAO;EACLS,IAAAA,GAAG,EAAE,WAAW;EAChB+I,IAAAA,KAAK,EAAE;EACLwC,MAAAA,EAAE,EAAE,IAAA;EACN,KAAA;KACD,CAAA;EACH,CAAA;EAEA,MAAM3G,QAAQ,GAAGpL,CAAC,IAAIA,CAAC,CAAA;EAEhB,SAASqmB,QAAQA,GAAsB;EAAA,EAAA,IAArBhb,QAAQ,GAAArN,SAAA,CAAAnB,MAAA,GAAA,CAAA,IAAAmB,SAAA,CAAA,CAAA,CAAA,KAAAC,SAAA,GAAAD,SAAA,CAAA,CAAA,CAAA,GAAGoN,QAAQ,CAAA;EAC1C,EAAA,OAAO,eAAekb,QAAQA,CAACvgB,EAAE,EAAE;MACjCA,EAAE,GAAG,MAAMA,EAAE,CAAA;EACb,IAAA,QAAQ,IAAI;QACV,KAAKuD,YAAY,CAACvD,EAAE,CAAC;UACnB,OAAOkgB,mBAAmB,CAAClgB,EAAE,CAAC,CAAA;QAEhC,KAAK0D,UAAU,CAAC1D,EAAE,CAAC;UACjB,OAAOqgB,oBAAoB,CAAG,CAAC,CAAA;EAEjC,MAAA;UACE,OAAO/a,QAAQ,CAACtF,EAAE,CAAC,CAAA;EACvB,KAAA;KACD,CAAA;EACH;;EC7CO,MAAMkX,IAAI,GAAGvW,IAAI,IAAK,GAAE6Q,qBAAU,CAAC7Q,IAAI,CAAC+I,IAAI,CAAE,CAAA,CAAA,EAAG/I,IAAI,CAACC,KAAM,CAAC,CAAA,CAAA;EAE7D,SAASyT,GAAGA,CAACrT,IAAI,EAAE;EACxB,EAAA,OAAO,CAAC,WAAW,EAAEA,IAAI,CAAC0I,IAAI,EAAE1I,IAAI,CAACJ,KAAK,CAAC,CAACiO,IAAI,CAAC,GAAG,CAAC,CAAA;EACvD,CAAA;EAEO,SAAS2R,OAAOA,GAAY;EAAA,EAAA,IAAXxf,IAAI,GAAA/I,SAAA,CAAAnB,MAAA,GAAA,CAAA,IAAAmB,SAAA,CAAA,CAAA,CAAA,KAAAC,SAAA,GAAAD,SAAA,CAAA,CAAA,CAAA,GAAG,EAAE,CAAA;IAC/B,OAAO,UAAUiM,OAAO,EAAE;EACxB,IAAA,MAAMvD,IAAI,GAAG;EACX,MAAA,GAAGuD,OAAO;EACV,MAAA,GAAGlD,IAAI;EACPK,MAAAA,OAAO,EAAE,IAAI;QACbma,eAAe,EACbxa,IAAI,CAACwa,eAAe,IACpBtX,OAAO,CAACsX,eAAe,IACvBiF,uBAAAA;OACH,CAAA;EAED,IAAA,OAAO9f,IAAI,CAAA;MAEX,SAAS8f,uBAAuBA,CAAC9C,QAAQ,EAAE;QACzC,OAAO;UACLjU,IAAI,EAAE/I,IAAI,CAAC+I,IAAI;UACf9I,KAAK,EAAED,IAAI,CAACC,KAAK;UACjByS,SAAS,EAAEgB,GAAG,CAAC1T,IAAI,CAAA;SACpB,CAAA;EACH,KAAA;KACD,CAAA;EACH,CAAA;EAEO,SAAS+f,YAAYA,GAAY;EAAA,EAAA,IAAX1f,IAAI,GAAA/I,SAAA,CAAAnB,MAAA,GAAA,CAAA,IAAAmB,SAAA,CAAA,CAAA,CAAA,KAAAC,SAAA,GAAAD,SAAA,CAAA,CAAA,CAAA,GAAG,EAAE,CAAA;IACpC,OAAO,UAAUiM,OAAO,EAAE;MACxB,MAAM;QAAChD,MAAM;QAAE,GAAGK,IAAAA;EAAI,KAAC,GAAGP,IAAI,CAAA;MAC9B,OAAO;EACL,MAAA,GAAGkD,OAAO;QACVhD,MAAM,EAAEA,MAAM,IAAI,cAAc;QAChCG,OAAO,EAAEmf,OAAO,CAACjf,IAAI,CAAA;OACtB,CAAA;KACF,CAAA;EACH,CAAA;EAEA,MAAMof,IAAI,GAAG;EAACxK,EAAAA,QAAQ,EAAE,KAAK;EAAEpC,EAAAA,UAAU,EAAE,KAAK;EAAElS,EAAAA,KAAK,EAAE,KAAA;EAAK,CAAC,CAAA;EAGxD,SAAS+e,gBAAgBA,GAAY;EAAA,EAAA,IAAX5f,IAAI,GAAA/I,SAAA,CAAAnB,MAAA,GAAA,CAAA,IAAAmB,SAAA,CAAA,CAAA,CAAA,KAAAC,SAAA,GAAAD,SAAA,CAAA,CAAA,CAAA,GAAG,EAAE,CAAA;IACxC,OAAO,UAAUiM,OAAO,EAAE;EACxB,IAAA,MAAMhD,MAAM,GAAGF,IAAI,CAACE,MAAM,IAAI,oBAAoB,CAAA;MAClD,OAAO;EACL,MAAA,GAAGgD,OAAO;QACVhD,MAAM;EACNG,MAAAA,OAAO,EAAEA,MACP,CACEL,IAAI,CAACmV,QAAQ,IACXqK,OAAO,CAACxf,IAAI,CAACmV,QAAQ,CAAC,CAAC;EAAClV,QAAAA,IAAI,EAAE;EAAC,UAAA,GAAG0f,IAAI;EAAExK,UAAAA,QAAQ,EAAE,IAAA;EAAI,SAAA;EAAC,OAAC,CAAC,EAC3D,GAAGnV,IAAI,CAACY,cAAc,CACnB2J,GAAG,CAACiV,OAAO,CAAC,CACZjV,GAAG,CAAC5L,CAAC,IAAIA,CAAC,CAAC;EAACsB,QAAAA,IAAI,EAAE;EAAC,UAAA,GAAG0f,IAAI;EAAE5M,UAAAA,UAAU,EAAE,IAAA;EAAI,SAAA;EAAC,OAAC,CAAC,CAAC,EACnD/S,IAAI,CAACa,KAAK,IAAI2e,OAAO,CAACxf,IAAI,CAACa,KAAK,CAAC,CAAC;EAACZ,QAAAA,IAAI,EAAE;EAAC,UAAA,GAAG0f,IAAI;EAAE9e,UAAAA,KAAK,EAAE,IAAA;EAAI,SAAA;EAAC,OAAC,CAAC,CAClE,CAACoN,MAAM,CAACmN,OAAO,CAAA;OACnB,CAAA;KACF,CAAA;EACH,CAAA;EAEO,SAASyE,oBAAoBA,GAAuB;EAAA,EAAA,IAAtB7f,IAAI,GAAA/I,SAAA,CAAAnB,MAAA,GAAA,CAAA,IAAAmB,SAAA,CAAA,CAAA,CAAA,KAAAC,SAAA,GAAAD,SAAA,CAAA,CAAA,CAAA,GAAG,EAAE,CAAA;EAAA,EAAA,IAAE0Z,KAAK,GAAA1Z,SAAA,CAAAnB,MAAA,GAAA,CAAA,IAAAmB,SAAA,CAAA,CAAA,CAAA,KAAAC,SAAA,GAAAD,SAAA,CAAA,CAAA,CAAA,GAAG,CAAC,CAAA;IACvD,OAAO,UAAUiM,OAAO,EAAE;EACxB,IAAA,MAAMhD,MAAM,GAAGF,IAAI,CAACE,MAAM,IAAI,yBAAyB,CAAA;MACvD,OAAO;EACL,MAAA,GAAGgD,OAAO;QACVhD,MAAM;QACNG,OAAO,EACLsQ,KAAK,GAAG,CAAC,GACLkP,oBAAoB,CAAC7f,IAAI,EAAE2Q,KAAK,GAAG,CAAC,CAAC,CAACzN,OAAO,CAAC,CAAC7C,OAAO,GACtDuf,gBAAgB,CAAC5f,IAAI,CAAC,CAACkD,OAAO,CAAC,CAAC7C,OAAAA;OACvC,CAAA;KACF,CAAA;EACH;;ECzEO,MAAMyf,GAAG,GAAG,YAAA;EAAA,EAAA,IAACnc,GAAG,GAAA1M,SAAA,CAAAnB,MAAA,GAAA,CAAA,IAAAmB,SAAA,CAAA,CAAA,CAAA,KAAAC,SAAA,GAAAD,SAAA,CAAA,CAAA,CAAA,GAAG,EAAE,CAAA;EAAA,EAAA,OAAKyN,KAAK,CAAC,CAAC+Z,GAAG,CAAC,KAAK,CAAC,EAAE,GAAG9a,GAAG,CAAC,CAAC,CAACwM,IAAI,CAAC9P,OAAO,CAAC,CAAA;EAAA,CAAA;;;;;;;;;;;;;;ACJ7D0f,QAAAA,OAAO,GAAG,OAAuB;;ECoF9C;AACO,QAAMC,MAAM,GAAIA,MAAa,IAClCpb,mBAAM,CAACiE,GAAG,CAACC,SAAS,CAAC;EACnBC,EAAAA,GAAG,EAAE,SAAS;EACd/H,EAAAA,OAAO,EAAG,CAA8D,6DAAA,CAAA;EACxEiI,EAAAA,UAAU,EACR,qGAAqG;EACvG3B,EAAAA,KAAK,EAAE1C,mBAAM,CAAC2C,MAAM,CAACnC,KAAAA;EACvB,CAAC,EAAC;AACG,QAAM/B,KAAK,GAAI2c,MAAa,IACjCpb,mBAAM,CAACiE,GAAG,CAACC,SAAS,CAAC;EACnBC,EAAAA,GAAG,EAAE,SAAS;EACd/H,EAAAA,OAAO,EAAG,CAA6D,4DAAA,CAAA;EACvEiI,EAAAA,UAAU,EACR,qGAAqG;EACvG3B,EAAAA,KAAK,EAAE1C,mBAAM,CAAC2C,MAAM,CAACnC,KAAAA;EACvB,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;"}