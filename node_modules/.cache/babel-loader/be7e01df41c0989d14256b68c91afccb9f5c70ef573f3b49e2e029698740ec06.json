{"ast":null,"code":"import{INITIAL_ALLOWED_SLIPPAGE,DEFAULT_DEADLINE_FROM_NOW}from'../../constants';import{createReducer}from'@reduxjs/toolkit';import{updateVersion}from'../global/actions';import{addSerializedPair,addSerializedToken,removeSerializedPair,removeSerializedToken,updateMatchesDarkMode,updateUserDarkMode,updateUserExpertMode,updateUserSlippageTolerance,updateUserDeadline,toggleURLWarning,selectNetworkId,updateUserBetaMessage,starChain,starToken,addTokenToWallet,removeTokenToWallet,changeStarTab,updateInterfaceMode,updateInterfaceBalanceValid}from'./actions';const currentTimestamp=()=>new Date().getTime();function pairKey(token0Address,token1Address){return\"\".concat(token0Address,\";\").concat(token1Address);}export const initialState={userDarkMode:true,matchesDarkMode:false,userExpertMode:false,userSlippageTolerance:INITIAL_ALLOWED_SLIPPAGE,showBetaMessage:true,userInterfaceMode:false,userInterfaceBalanceValid:true,userDeadline:DEFAULT_DEADLINE_FROM_NOW,pairAddress:undefined,tokens:{},pairs:{},timestamp:currentTimestamp(),URLWarningVisible:true,selectNetworkId:{},starChain:{},starToken:{},addTokenToWallet:'',changeStarTab:{}};export default createReducer(initialState,builder=>builder.addCase(addTokenToWallet,(state,_ref)=>{let{payload:{chainId,tokenInfo}}=_ref;state.addTokenToWallet={chainId,...tokenInfo};}).addCase(changeStarTab,(state,_ref2)=>{let{payload:{type,index}}=_ref2;if(!state.changeStarTab)state.changeStarTab={};state.changeStarTab[type]=index;}).addCase(removeTokenToWallet,(state,_ref3)=>{let{payload:{}}=_ref3;state.addTokenToWallet='';}).addCase(starToken,(state,_ref4)=>{var _state$starToken;let{payload:{chainId,token}}=_ref4;chainId=chainId?chainId:'all';if(!state.starToken)state.starToken={};if(!state.starToken[chainId])state.starToken[chainId]={};if(state===null||state===void 0?void 0:(_state$starToken=state.starToken)===null||_state$starToken===void 0?void 0:_state$starToken[chainId]){var _state$starToken2,_state$starToken2$cha;if(state===null||state===void 0?void 0:(_state$starToken2=state.starToken)===null||_state$starToken2===void 0?void 0:(_state$starToken2$cha=_state$starToken2[chainId])===null||_state$starToken2$cha===void 0?void 0:_state$starToken2$cha[token]){delete state.starToken[chainId][token];}else{state.starToken[chainId]={...(state.starToken[chainId]?state.starToken[chainId]:{}),[token]:{timestamp:Date.now()}};}}else{state.starToken={...((state===null||state===void 0?void 0:state.starToken)?state===null||state===void 0?void 0:state.starToken:{}),[chainId]:{...(state.starToken[chainId]?state.starToken[chainId]:{}),[token]:{timestamp:Date.now()}}};}}).addCase(starChain,(state,_ref5)=>{var _state$starChain;let{payload:{account,chainId}}=_ref5;account=account?account:'all';if(!state.starChain)state.starChain={};if(!state.starChain[account])state.starChain[account]={};if(state===null||state===void 0?void 0:(_state$starChain=state.starChain)===null||_state$starChain===void 0?void 0:_state$starChain[account]){var _state$starChain2,_state$starChain2$acc;if(state===null||state===void 0?void 0:(_state$starChain2=state.starChain)===null||_state$starChain2===void 0?void 0:(_state$starChain2$acc=_state$starChain2[account])===null||_state$starChain2$acc===void 0?void 0:_state$starChain2$acc[chainId]){delete state.starChain[account][chainId];}else{state.starChain[account]={...(state.starChain[account]?state.starChain[account]:{}),[chainId]:{timestamp:Date.now()}};}}else{state.starChain={...((state===null||state===void 0?void 0:state.starChain)?state===null||state===void 0?void 0:state.starChain:{}),[account]:{...(state.starChain[account]?state.starChain[account]:{}),[chainId]:{timestamp:Date.now()}}};}}).addCase(selectNetworkId,(state,_ref6)=>{let{payload:{chainId,label}}=_ref6;state.selectNetworkId={chainId,label};}).addCase(updateVersion,state=>{// slippage isnt being tracked in local storage, reset to default\n// noinspection SuspiciousTypeOfGuard\nif(typeof state.userSlippageTolerance!=='number'){state.userSlippageTolerance=INITIAL_ALLOWED_SLIPPAGE;}// deadline isnt being tracked in local storage, reset to default\n// noinspection SuspiciousTypeOfGuard\nif(typeof state.userDeadline!=='number'){state.userDeadline=DEFAULT_DEADLINE_FROM_NOW;}state.lastUpdateVersionTimestamp=currentTimestamp();}).addCase(updateUserDarkMode,(state,action)=>{state.userDarkMode=action.payload.userDarkMode;// console.log(action.payload)\nstate.timestamp=currentTimestamp();}).addCase(updateMatchesDarkMode,(state,action)=>{state.matchesDarkMode=action.payload.matchesDarkMode;state.timestamp=currentTimestamp();}).addCase(updateInterfaceMode,(state,action)=>{state.userInterfaceMode=action.payload.userInterfaceMode;state.timestamp=currentTimestamp();}).addCase(updateInterfaceBalanceValid,(state,action)=>{state.userInterfaceBalanceValid=action.payload.userInterfaceBalanceValid;state.timestamp=currentTimestamp();}).addCase(updateUserExpertMode,(state,action)=>{state.userExpertMode=action.payload.userExpertMode;state.timestamp=currentTimestamp();}).addCase(updateUserSlippageTolerance,(state,action)=>{state.userSlippageTolerance=action.payload.userSlippageTolerance;state.timestamp=currentTimestamp();}).addCase(updateUserBetaMessage,(state,action)=>{state.showBetaMessage=action.payload.showBetaMessage;}).addCase(updateUserDeadline,(state,action)=>{state.userDeadline=action.payload.userDeadline;state.timestamp=currentTimestamp();}).addCase(addSerializedToken,(state,_ref7)=>{let{payload:{serializedToken}}=_ref7;state.tokens[serializedToken.chainId]=state.tokens[serializedToken.chainId]||{};state.tokens[serializedToken.chainId][serializedToken.address]=serializedToken;state.timestamp=currentTimestamp();}).addCase(removeSerializedToken,(state,_ref8)=>{let{payload:{address,chainId}}=_ref8;state.tokens[chainId]=state.tokens[chainId]||{};delete state.tokens[chainId][address];state.timestamp=currentTimestamp();}).addCase(addSerializedPair,(state,_ref9)=>{let{payload:{serializedPair}}=_ref9;if(serializedPair.token0.chainId===serializedPair.token1.chainId&&serializedPair.token0.address!==serializedPair.token1.address){const chainId=serializedPair.token0.chainId;state.pairs[chainId]=state.pairs[chainId]||{};state.pairs[chainId][pairKey(serializedPair.token0.address,serializedPair.token1.address)]=serializedPair;}state.timestamp=currentTimestamp();}).addCase(removeSerializedPair,(state,_ref10)=>{let{payload:{chainId,tokenAAddress,tokenBAddress}}=_ref10;if(state.pairs[chainId]){// just delete both keys if either exists\ndelete state.pairs[chainId][pairKey(tokenAAddress,tokenBAddress)];delete state.pairs[chainId][pairKey(tokenBAddress,tokenAAddress)];}state.timestamp=currentTimestamp();}).addCase(toggleURLWarning,state=>{state.URLWarningVisible=!state.URLWarningVisible;}));","map":{"version":3,"names":["INITIAL_ALLOWED_SLIPPAGE","DEFAULT_DEADLINE_FROM_NOW","createReducer","updateVersion","addSerializedPair","addSerializedToken","removeSerializedPair","removeSerializedToken","updateMatchesDarkMode","updateUserDarkMode","updateUserExpertMode","updateUserSlippageTolerance","updateUserDeadline","toggleURLWarning","selectNetworkId","updateUserBetaMessage","starChain","starToken","addTokenToWallet","removeTokenToWallet","changeStarTab","updateInterfaceMode","updateInterfaceBalanceValid","currentTimestamp","Date","getTime","pairKey","token0Address","token1Address","concat","initialState","userDarkMode","matchesDarkMode","userExpertMode","userSlippageTolerance","showBetaMessage","userInterfaceMode","userInterfaceBalanceValid","userDeadline","pairAddress","undefined","tokens","pairs","timestamp","URLWarningVisible","builder","addCase","state","_ref","payload","chainId","tokenInfo","_ref2","type","index","_ref3","_ref4","_state$starToken","token","_state$starToken2","_state$starToken2$cha","now","_ref5","_state$starChain","account","_state$starChain2","_state$starChain2$acc","_ref6","label","lastUpdateVersionTimestamp","action","_ref7","serializedToken","address","_ref8","_ref9","serializedPair","token0","token1","_ref10","tokenAAddress","tokenBAddress"],"sources":["/workspace/Planq-Dapps/vesting-portal/src/state/user/reducer.ts"],"sourcesContent":["import { INITIAL_ALLOWED_SLIPPAGE, DEFAULT_DEADLINE_FROM_NOW } from '../../constants'\nimport { createReducer } from '@reduxjs/toolkit'\nimport { updateVersion } from '../global/actions'\nimport {\n  addSerializedPair,\n  addSerializedToken,\n  removeSerializedPair,\n  removeSerializedToken,\n  SerializedPair,\n  SerializedToken,\n  updateMatchesDarkMode,\n  updateUserDarkMode,\n  updateUserExpertMode,\n  updateUserSlippageTolerance,\n  updateUserDeadline,\n  toggleURLWarning,\n  selectNetworkId,\n  updateUserBetaMessage,\n  starChain,\n  starToken,\n  addTokenToWallet,\n  removeTokenToWallet,\n  changeStarTab,\n  updateInterfaceMode,\n  updateInterfaceBalanceValid\n} from './actions'\n\nconst currentTimestamp = () => new Date().getTime()\n\nexport interface UserState {\n  // the timestamp of the last updateVersion action\n  lastUpdateVersionTimestamp?: number\n\n  userDarkMode: boolean | null // the user's choice for dark mode or light mode\n  matchesDarkMode: boolean // whether the dark mode media query matches\n\n  userExpertMode: boolean\n  showBetaMessage: boolean\n  userInterfaceMode: boolean\n  userInterfaceBalanceValid: boolean\n\n  // user defined slippage tolerance in bips, used in all txns\n  userSlippageTolerance: number\n\n  // deadline set by user in minutes, used in all txns\n  userDeadline: number\n\n  pairAddress: any\n\n  tokens: {\n    [chainId: number]: {\n      [address: string]: SerializedToken\n    }\n  }\n\n  pairs: {\n    [chainId: number]: {\n      // keyed by token0Address:token1Address\n      [key: string]: SerializedPair\n    }\n  }\n\n  timestamp: number\n  URLWarningVisible: boolean\n  selectNetworkId: any\n  starChain: any\n  starToken: any\n  addTokenToWallet: any\n  changeStarTab: any\n}\n\nfunction pairKey(token0Address: string, token1Address: string) {\n  return `${token0Address};${token1Address}`\n}\n\nexport const initialState: UserState = {\n  userDarkMode: true,\n  matchesDarkMode: false,\n  userExpertMode: false,\n  userSlippageTolerance: INITIAL_ALLOWED_SLIPPAGE,\n  showBetaMessage: true,\n  userInterfaceMode: false,\n  userInterfaceBalanceValid: true,\n  userDeadline: DEFAULT_DEADLINE_FROM_NOW,\n  pairAddress: undefined,\n  tokens: {},\n  pairs: {},\n  timestamp: currentTimestamp(),\n  URLWarningVisible: true,\n  selectNetworkId: {},\n  starChain: {},\n  starToken: {},\n  addTokenToWallet: '',\n  changeStarTab: {},\n}\n\nexport default createReducer(initialState, builder =>\n  builder\n    .addCase(addTokenToWallet, (state, { payload: { chainId, tokenInfo} }) => {\n      state.addTokenToWallet = {\n        chainId,\n        ...tokenInfo\n      }\n    })\n    .addCase(changeStarTab, (state, { payload: {type, index} }) => {\n      if (!state.changeStarTab) state.changeStarTab = {}\n      state.changeStarTab[type] = index\n    })\n    .addCase(removeTokenToWallet, (state, { payload: {} }) => {\n      state.addTokenToWallet = ''\n    })\n    .addCase(starToken, (state, { payload: { chainId, token} }) => {\n      chainId = chainId ? chainId : 'all'\n      if (!state.starToken) state.starToken = {}\n      if (!state.starToken[chainId]) state.starToken[chainId] = {}\n      if (state?.starToken?.[chainId]) {\n        if (state?.starToken?.[chainId]?.[token]) {\n          delete state.starToken[chainId][token]\n        } else {\n          state.starToken[chainId] = {\n            ...(state.starToken[chainId] ? state.starToken[chainId] : {}),\n            [token]: {timestamp: Date.now()}\n          }\n        }\n      } else {\n        state.starToken = {\n          ...(state?.starToken ? state?.starToken : {}),\n          [chainId]: {\n            ...(state.starToken[chainId] ? state.starToken[chainId] : {}),\n            [token]: {timestamp: Date.now()}\n          }\n        }\n      }\n    })\n    .addCase(starChain, (state, { payload: { account, chainId} }) => {\n      account = account ? account : 'all'\n      if (!state.starChain) state.starChain = {}\n      if (!state.starChain[account]) state.starChain[account] = {}\n      if (state?.starChain?.[account]) {\n        if (state?.starChain?.[account]?.[chainId]) {\n          delete state.starChain[account][chainId]\n        } else {\n          state.starChain[account] = {\n            ...(state.starChain[account] ? state.starChain[account] : {}),\n            [chainId]: {timestamp: Date.now()}\n          }\n        }\n      } else {\n        state.starChain = {\n          ...(state?.starChain ? state?.starChain : {}),\n          [account]: {\n            ...(state.starChain[account] ? state.starChain[account] : {}),\n            [chainId]: {timestamp: Date.now()}\n          }\n        }\n      }\n    })\n    .addCase(selectNetworkId, (state, { payload: { chainId, label } }) => {\n      state.selectNetworkId = {\n        chainId, label\n      }\n    })\n    .addCase(updateVersion, state => {\n      // slippage isnt being tracked in local storage, reset to default\n      // noinspection SuspiciousTypeOfGuard\n      if (typeof state.userSlippageTolerance !== 'number') {\n        state.userSlippageTolerance = INITIAL_ALLOWED_SLIPPAGE\n      }\n\n      // deadline isnt being tracked in local storage, reset to default\n      // noinspection SuspiciousTypeOfGuard\n      if (typeof state.userDeadline !== 'number') {\n        state.userDeadline = DEFAULT_DEADLINE_FROM_NOW\n      }\n\n      state.lastUpdateVersionTimestamp = currentTimestamp()\n    })\n    .addCase(updateUserDarkMode, (state, action) => {\n      state.userDarkMode = action.payload.userDarkMode\n      // console.log(action.payload)\n      state.timestamp = currentTimestamp()\n    })\n    .addCase(updateMatchesDarkMode, (state, action) => {\n      state.matchesDarkMode = action.payload.matchesDarkMode\n      state.timestamp = currentTimestamp()\n    })\n    .addCase(updateInterfaceMode, (state, action) => {\n      state.userInterfaceMode = action.payload.userInterfaceMode\n      state.timestamp = currentTimestamp()\n    })\n    .addCase(updateInterfaceBalanceValid, (state, action) => {\n      state.userInterfaceBalanceValid = action.payload.userInterfaceBalanceValid\n      state.timestamp = currentTimestamp()\n    })\n    .addCase(updateUserExpertMode, (state, action) => {\n      state.userExpertMode = action.payload.userExpertMode\n      state.timestamp = currentTimestamp()\n    })\n    .addCase(updateUserSlippageTolerance, (state, action) => {\n      state.userSlippageTolerance = action.payload.userSlippageTolerance\n      state.timestamp = currentTimestamp()\n    })\n    .addCase(updateUserBetaMessage, (state, action) => {\n      state.showBetaMessage = action.payload.showBetaMessage\n    })\n    .addCase(updateUserDeadline, (state, action) => {\n      state.userDeadline = action.payload.userDeadline\n      state.timestamp = currentTimestamp()\n    })\n    .addCase(addSerializedToken, (state, { payload: { serializedToken } }) => {\n      state.tokens[serializedToken.chainId] = state.tokens[serializedToken.chainId] || {}\n      state.tokens[serializedToken.chainId][serializedToken.address] = serializedToken\n      state.timestamp = currentTimestamp()\n    })\n    .addCase(removeSerializedToken, (state, { payload: { address, chainId } }) => {\n      state.tokens[chainId] = state.tokens[chainId] || {}\n      delete state.tokens[chainId][address]\n      state.timestamp = currentTimestamp()\n    })\n    .addCase(addSerializedPair, (state, { payload: { serializedPair } }) => {\n      if (\n        serializedPair.token0.chainId === serializedPair.token1.chainId &&\n        serializedPair.token0.address !== serializedPair.token1.address\n      ) {\n        const chainId = serializedPair.token0.chainId\n        state.pairs[chainId] = state.pairs[chainId] || {}\n        state.pairs[chainId][pairKey(serializedPair.token0.address, serializedPair.token1.address)] = serializedPair\n      }\n      state.timestamp = currentTimestamp()\n    })\n    .addCase(removeSerializedPair, (state, { payload: { chainId, tokenAAddress, tokenBAddress } }) => {\n      if (state.pairs[chainId]) {\n        // just delete both keys if either exists\n        delete state.pairs[chainId][pairKey(tokenAAddress, tokenBAddress)]\n        delete state.pairs[chainId][pairKey(tokenBAddress, tokenAAddress)]\n      }\n      state.timestamp = currentTimestamp()\n    })\n    .addCase(toggleURLWarning, state => {\n      state.URLWarningVisible = !state.URLWarningVisible\n    })\n)\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}