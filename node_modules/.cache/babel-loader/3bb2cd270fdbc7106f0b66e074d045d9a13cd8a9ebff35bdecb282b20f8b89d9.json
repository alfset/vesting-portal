{"ast":null,"code":"import _taggedTemplateLiteral from \"/workspace/Planq-Dapps/vesting-portal/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";\nvar _templateObject,\n  _templateObject2,\n  _templateObject3,\n  _templateObject4,\n  _templateObject5,\n  _templateObject6,\n  _templateObject7,\n  _templateObject8,\n  _templateObject9,\n  _templateObject10,\n  _templateObject11,\n  _templateObject12,\n  _templateObject13,\n  _templateObject14,\n  _templateObject15,\n  _templateObject16,\n  _jsxFileName = \"/workspace/Planq-Dapps/vesting-portal/src/pages/Vest/index.tsx\";\nimport React, { useCallback, useEffect, useMemo, useRef, useState } from \"react\";\nimport styled from \"styled-components\";\nimport { useTranslation } from 'react-i18next';\nimport moment from 'moment';\nimport { useActiveWeb3React } from '../../hooks';\nimport { useVeMULTIContract, useVeMULTIRewardContract, useTokenContract\n// useMulticallContract\n} from '../../hooks/useContract';\nimport useInterval from '../../hooks/useInterval';\nimport { useUserSelectChainId } from '../../state/user/hooks';\nimport { BigAmount } from '../../utils/formatBignumber';\n// import { useApproveCallback, ApprovalState } from '../../hooks/useApproveCallback'\n\nimport TokenLogo from '../../components/TokenLogo';\nimport { ButtonLight } from '../../components/Button';\n// import Modal from \"../../components/Modal\";\nimport ModalContent from \"../../components/Modal/ModalContent\";\nimport QuestionHelper from '../../components/QuestionHelper';\nimport { BottomGrouping } from '../../components/swap/styleds';\nimport { ButtonPrimary } from '../../components/Button';\nimport { getLabelPrice } from '../../utils/tools/getPrice';\nimport AppBody from '../AppBody';\n\n// import GifIon from '../../assets/images/icon/GIF.svg'\n// import BulbIcon from '../../assets/images/icon/bulb.svg'\n\nimport { DBTables, DBThead, DBTh, DBTbody, DBTd, TokenTableCoinBox, TokenTableLogo, TokenNameBox, MyBalanceBox, TokenActionBtn, Flex\n// ChainCardList\n} from '../Dashboard/styleds';\nimport { veMULTI, MULTI_TOKEN, REWARD, REWARD_TOKEN } from './data';\nimport { useVeshare, useClaimVeshareRewardCallback, veSHARE } from './veshare';\nimport { useClaimRewardCallback, useWithdrawCallback } from './hooks';\nimport axios from \"axios\";\nimport { thousandBit } from '../../utils/tools/tools';\nimport config from '../../config';\nimport { selectNetwork } from '../../config/tools/methods';\n\n// import {VE_MULTI_REWARD_INTERFACE} from '../../constants/abis/veMULTIReward'\n\nconst VestContent = styled.div(_templateObject || (_templateObject = _taggedTemplateLiteral([\"\\n\", \";\\n  width: 100%;\\n  max-width: 1200px;\\n  padding: 30px;\\n\"])), _ref => {\n  let {\n    theme\n  } = _ref;\n  return theme.flexC;\n});\nconst CreateLock = styled(TokenActionBtn)(_templateObject2 || (_templateObject2 = _taggedTemplateLiteral([\"\\n  background:\", \";\\n  width: 120px;\\n  color:#fff;\\n  // margin-bottom:10px;\\n  // padding-left: 12px;\\n  // padding-right: 12px;\\n  padding: 20px var(--space-medium-400, 32px);\\n  font-size: 1rem;\\n  font-weight: bold;\\n  color: \", \";\\n  &.disabled {\\n    opacity: 0.2;\\n  }\\n  &:hover,\\n  &:focus,\\n  &:active {\\n    background: \", \";\\n    opacity: 0.99\\n  }\\n  \", \"\\n\"])), _ref2 => {\n  let {\n    theme\n  } = _ref2;\n  return theme.primary1;\n}, _ref3 => {\n  let {\n    theme\n  } = _ref3;\n  return theme.text5;\n}, _ref4 => {\n  let {\n    theme\n  } = _ref4;\n  return theme.primary1;\n}, _ref5 => {\n  let {\n    theme\n  } = _ref5;\n  return theme.mediaWidth.upToMedium(_templateObject3 || (_templateObject3 = _taggedTemplateLiteral([\"\\n    height: 28px;\\n    margin-bottom: 10px;\\n  \"])));\n});\nconst CreateLock1 = styled(ButtonLight)(_templateObject4 || (_templateObject4 = _taggedTemplateLiteral([\"\\n  width: auto;\\n  height: 38px;\\n  border-radius: 30px;\\n  background: \", \";\\n  margin: 0 5px 10px;\\n  padding: 20px var(--space-medium-400, 32px);\\n  font-size: 1rem;\\n  font-weight: bold;\\n  color: \", \";\\n  &.disabled {\\n    opacity: 0.2;\\n  }\\n  &:hover,\\n  &:focus,\\n  &:active {\\n    background: \", \";\\n    opacity: 0.99\\n  }\\n  \", \"\\n\"])), _ref6 => {\n  let {\n    theme\n  } = _ref6;\n  return theme.primary1;\n}, _ref7 => {\n  let {\n    theme\n  } = _ref7;\n  return theme.text5;\n}, _ref8 => {\n  let {\n    theme\n  } = _ref8;\n  return theme.primary1;\n}, _ref9 => {\n  let {\n    theme\n  } = _ref9;\n  return theme.mediaWidth.upToMedium(_templateObject5 || (_templateObject5 = _taggedTemplateLiteral([\"\\n    height: 28px;\\n    margin-bottom: 10px;\\n  \"])));\n});\nconst TokenActionBtn1 = styled(ButtonLight)(_templateObject6 || (_templateObject6 = _taggedTemplateLiteral([\"\\n  \", \";\\n  font-family: 'Manrope';\\n  min-width: auto!important;\\n  max-width: auto!important;\\n  width: auto;\\n  height: 38px;\\n  padding: 0 15px;\\n  word-break:break-all!important;\\n\\n  border-radius: 0.5625rem;\\n  background: \", \";\\n  margin-right: 0.125rem;\\n\\n  font-size: 0.75rem;\\n  font-weight: 500;\\n\\n  line-height: 1;\\n\\n  color: \", \";\\n  box-shadow: none;\\n  // padding: 0 8px;\\n  text-decoration: none;\\n  &:hover,\\n  &:focus,\\n  &:active {\\n    background: \", \";\\n  }\\n  &.disabled {\\n    opacity: 0.2;\\n  }\\n  \", \"\\n\"])), _ref10 => {\n  let {\n    theme\n  } = _ref10;\n  return theme.flexC;\n}, _ref11 => {\n  let {\n    theme\n  } = _ref11;\n  return theme.selectedBg;\n}, _ref12 => {\n  let {\n    theme\n  } = _ref12;\n  return theme.textColorBold;\n}, _ref13 => {\n  let {\n    theme\n  } = _ref13;\n  return theme.selectedBg;\n}, _ref14 => {\n  let {\n    theme\n  } = _ref14;\n  return theme.mediaWidth.upToMedium(_templateObject7 || (_templateObject7 = _taggedTemplateLiteral([\"\\n    height: 28px;\\n    margin-bottom: 10px;\\n  \"])));\n});\nconst TokenActionBtn2 = styled(TokenActionBtn)(_templateObject8 || (_templateObject8 = _taggedTemplateLiteral([\"\\n  min-width: auto!important;\\n  max-width: auto!important;\\n  width: auto;\\n  height: 38px;\\n  padding: 0 15px;\\n  &.disabled {\\n    opacity: 0.2;\\n  }\\n  \", \"\\n\"])), _ref15 => {\n  let {\n    theme\n  } = _ref15;\n  return theme.mediaWidth.upToMedium(_templateObject9 || (_templateObject9 = _taggedTemplateLiteral([\"\\n    height: 28px;\\n    margin-bottom: 10px;\\n  \"])));\n});\nconst RewardView = styled.div(_templateObject10 || (_templateObject10 = _taggedTemplateLiteral([\"\\n  width:100%;\\n  \", \";\\n  padding: 30px 0;\\n\"])), _ref16 => {\n  let {\n    theme\n  } = _ref16;\n  return theme.flexC;\n});\nconst RewardLoading = styled.div(_templateObject11 || (_templateObject11 = _taggedTemplateLiteral([\"\\n  \", \";\\n  width: 100%;\\n  padding: 50px 0;\\n  color: \", \";\\n\"])), _ref17 => {\n  let {\n    theme\n  } = _ref17;\n  return theme.flexC;\n}, _ref18 => {\n  let {\n    theme\n  } = _ref18;\n  return theme.textColorBold;\n});\nconst LogoBox = styled.div(_templateObject12 || (_templateObject12 = _taggedTemplateLiteral([\"\\n  \", \";\\n  width: 46px;\\n  height: 46px;\\n  object-fit: contain;\\n  box-shadow: 0 0.125rem 0.25rem 0 rgba(0, 0, 0, 0.04);\\n  border: solid 0.5px rgba(0, 0, 0, 0.1);\\n  border-radius:100%;\\n  margin: auto;\\n\\n  img{\\n    // height: 24px;\\n    // width: 24px;\\n    display:block;\\n  }\\n\"])), _ref19 => {\n  let {\n    theme\n  } = _ref19;\n  return theme.flexC;\n});\nconst DataViews = styled.div(_templateObject13 || (_templateObject13 = _taggedTemplateLiteral([\"\\n  width: 100%;\\n  \\n  .list {\\n    width: 100%;\\n    \", \";\\n    flex-wrap: wrap;\\n\\n    .item {\\n      width: 32%;\\n      padding: 10px 0;\\n\\n      .content {\\n        width: 100%;\\n        box-shadow: 0.4375rem 0.125rem 1.625rem 0 rgba(0, 0, 0, 0.06);\\n        background-color: \", \";\\n        border-radius: 10px;\\n        padding: 1rem 2.5rem;\\n        min-height: 20vh;\\n\\n        .title {\\n          font-size: 18px;\\n          color: \", \";\\n          margin: 0 0 15px;\\n          font-weight: bold;\\n          white-space: nowrap;\\n          text-align: center;\\n\\n          \", \"\\n        }\\n\\n        .value {\\n          font-size: 12px;\\n          color: \", \";\\n          margin-bottom: 0;\\n          font-weight: 400;\\n          text-align: center;\\n          white-space: nowrap;\\n        }\\n\\n        .loading {\\n          font-size: 14px;\\n          color: \", \";\\n          margin-bottom: 0;\\n          text-align: center;\\n        }\\n      }\\n    }\\n  }\\n\\n  \", \"\\n\"])), _ref20 => {\n  let {\n    theme\n  } = _ref20;\n  return theme.flexBC;\n}, _ref21 => {\n  let {\n    theme\n  } = _ref21;\n  return theme.contentBg;\n}, _ref22 => {\n  let {\n    theme\n  } = _ref22;\n  return theme.text4;\n}, _ref23 => {\n  let {\n    theme\n  } = _ref23;\n  return theme.mediaWidth.upToSmall(_templateObject14 || (_templateObject14 = _taggedTemplateLiteral([\"\\n            font-size: 10px;\\n          \"])));\n}, _ref24 => {\n  let {\n    theme\n  } = _ref24;\n  return theme.textColorBold;\n}, _ref25 => {\n  let {\n    theme\n  } = _ref25;\n  return theme.text1;\n}, _ref26 => {\n  let {\n    theme\n  } = _ref26;\n  return theme.mediaWidth.upToMedium(_templateObject15 || (_templateObject15 = _taggedTemplateLiteral([\"\\n    .list {\\n      .item {\\n        width: 48%;\\n\\n        .content {\\n          padding: 1rem 1rem;\\n\\n          .title {\\n            white-space: nowrap;\\n          }\\n        }\\n      }\\n    }\\n  \"])));\n});\nconst TokenTableLogoWrapper = styled(TokenTableLogo)(_templateObject16 || (_templateObject16 = _taggedTemplateLiteral([\"\\n  img {\\n    max-width: 100%;\\n    max-height: 100%;\\n  }\\n\"])));\nexport default function Vest() {\n  const {\n    t\n  } = useTranslation();\n  const {\n    account,\n    chainId\n  } = useActiveWeb3React();\n  const {\n    setUserSelectNetwork\n  } = useUserSelectChainId();\n  const {\n    getVeshareNFTs,\n    useVeshareRewardToken\n  } = useVeshare();\n  const [vestNFTs, setvestNFTs] = useState();\n  const [veshareNFTs, setVeshareNFTs] = useState();\n  const [modalOpen, setModalOpen] = useState(false);\n  const [claimRewardId, setClaimRewardId] = useState();\n  const [loadingStatus, setLoadingStatus] = useState(0);\n  const [veMultiTotalSupply, setVeMultiTotalSupply] = useState();\n  const [LockedMULTI, setLockedMULTI] = useState();\n  const [circulatingsupply, setCirculatingsupply] = useState();\n  const [curEpochInfo, setCurEpochInfo] = useState();\n  const [totalPower, setTotalPower] = useState();\n  const [epochId, setEpochId] = useState();\n  const [rewardList, setRewardList] = useState();\n  const [latestEpochInfo, setlatestEpochInfo] = useState();\n  const [price, setPrice] = useState(12);\n  const [nftLogoModel, setNftLogoModel] = useState(false);\n  const [nftLogo, setNftLogo] = useState();\n  const [totalAPR, setTotalAPR] = useState();\n  const [disabled, setDisabled] = useState(false);\n  // const viewDatas = useRef<any>({})\n\n  const supportChainList = useMemo(() => {\n    const arr = [];\n    for (const c in veSHARE) {\n      if (arr.includes(c)) continue;\n      arr.push(c);\n    }\n    for (const c in veMULTI) {\n      if (arr.includes(c)) continue;\n      arr.push(c);\n    }\n    return arr;\n  }, [veSHARE, veMULTI]);\n  //console.log(supportChainList)\n\n  const useVeMultiToken = useMemo(() => {\n    // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n    // @ts-ignore\n    if (chainId && veMULTI[chainId]) return veMULTI[chainId];\n    return undefined;\n  }, [chainId]);\n  const useVeMultiRewardToken = useMemo(() => {\n    // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n    // @ts-ignore\n    if (chainId && REWARD[chainId]) return REWARD[chainId];\n    return undefined;\n  }, [chainId]);\n  const useRewardToken = useMemo(() => {\n    // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n    // @ts-ignore\n    if (chainId && REWARD_TOKEN[chainId]) return REWARD_TOKEN[chainId];\n    return undefined;\n  }, [chainId]);\n  const useLockToken = useMemo(() => {\n    // console.log(MULTI_TOKEN)\n    // console.log(chainId)\n    // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n    // @ts-ignore\n    if (chainId && MULTI_TOKEN[chainId]) {\n      // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n      // @ts-ignore\n      return MULTI_TOKEN[chainId];\n    }\n    return undefined;\n  }, [chainId]);\n  // console.log(useLockToken)\n\n  const rewardInfo = useMemo(() => {\n    if ((claimRewardId === null || claimRewardId === void 0 ? void 0 : claimRewardId.id) && rewardList && rewardList[claimRewardId === null || claimRewardId === void 0 ? void 0 : claimRewardId.id]) {\n      setLoadingStatus(1);\n      return {\n        ...rewardList[claimRewardId === null || claimRewardId === void 0 ? void 0 : claimRewardId.id],\n        id: claimRewardId === null || claimRewardId === void 0 ? void 0 : claimRewardId.id\n      };\n    }\n    setLoadingStatus(0);\n    return undefined;\n  }, [claimRewardId, rewardList]);\n\n  // const isSupport = useMemo(() => {\n  //   if (!useLockToken) {\n  //     return false\n  //   }\n  //   return true\n  // }, [useLockToken])\n\n  const nftList = useMemo(() => {\n    const arr = [];\n    if (vestNFTs) {\n      arr.push(...vestNFTs);\n    }\n    if (veshareNFTs) {\n      arr.push(...veshareNFTs);\n    }\n    return arr;\n  }, [veshareNFTs, vestNFTs]);\n  const contract = useVeMULTIContract(useVeMultiToken === null || useVeMultiToken === void 0 ? void 0 : useVeMultiToken.address);\n  const rewardContract = useVeMULTIRewardContract(useVeMultiRewardToken === null || useVeMultiRewardToken === void 0 ? void 0 : useVeMultiRewardToken.address);\n  const ercContract = useTokenContract(useLockToken === null || useLockToken === void 0 ? void 0 : useLockToken.address);\n  // const multicallContract = useMulticallContract()\n\n  const {\n    execute: onWrap\n  } = useClaimRewardCallback(useVeMultiRewardToken === null || useVeMultiRewardToken === void 0 ? void 0 : useVeMultiRewardToken.address, rewardInfo === null || rewardInfo === void 0 ? void 0 : rewardInfo.id, rewardInfo === null || rewardInfo === void 0 ? void 0 : rewardInfo.list);\n  const {\n    execute: onVeshareWrap\n  } = useClaimVeshareRewardCallback(claimRewardId);\n  const {\n    execute: onWithdrarWrap\n  } = useWithdrawCallback(useVeMultiToken === null || useVeMultiToken === void 0 ? void 0 : useVeMultiToken.address);\n  const rewardEpochIdList = useRef({});\n  // const [approval, approveCallback] = useApproveCallback(formatInputBridgeValue ?? undefined, useVeMultiToken)\n  const getPendingReward = useCallback(async nfts => {\n    if (rewardContract && (nfts === null || nfts === void 0 ? void 0 : nfts.id) && epochId) {\n      var _totalReward;\n      // console.log(nfts.id)\n      const arr = [];\n      let totalReward = '';\n      const limit = 30;\n      // const limit = 10\n      const len = Number(epochId) + 1;\n      const initStart = (rewardEpochIdList === null || rewardEpochIdList === void 0 ? void 0 : rewardEpochIdList.current) && (rewardEpochIdList === null || rewardEpochIdList === void 0 ? void 0 : rewardEpochIdList.current[nfts === null || nfts === void 0 ? void 0 : nfts.id]) ? rewardEpochIdList.current[nfts === null || nfts === void 0 ? void 0 : nfts.id] : 0;\n      for (let i = initStart; i < len; i += limit) {\n        const nextIndex = i + limit > len ? len : i + limit;\n        // console.log(nfts.id, i, nextIndex - 1)\n        try {\n          let data = await rewardContract.pendingReward(nfts.id, i, nextIndex - 1);\n          data = data && data[0] ? data[0] : '';\n          if (!data) continue;\n          if (!totalReward && data.reward) {\n            // console.log(1)\n            totalReward = data.reward;\n          } else if (data.reward) {\n            // console.log(2)\n            totalReward = totalReward.add(data.reward);\n          }\n          arr.push({\n            startEpoch: data.startEpoch.toString(),\n            endEpoch: data.endEpoch.toString(),\n            reward: data.reward.toString()\n          });\n        } catch (error) {\n          // console.log(i)\n          if (!rewardEpochIdList.current[nfts === null || nfts === void 0 ? void 0 : nfts.id]) rewardEpochIdList.current[nfts === null || nfts === void 0 ? void 0 : nfts.id] = nextIndex;else rewardEpochIdList.current[nfts === null || nfts === void 0 ? void 0 : nfts.id] = nextIndex;\n        }\n      }\n      const arr1 = [];\n      for (const item of arr) {\n        if (arr1.length === 0) {\n          arr1.push({\n            startEpoch: item.startEpoch,\n            endEpoch: item.endEpoch\n          });\n        } else {\n          const len = arr1.length - 1;\n          const obj = arr1[len];\n          if (Number(obj.endEpoch) === Number(item.startEpoch) - 1) {\n            if (Number(item.endEpoch) - Number(arr1[len].startEpoch) <= limit) {\n              arr1[len].endEpoch = item.endEpoch;\n            } else if (Number(item.endEpoch) - Number(arr1[len].startEpoch) > limit) {\n              const a1s = Number(arr1[len].startEpoch);\n              arr1[len].endEpoch = a1s + limit - 1 + '';\n              arr1.push({\n                startEpoch: a1s + limit + '',\n                endEpoch: item.endEpoch\n              });\n            } else {\n              arr1.push({\n                startEpoch: item.startEpoch,\n                endEpoch: item.endEpoch\n              });\n            }\n          } else {\n            arr1.push({\n              startEpoch: item.startEpoch,\n              endEpoch: item.endEpoch\n            });\n          }\n        }\n      }\n      return {\n        list: arr1,\n        totalReward: (_totalReward = totalReward) === null || _totalReward === void 0 ? void 0 : _totalReward.toString()\n      };\n    }\n    return undefined;\n  }, [rewardContract, epochId]);\n  const getAllRewards = useCallback(async () => {\n    if (epochId && vestNFTs && vestNFTs.length > 0) {\n      const list = {};\n      for (const obj of vestNFTs) {\n        const data = await getPendingReward(obj);\n        if (data) {\n          list[obj.id] = data;\n        }\n      }\n      console.log(list);\n      setRewardList(list);\n    }\n  }, [epochId, vestNFTs]);\n  useEffect(() => {\n    getAllRewards();\n  }, [epochId, vestNFTs]);\n  const getVestNFTs = useCallback(async () => {\n    // console.log(useVeMultiToken)\n    if (contract && account && useLockToken) {\n      // console.log(contract)\n      // console.log(account)\n      const nftsLength = await contract.balanceOf(account);\n      const totalSupply = await contract.totalSupply();\n      // viewDatas.current['veMultiTotalSupply'] = totalSupply?.toString()\n      // setViewDatas({\n      //   ...viewDatas,\n      //   veMultiTotalSupply: totalSupply?.toString()\n      // })\n      setVeMultiTotalSupply(totalSupply === null || totalSupply === void 0 ? void 0 : totalSupply.toString());\n      // console.log('totalSupply',totalSupply.toString())\n      const arr = Array.from({\n        length: parseInt(nftsLength)\n      }, (v, i) => i);\n      // console.log(nftsLength)\n      // console.log(arr)\n      try {\n        const nfts = await Promise.all(arr.map(async idx => {\n          const tokenIndex = await contract.tokenOfOwnerByIndex(account, idx);\n          const locked = await contract.locked(tokenIndex);\n          const lockValue = await contract.balanceOfNFT(tokenIndex);\n          const tokenURI = await contract.tokenURI(tokenIndex);\n          const {\n            data\n          } = await axios.get(tokenURI);\n          // console.log(tokenURI)\n          // console.log(data)\n          // probably do some decimals math before returning info. Maybe get more info. I don't know what it returns.\n          return {\n            ...data,\n            index: idx,\n            id: tokenIndex === null || tokenIndex === void 0 ? void 0 : tokenIndex.toString(),\n            lockEnds: locked.end.toNumber(),\n            lockAmount: BigAmount.format(useLockToken.decimals, locked.amount).toExact(),\n            lockValue: BigAmount.format(useVeMultiToken.decimals, lockValue).toExact(),\n            type: 'VEDELTA'\n          };\n        }));\n        console.log(nfts);\n        setvestNFTs(nfts);\n      } catch (error) {\n        console.log(error);\n      }\n    }\n    getVeshareNFTs().then(res => {\n      // console.log(res)\n      setVeshareNFTs(res);\n    });\n  }, [contract, account, useLockToken]);\n  const getAllNft = useCallback(() => {\n    getVestNFTs();\n    getVeshareNFTs().then(res => {\n      // console.log(res)\n      setVeshareNFTs(res);\n    });\n  }, [getVeshareNFTs, getVestNFTs]);\n  useEffect(() => {\n    getAllNft();\n  }, [contract, account, useLockToken]);\n  useInterval(getAllNft, 1000 * 10);\n  const getCurrentEpochId = useCallback(() => {\n    console.log(rewardContract);\n    if (rewardContract) {\n      rewardContract.getCurrentEpochId().then(res => {\n        console.log(res.toString());\n        setEpochId(res.toString());\n      }).catch(err => {\n        console.log(err);\n        setEpochId('0');\n      });\n    }\n  }, [rewardContract]);\n  useEffect(() => {\n    getCurrentEpochId();\n  }, [rewardContract]);\n  useInterval(getCurrentEpochId, 1000 * 10);\n  const getCirc = useCallback(() => {\n    axios.get(\"https://evm.planq.network/api?module=stats&action=tokensupply&contractaddress=0x6aF48997671584672e084Bf2296473677598ee58\").then(res => {\n      console.log(res);\n      if (res.data) {\n        setCirculatingsupply(res.data);\n      }\n    });\n  }, []);\n  useEffect(() => {\n    getCirc();\n  }, []);\n  useEffect(() => {\n    if (useLockToken === null || useLockToken === void 0 ? void 0 : useLockToken.label) {\n      getLabelPrice(useLockToken === null || useLockToken === void 0 ? void 0 : useLockToken.label).then(res => {\n        // console.log(useLockToken)\n        // console.log(res)\n        if (res) {\n          setPrice(res);\n        }\n      });\n    }\n  }, [useLockToken]);\n  const DataList = useMemo(() => {\n    const list = [];\n    if (veMultiTotalSupply && useVeMultiToken) {\n      list.push({\n        name: 'veDELTA Supply',\n        value: thousandBit(BigAmount.format(useVeMultiToken.decimals, veMultiTotalSupply).toExact(), 2),\n        loading: false\n      });\n    } else {\n      list.push({\n        name: 'veDELTA Supply',\n        value: '',\n        loading: true\n      });\n    }\n    if (LockedMULTI && useLockToken) {\n      // console.log(BigAmount.format(0,'10').toExact())\n      const value = BigAmount.format(useLockToken.decimals, LockedMULTI).toExact();\n      list.push({\n        name: 'Locked DELTA',\n        value: thousandBit(value, 2),\n        // value: value.toString().replace(/(\\d)(?=(\\d{3})+\\.)/g, '$1,').toLocaleString(),\n        loading: false\n      });\n    } else {\n      list.push({\n        name: 'Locked DELTA',\n        value: '',\n        loading: true\n      });\n    }\n    if (LockedMULTI && circulatingsupply && useLockToken) {\n      const value = Number(BigAmount.format(useLockToken.decimals, LockedMULTI).toExact()) / circulatingsupply;\n      list.push({\n        name: '% Circ. DELTA Locked',\n        value: thousandBit(value * 100, 2) + '%',\n        loading: false\n      });\n    } else {\n      list.push({\n        name: '% Circ. DELTA Locked',\n        value: '',\n        loading: true\n      });\n    }\n    if (veMultiTotalSupply && LockedMULTI && useVeMultiToken && useLockToken) {\n      // if (totalPower && LockedMULTI) {\n      // const tp = BigAmount.format(useVeMultiToken.decimals, totalPower)\n      // const lm = BigAmount.format(useLockToken.decimals, LockedMULTI)\n      // const fourYear:any = 60*60*24*1460\n      // const oneYear = BigAmount.format(0, (60*60*24*365) + '')\n      // const value = tp.divide(lm).multiply(BigAmount.format(1, fourYear)).divide(oneYear)\n      const vms = BigAmount.format(useVeMultiToken.decimals, veMultiTotalSupply);\n      const lm = BigAmount.format(useLockToken.decimals, LockedMULTI);\n      const fourYear = BigAmount.format(0, 60 * 60 * 24 * 1460 + '');\n      const oneYear = BigAmount.format(0, 60 * 60 * 24 * 365 + '');\n      const value = vms.divide(lm).multiply(fourYear).divide(oneYear);\n      list.push({\n        name: 'Avg. Lock Time (years)',\n        value: value.toSignificant(2),\n        loading: false\n      });\n    } else {\n      list.push({\n        name: 'Avg. Lock Time (years)',\n        value: '',\n        loading: true\n      });\n    }\n    if (curEpochInfo && useRewardToken) {\n      // const oneYear = BigAmount.format(1, (60*60*24*365) + '')\n      // console.log(curEpochInfo)\n      const time = Number(curEpochInfo.endTime) - Number(curEpochInfo.startTime);\n      const weektime = 60 * 60 * 24 * 7;\n      const per = weektime / time;\n      const value = BigAmount.format(useRewardToken.decimals, curEpochInfo.totalReward).toExact();\n      // console.log(time)\n      // console.log(per)\n      list.push({\n        name: 'Est. Yield Per Week',\n        value: thousandBit(Number(value) * per, 2) + ' ' + useRewardToken.symbol,\n        loading: false\n      });\n    } else {\n      list.push({\n        name: 'Est. Yield Per Week',\n        value: '',\n        loading: true\n      });\n    }\n    if ((latestEpochInfo || curEpochInfo) && totalPower && price && useRewardToken && useVeMultiToken) {\n      const usrEpochInfo = latestEpochInfo && (latestEpochInfo === null || latestEpochInfo === void 0 ? void 0 : latestEpochInfo.totalReward) !== '0' ? latestEpochInfo : curEpochInfo;\n      const tr = BigAmount.format(useRewardToken.decimals, (usrEpochInfo === null || usrEpochInfo === void 0 ? void 0 : usrEpochInfo.totalReward) ? usrEpochInfo === null || usrEpochInfo === void 0 ? void 0 : usrEpochInfo.totalReward : '0');\n      const tp = BigAmount.format(useVeMultiToken.decimals, totalPower);\n      const tokenPrice = BigAmount.format(0, parseInt(price) + '');\n      const oneYear = BigAmount.format(0, 60 * 60 * 24 * 365 + '');\n      const time = BigAmount.format(0, (usrEpochInfo === null || usrEpochInfo === void 0 ? void 0 : usrEpochInfo.endTime) ? Number(usrEpochInfo.endTime) - Number(usrEpochInfo.startTime) + '' : '0');\n      const per = BigAmount.format(0, '100');\n      // console.log(latestEpochInfo)\n      // console.log(curEpochInfo)\n      // console.log(tr.toExact())\n      // console.log(tp.toExact())\n      if (tr.greaterThan('0') && tokenPrice.greaterThan('0') && time.greaterThan('0') && tp.greaterThan('0')) {\n        const apr = tr.divide(tokenPrice).multiply(oneYear).divide(time).divide(tp).multiply(per);\n        list.push({\n          name: 'APR',\n          value: apr.toSignificant(2) + '%',\n          loading: false,\n          question: 'Assumes 1 veDELTA = 1 DELTA (1 DELTA locked 4 years)'\n        });\n        setTotalAPR(apr.toSignificant(2) + '%');\n      } else {\n        list.push({\n          name: 'APR',\n          value: '- %',\n          loading: false,\n          question: 'Assumes 1 veDELTA = 1 DELTA (1 DELTA locked 4 years)'\n        });\n      }\n    } else {\n      list.push({\n        name: 'APR',\n        value: '',\n        loading: true,\n        question: 'Assumes veDELTA = 1 DELTA (1 DELTA locked 4 years)'\n      });\n    }\n    // console.log(list)\n    return list;\n  }, [totalPower, curEpochInfo, circulatingsupply, LockedMULTI, veMultiTotalSupply, latestEpochInfo, price, useVeMultiToken, useLockToken]);\n  const getMultiInfo = useCallback(() => {\n    if (ercContract) {\n      if (useVeMultiToken === null || useVeMultiToken === void 0 ? void 0 : useVeMultiToken.address) {\n        ercContract.balanceOf(useVeMultiToken === null || useVeMultiToken === void 0 ? void 0 : useVeMultiToken.address).then(res => {\n          setLockedMULTI(res === null || res === void 0 ? void 0 : res.toString());\n        });\n      }\n    }\n  }, [ercContract, useVeMultiToken]);\n  useEffect(() => {\n    getMultiInfo();\n  }, [ercContract]);\n  useInterval(getMultiInfo, 1000 * 10);\n  const getEpochInfo = useCallback(async () => {\n    console.log(epochId);\n    if (rewardContract && epochId) {\n      // const EpochId = await rewardContract.getCurrentEpochId()\n      rewardContract.getEpochInfo(epochId).then(res => {\n        // console.log(res)\n        const data = {\n          startTime: res[0].toString(),\n          endTime: res[1].toString(),\n          totalReward: res[2].toString()\n        };\n        setCurEpochInfo(data);\n        setlatestEpochInfo(data);\n      }).catch(err => {\n        console.log(err);\n        setCurEpochInfo('');\n      });\n      // rewardContract.getEpochInfo(Number(epochId) === 0 ? 0 : Number(epochId) + 1).then((res:any) => {\n      //   // console.log(res)\n      //   setlatestEpochInfo({\n      //     startTime: res[0].toString(),\n      //     endTime: res[1].toString(),\n      //     totalReward: res[2].toString(),\n      //   })\n      // }).catch((err:any) => {\n      //   console.log(err)\n      // })\n      rewardContract.getEpochTotalPower(epochId).then(res => {\n        // console.log(res)\n        setTotalPower(res.toString());\n      }).catch(err => {\n        console.log(err);\n        setTotalPower('');\n      });\n    }\n  }, [rewardContract, epochId]);\n  useEffect(() => {\n    getEpochInfo();\n  }, [rewardContract, epochId]);\n  useInterval(getEpochInfo, 1000 * 10);\n  function getUserAPR(UserPower, UserMulti) {\n    // const usrEpochInfo = latestEpochInfo ? latestEpochInfo : curEpochInfo\n    const usrEpochInfo = latestEpochInfo && (latestEpochInfo === null || latestEpochInfo === void 0 ? void 0 : latestEpochInfo.totalReward) !== '0' ? latestEpochInfo : curEpochInfo;\n    const tr = (usrEpochInfo === null || usrEpochInfo === void 0 ? void 0 : usrEpochInfo.totalReward) && useRewardToken.decimals ? BigAmount.format(useRewardToken.decimals, usrEpochInfo.totalReward).toExact() : '';\n    const time = usrEpochInfo ? Number(usrEpochInfo.endTime) - Number(usrEpochInfo.startTime) : '';\n    const tokenPrice = price ? Number(price) : '';\n    const tp = totalPower && useVeMultiToken.decimals ? BigAmount.format(useVeMultiToken.decimals, totalPower).toExact() : '';\n    const oneYear = 60 * 60 * 24 * 365;\n    if (tr && tokenPrice && tp && Number(tp) > 0 && UserPower && UserMulti && time) {\n      const apr = Number(tr) / tokenPrice * Number(UserPower) / Number(tp) * oneYear / time / Number(UserMulti) * 100;\n      // console.log(apr)\n      return thousandBit(apr, 2) + '%';\n    }\n    return '-';\n  }\n  function ClaimView(stutus) {\n    if ((claimRewardId === null || claimRewardId === void 0 ? void 0 : claimRewardId.type) === 'VESHARE') {\n      const totalReward = (claimRewardId === null || claimRewardId === void 0 ? void 0 : claimRewardId.reward) && useVeshareRewardToken ? thousandBit(claimRewardId === null || claimRewardId === void 0 ? void 0 : claimRewardId.reward, 2) : '';\n      console.log(totalReward);\n      if (!totalReward || !Number(totalReward)) {\n        return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(RewardLoading, {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 836,\n            columnNumber: 13\n          }\n        }, t('No reward.')));\n      }\n      return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(LogoBox, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 842,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(TokenLogo, {\n        symbol: useVeshareRewardToken === null || useVeshareRewardToken === void 0 ? void 0 : useVeshareRewardToken.symbol,\n        size: '3rem',\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 843,\n          columnNumber: 13\n        }\n      })), /*#__PURE__*/React.createElement(RewardView, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 845,\n          columnNumber: 11\n        }\n      }, totalReward, \" \", useVeshareRewardToken === null || useVeshareRewardToken === void 0 ? void 0 : useVeshareRewardToken.symbol), /*#__PURE__*/React.createElement(BottomGrouping, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 846,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(ButtonPrimary, {\n        disabled: disabled,\n        onClick: () => {\n          if (onVeshareWrap) {\n            setDisabled(true);\n            onVeshareWrap().then(() => {\n              setDisabled(false);\n              setModalOpen(false);\n            });\n          }\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 847,\n          columnNumber: 13\n        }\n      }, t('Claim Reward'))));\n    }\n    if (stutus === 0) {\n      return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(RewardLoading, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 865,\n          columnNumber: 11\n        }\n      }, t('Reward query in progress...')));\n    } else if (stutus === 2) {\n      return /*#__PURE__*/React.createElement(React.Fragment, null, \"Error\");\n    } else {\n      const totalReward = (rewardInfo === null || rewardInfo === void 0 ? void 0 : rewardInfo.totalReward) && useRewardToken ? BigAmount.format(useRewardToken === null || useRewardToken === void 0 ? void 0 : useRewardToken.decimals, rewardInfo === null || rewardInfo === void 0 ? void 0 : rewardInfo.totalReward).toSignificant(6) : '';\n      if ((latestEpochInfo === null || latestEpochInfo === void 0 ? void 0 : latestEpochInfo.startTime) && !totalReward) {\n        const time = Number(latestEpochInfo === null || latestEpochInfo === void 0 ? void 0 : latestEpochInfo.startTime) - parseInt(Date.now() / 1000 + '');\n        let timeView = '';\n        if (time < 60 && time > 0) {\n          timeView = time + 's';\n        } else if (time >= 60 && time < 60 * 60) {\n          timeView = (time / 60).toFixed(2) + 'min';\n        } else if (time >= 60 * 60 && time < 60 * 60 * 24) {\n          timeView = (time / (60 * 60)).toFixed(2) + 'h';\n        } else if (time >= 60 * 60 * 24) {\n          timeView = (time / (60 * 60 * 24)).toFixed(2) + 'D';\n        }\n        if (!timeView) {\n          return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(RewardLoading, {\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 889,\n              columnNumber: 15\n            }\n          }, t('No reward.')));\n        }\n        return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(RewardLoading, {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 895,\n            columnNumber: 13\n          }\n        }, \"Remaining time for next collection:\", timeView));\n      } else if (!totalReward) {\n        return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(RewardLoading, {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 901,\n            columnNumber: 13\n          }\n        }, t('No reward.')));\n      }\n      return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(LogoBox, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 907,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(TokenLogo, {\n        symbol: useRewardToken === null || useRewardToken === void 0 ? void 0 : useRewardToken.symbol,\n        size: '3rem',\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 908,\n          columnNumber: 11\n        }\n      })), /*#__PURE__*/React.createElement(RewardView, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 910,\n          columnNumber: 11\n        }\n      }, totalReward, \" \", useRewardToken === null || useRewardToken === void 0 ? void 0 : useRewardToken.symbol), /*#__PURE__*/React.createElement(BottomGrouping, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 911,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(ButtonPrimary, {\n        disabled: disabled,\n        onClick: () => {\n          if (onWrap) {\n            setDisabled(true);\n            onWrap().then(() => {\n              setDisabled(false);\n              setModalOpen(false);\n            });\n          }\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 912,\n          columnNumber: 13\n        }\n      }, t('Claim Reward'))));\n    }\n  }\n  return /*#__PURE__*/React.createElement(AppBody, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 929,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(ModalContent, {\n    isOpen: modalOpen,\n    onDismiss: () => {\n      setClaimRewardId('');\n      setModalOpen(false);\n    },\n    title: t('Claim Reward'),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 935,\n      columnNumber: 7\n    }\n  }, ClaimView(loadingStatus)), /*#__PURE__*/React.createElement(ModalContent, {\n    isOpen: nftLogoModel,\n    onDismiss: () => {\n      setNftLogo('');\n      setNftLogoModel(false);\n    },\n    title: t('NFT'),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 947,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: nftLogo,\n    style: {\n      width: '100%'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 955,\n      columnNumber: 9\n    }\n  })), /*#__PURE__*/React.createElement(DataViews, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 958,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"list\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 959,\n      columnNumber: 9\n    }\n  }, DataList.map((item, index) => {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"item\",\n      key: index,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 963,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"content\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 964,\n        columnNumber: 20\n      }\n    }, /*#__PURE__*/React.createElement(\"h3\", {\n      className: \"title\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 965,\n        columnNumber: 21\n      }\n    }, item.name, item.question ? /*#__PURE__*/React.createElement(QuestionHelper, {\n      text: item.question,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 965,\n        columnNumber: 71\n      }\n    }) : ''), item.loading ? /*#__PURE__*/React.createElement(\"p\", {\n      className: \"loading\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 968,\n        columnNumber: 25\n      }\n    }, \"Loading..\") : /*#__PURE__*/React.createElement(\"p\", {\n      className: \"value\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 970,\n        columnNumber: 25\n      }\n    }, item.value)));\n  }))), /*#__PURE__*/React.createElement(VestContent, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 980,\n      columnNumber: 7\n    }\n  },\n  // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n  // @ts-ignore\n  !chainId || !supportChainList.includes(chainId.toString()) ? /*#__PURE__*/React.createElement(React.Fragment, null, supportChainList.slice(0, 1).map((item, index) => {\n    return /*#__PURE__*/React.createElement(CreateLock1, {\n      key: index,\n      onClick: () => {\n        if (setUserSelectNetwork) {\n          var _config$getCurChainIn;\n          setUserSelectNetwork({\n            chainId: config.getCurChainInfo(item).chainID,\n            label: (_config$getCurChainIn = config.getCurChainInfo(item)) === null || _config$getCurChainIn === void 0 ? void 0 : _config$getCurChainIn.chainType\n          });\n        }\n        selectNetwork(item).then(res => {\n          console.log(res);\n          if (res.msg === 'Error') {\n            alert(t('changeMetamaskNetwork', {\n              label: config.getCurChainInfo(item).networkName\n            }));\n          }\n        });\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 988,\n        columnNumber: 26\n      }\n    }, t('ConnectedWith') + ' ' + config.getCurChainInfo(item).name);\n  })) : /*#__PURE__*/React.createElement(CreateLock, {\n    to: '/vest/create',\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1006,\n      columnNumber: 13\n    }\n  }, t('Create Lock'))), /*#__PURE__*/React.createElement(MyBalanceBox, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1012,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(DBTables, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1013,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(DBThead, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1014,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"tr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1015,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(DBTh, {\n    className: \"l\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1016,\n      columnNumber: 15\n    }\n  }, t('NFT ID')), /*#__PURE__*/React.createElement(DBTh, {\n    className: \"l\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1017,\n      columnNumber: 15\n    }\n  }, t('Vest Amount')), /*#__PURE__*/React.createElement(DBTh, {\n    className: \"l\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1018,\n      columnNumber: 15\n    }\n  }, t('Vest Value')), /*#__PURE__*/React.createElement(DBTh, {\n    className: \"c\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1019,\n      columnNumber: 15\n    }\n  }, t('Vest Expires')), /*#__PURE__*/React.createElement(DBTh, {\n    className: \"c\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1020,\n      columnNumber: 15\n    }\n  }, t('APR')), /*#__PURE__*/React.createElement(DBTh, {\n    className: \"c\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1021,\n      columnNumber: 15\n    }\n  }, t('Action')))), /*#__PURE__*/React.createElement(DBTbody, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1024,\n      columnNumber: 11\n    }\n  },\n  // vestNFTs && vestNFTs.map((item:any, index:any) => {\n  nftList.length > 0 ? nftList.map((item, index) => {\n    return /*#__PURE__*/React.createElement(\"tr\", {\n      key: index,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1029,\n        columnNumber: 24\n      }\n    }, /*#__PURE__*/React.createElement(DBTd, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1030,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(TokenTableCoinBox, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1031,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(TokenTableLogoWrapper, {\n      onClick: () => {\n        setNftLogo(item === null || item === void 0 ? void 0 : item.image);\n        setNftLogoModel(true);\n      },\n      style: {\n        cursor: 'pointer'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1032,\n        columnNumber: 23\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      src: item === null || item === void 0 ? void 0 : item.image,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1036,\n        columnNumber: 25\n      }\n    })), /*#__PURE__*/React.createElement(TokenNameBox, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1038,\n        columnNumber: 23\n      }\n    }, /*#__PURE__*/React.createElement(\"h3\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1039,\n        columnNumber: 25\n      }\n    }, item.id)))), /*#__PURE__*/React.createElement(DBTd, {\n      className: \"l\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1044,\n        columnNumber: 19\n      }\n    }, item.lockAmount ? thousandBit(item.lockAmount, 2) : '-'), /*#__PURE__*/React.createElement(DBTd, {\n      className: \"l\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1045,\n        columnNumber: 19\n      }\n    }, item.lockValue ? thousandBit(item.lockValue, 2) : '-'), /*#__PURE__*/React.createElement(DBTd, {\n      className: \"c\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1046,\n        columnNumber: 19\n      }\n    }, item.lockEnds ? moment.unix(item.lockEnds).format('YYYY-MM-DD') : ''), /*#__PURE__*/React.createElement(DBTd, {\n      className: \"l\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1047,\n        columnNumber: 19\n      }\n    }, item.type === 'VEDELTA' ? getUserAPR(item.lockValue, item.lockAmount) : totalAPR ? totalAPR : '-'), /*#__PURE__*/React.createElement(DBTd, {\n      className: \"c\",\n      width: '260px',\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1048,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(Flex, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1049,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(TokenActionBtn2, {\n      className: item.type === 'VESHARE' ? 'disabled' : '',\n      to: item.type === 'VESHARE' ? \"/vest\" : \"/vest/manger?id=\" + item.index,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1050,\n        columnNumber: 23\n      }\n    }, \"Manage\"), /*#__PURE__*/React.createElement(TokenActionBtn1, {\n      onClick: () => {\n        setClaimRewardId(item);\n        setModalOpen(true);\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1051,\n        columnNumber: 23\n      }\n    }, t('Claim')), /*#__PURE__*/React.createElement(TokenActionBtn1, {\n      disabled: parseInt(Date.now() / 1000 + '') < Number(item.lockEnds) || disabled || item.type === 'VESHARE',\n      onClick: () => {\n        var _rewardList$item$id;\n        // console.log(rewardList)\n        // console.log(item)\n        const rewardCount = (useVeMultiToken === null || useVeMultiToken === void 0 ? void 0 : useVeMultiToken.decimals) && (rewardList === null || rewardList === void 0 ? void 0 : (_rewardList$item$id = rewardList[item.id]) === null || _rewardList$item$id === void 0 ? void 0 : _rewardList$item$id.totalReward) ? BigAmount.format(useVeMultiToken.decimals, rewardList[item.id].totalReward).toExact() : '';\n        if (rewardCount && Number(rewardCount) >= 0.001) {\n          console.log(rewardCount);\n          alert('Please claim the reward first');\n        } else if (!rewardList || !rewardList[item.id] || parseInt(Date.now() / 1000 + '') < Number(item.lockEnds)) {\n          alert('Loading');\n        } else {\n          const now = parseInt(Date.now() / 1000 + '');\n          if (now >= Number(item.lockEnds)) {\n            if (onWithdrarWrap) {\n              // console.log(1)\n              setDisabled(true);\n              onWithdrarWrap(item.id).then(() => {\n                setDisabled(false);\n              });\n            }\n          }\n        }\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1055,\n        columnNumber: 23\n      }\n    }, t('Withdraw')))));\n  }) : /*#__PURE__*/React.createElement(\"tr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1085,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(DBTd, {\n    colSpan: 6,\n    style: {\n      textAlign: 'center',\n      padding: '20px',\n      fontSize: '12px'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1086,\n      columnNumber: 19\n    }\n  }, \"No NFTs to display.\"))))));\n}","map":{"version":3,"names":["React","useCallback","useEffect","useMemo","useRef","useState","styled","useTranslation","moment","useActiveWeb3React","useVeMULTIContract","useVeMULTIRewardContract","useTokenContract","useInterval","useUserSelectChainId","BigAmount","TokenLogo","ButtonLight","ModalContent","QuestionHelper","BottomGrouping","ButtonPrimary","getLabelPrice","AppBody","DBTables","DBThead","DBTh","DBTbody","DBTd","TokenTableCoinBox","TokenTableLogo","TokenNameBox","MyBalanceBox","TokenActionBtn","Flex","veMULTI","MULTI_TOKEN","REWARD","REWARD_TOKEN","useVeshare","useClaimVeshareRewardCallback","veSHARE","useClaimRewardCallback","useWithdrawCallback","axios","thousandBit","config","selectNetwork","VestContent","div","_templateObject","_taggedTemplateLiteral","_ref","theme","flexC","CreateLock","_templateObject2","_ref2","primary1","_ref3","text5","_ref4","_ref5","mediaWidth","upToMedium","_templateObject3","CreateLock1","_templateObject4","_ref6","_ref7","_ref8","_ref9","_templateObject5","TokenActionBtn1","_templateObject6","_ref10","_ref11","selectedBg","_ref12","textColorBold","_ref13","_ref14","_templateObject7","TokenActionBtn2","_templateObject8","_ref15","_templateObject9","RewardView","_templateObject10","_ref16","RewardLoading","_templateObject11","_ref17","_ref18","LogoBox","_templateObject12","_ref19","DataViews","_templateObject13","_ref20","flexBC","_ref21","contentBg","_ref22","text4","_ref23","upToSmall","_templateObject14","_ref24","_ref25","text1","_ref26","_templateObject15","TokenTableLogoWrapper","_templateObject16","Vest","t","account","chainId","setUserSelectNetwork","getVeshareNFTs","useVeshareRewardToken","vestNFTs","setvestNFTs","veshareNFTs","setVeshareNFTs","modalOpen","setModalOpen","claimRewardId","setClaimRewardId","loadingStatus","setLoadingStatus","veMultiTotalSupply","setVeMultiTotalSupply","LockedMULTI","setLockedMULTI","circulatingsupply","setCirculatingsupply","curEpochInfo","setCurEpochInfo","totalPower","setTotalPower","epochId","setEpochId","rewardList","setRewardList","latestEpochInfo","setlatestEpochInfo","price","setPrice","nftLogoModel","setNftLogoModel","nftLogo","setNftLogo","totalAPR","setTotalAPR","disabled","setDisabled","supportChainList","arr","c","includes","push","useVeMultiToken","undefined","useVeMultiRewardToken","useRewardToken","useLockToken","rewardInfo","id","nftList","contract","address","rewardContract","ercContract","execute","onWrap","list","onVeshareWrap","onWithdrarWrap","rewardEpochIdList","getPendingReward","nfts","_totalReward","totalReward","limit","len","Number","initStart","current","i","nextIndex","data","pendingReward","reward","add","startEpoch","toString","endEpoch","error","arr1","item","length","obj","a1s","getAllRewards","console","log","getVestNFTs","nftsLength","balanceOf","totalSupply","Array","from","parseInt","v","Promise","all","map","idx","tokenIndex","tokenOfOwnerByIndex","locked","lockValue","balanceOfNFT","tokenURI","get","index","lockEnds","end","toNumber","lockAmount","format","decimals","amount","toExact","type","then","res","getAllNft","getCurrentEpochId","catch","err","getCirc","label","DataList","name","value","loading","vms","lm","fourYear","oneYear","divide","multiply","toSignificant","time","endTime","startTime","weektime","per","symbol","usrEpochInfo","tr","tp","tokenPrice","greaterThan","apr","question","getMultiInfo","getEpochInfo","getEpochTotalPower","getUserAPR","UserPower","UserMulti","ClaimView","stutus","createElement","Fragment","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","size","onClick","Date","now","timeView","toFixed","isOpen","onDismiss","title","src","style","width","className","key","text","slice","_config$getCurChainIn","getCurChainInfo","chainID","chainType","msg","alert","networkName","to","image","cursor","unix","_rewardList$item$id","rewardCount","colSpan","textAlign","padding","fontSize"],"sources":["/workspace/Planq-Dapps/vesting-portal/src/pages/Vest/index.tsx"],"sourcesContent":["import React, { useCallback, useEffect, useMemo, useRef, useState } from \"react\";\n\nimport styled from \"styled-components\"\nimport { useTranslation } from 'react-i18next'\nimport moment from 'moment';\n\nimport { useActiveWeb3React } from '../../hooks'\nimport { \n  useVeMULTIContract,\n  useVeMULTIRewardContract,\n  useTokenContract,\n  // useMulticallContract\n} from '../../hooks/useContract'\nimport useInterval from '../../hooks/useInterval'\nimport { useUserSelectChainId } from '../../state/user/hooks'\n\nimport {BigAmount} from '../../utils/formatBignumber'\n// import { useApproveCallback, ApprovalState } from '../../hooks/useApproveCallback'\n\nimport TokenLogo from '../../components/TokenLogo'\nimport { ButtonLight } from '../../components/Button'\n// import Modal from \"../../components/Modal\";\nimport ModalContent from \"../../components/Modal/ModalContent\";\nimport QuestionHelper from '../../components/QuestionHelper'\n\nimport {\n  BottomGrouping\n} from '../../components/swap/styleds'\nimport { ButtonPrimary } from '../../components/Button'\n\nimport {getLabelPrice} from '../../utils/tools/getPrice'\n\nimport AppBody from '../AppBody'\n\n// import GifIon from '../../assets/images/icon/GIF.svg'\n// import BulbIcon from '../../assets/images/icon/bulb.svg'\n\nimport {\n  DBTables,\n  DBThead,\n  DBTh,\n  DBTbody,\n  DBTd,\n  TokenTableCoinBox,\n  TokenTableLogo,\n  TokenNameBox,\n  MyBalanceBox,\n  TokenActionBtn,\n  Flex,\n  // ChainCardList\n} from '../Dashboard/styleds'\n\nimport {veMULTI,MULTI_TOKEN,REWARD,REWARD_TOKEN} from './data'\nimport {\n  useVeshare,\n  useClaimVeshareRewardCallback,\n  veSHARE\n} from './veshare'\n\nimport {useClaimRewardCallback, useWithdrawCallback} from './hooks'\nimport axios from \"axios\";\nimport {thousandBit} from '../../utils/tools/tools'\n\n\nimport config from '../../config'\nimport {selectNetwork} from '../../config/tools/methods'\n\n// import {VE_MULTI_REWARD_INTERFACE} from '../../constants/abis/veMULTIReward'\n\nconst VestContent = styled.div`\n${({ theme }) => theme.flexC};\n  width: 100%;\n  max-width: 1200px;\n  padding: 30px;\n`\n\nconst CreateLock = styled(TokenActionBtn)`\n  background:${({ theme }) => theme.primary1};\n  width: 120px;\n  color:#fff;\n  // margin-bottom:10px;\n  // padding-left: 12px;\n  // padding-right: 12px;\n  padding: 20px var(--space-medium-400, 32px);\n  font-size: 1rem;\n  font-weight: bold;\n  color: ${({ theme }) => theme.text5};\n  &.disabled {\n    opacity: 0.2;\n  }\n  &:hover,\n  &:focus,\n  &:active {\n    background: ${({ theme }) => theme.primary1};\n    opacity: 0.99\n  }\n  ${({ theme }) => theme.mediaWidth.upToMedium`\n    height: 28px;\n    margin-bottom: 10px;\n  `}\n`\n\nconst CreateLock1 = styled(ButtonLight)`\n  width: auto;\n  height: 38px;\n  border-radius: 30px;\n  background: ${({ theme }) => theme.primary1};\n  margin: 0 5px 10px;\n  padding: 20px var(--space-medium-400, 32px);\n  font-size: 1rem;\n  font-weight: bold;\n  color: ${({ theme }) => theme.text5};\n  &.disabled {\n    opacity: 0.2;\n  }\n  &:hover,\n  &:focus,\n  &:active {\n    background: ${({ theme }) => theme.primary1};\n    opacity: 0.99\n  }\n  ${({ theme }) => theme.mediaWidth.upToMedium`\n    height: 28px;\n    margin-bottom: 10px;\n  `}\n`\n\nconst TokenActionBtn1 = styled(ButtonLight)`\n  ${({ theme }) => theme.flexC};\n  font-family: 'Manrope';\n  min-width: auto!important;\n  max-width: auto!important;\n  width: auto;\n  height: 38px;\n  padding: 0 15px;\n  word-break:break-all!important;\n\n  border-radius: 0.5625rem;\n  background: ${({ theme }) => theme.selectedBg};\n  margin-right: 0.125rem;\n\n  font-size: 0.75rem;\n  font-weight: 500;\n\n  line-height: 1;\n\n  color: ${({ theme }) => theme.textColorBold};\n  box-shadow: none;\n  // padding: 0 8px;\n  text-decoration: none;\n  &:hover,\n  &:focus,\n  &:active {\n    background: ${({ theme }) => theme.selectedBg};\n  }\n  &.disabled {\n    opacity: 0.2;\n  }\n  ${({ theme }) => theme.mediaWidth.upToMedium`\n    height: 28px;\n    margin-bottom: 10px;\n  `}\n`\n\nconst TokenActionBtn2 = styled(TokenActionBtn)`\n  min-width: auto!important;\n  max-width: auto!important;\n  width: auto;\n  height: 38px;\n  padding: 0 15px;\n  &.disabled {\n    opacity: 0.2;\n  }\n  ${({ theme }) => theme.mediaWidth.upToMedium`\n    height: 28px;\n    margin-bottom: 10px;\n  `}\n`\n\nconst RewardView = styled.div`\n  width:100%;\n  ${({ theme }) => theme.flexC};\n  padding: 30px 0;\n`\n\nconst RewardLoading = styled.div`\n  ${({ theme }) => theme.flexC};\n  width: 100%;\n  padding: 50px 0;\n  color: ${({ theme }) => theme.textColorBold};\n`\n\nconst LogoBox = styled.div`\n  ${({ theme }) => theme.flexC};\n  width: 46px;\n  height: 46px;\n  object-fit: contain;\n  box-shadow: 0 0.125rem 0.25rem 0 rgba(0, 0, 0, 0.04);\n  border: solid 0.5px rgba(0, 0, 0, 0.1);\n  border-radius:100%;\n  margin: auto;\n\n  img{\n    // height: 24px;\n    // width: 24px;\n    display:block;\n  }\n`\n\nconst DataViews = styled.div`\n  width: 100%;\n  \n  .list {\n    width: 100%;\n    ${({ theme }) => theme.flexBC};\n    flex-wrap: wrap;\n\n    .item {\n      width: 32%;\n      padding: 10px 0;\n\n      .content {\n        width: 100%;\n        box-shadow: 0.4375rem 0.125rem 1.625rem 0 rgba(0, 0, 0, 0.06);\n        background-color: ${({ theme }) => theme.contentBg};\n        border-radius: 10px;\n        padding: 1rem 2.5rem;\n        min-height: 20vh;\n\n        .title {\n          font-size: 18px;\n          color: ${({ theme }) => theme.text4};\n          margin: 0 0 15px;\n          font-weight: bold;\n          white-space: nowrap;\n          text-align: center;\n\n          ${({ theme }) => theme.mediaWidth.upToSmall`\n            font-size: 10px;\n          `}\n        }\n\n        .value {\n          font-size: 12px;\n          color: ${({ theme }) => theme.textColorBold};\n          margin-bottom: 0;\n          font-weight: 400;\n          text-align: center;\n          white-space: nowrap;\n        }\n\n        .loading {\n          font-size: 14px;\n          color: ${({ theme }) => theme.text1};\n          margin-bottom: 0;\n          text-align: center;\n        }\n      }\n    }\n  }\n\n  ${({ theme }) => theme.mediaWidth.upToMedium`\n    .list {\n      .item {\n        width: 48%;\n\n        .content {\n          padding: 1rem 1rem;\n\n          .title {\n            white-space: nowrap;\n          }\n        }\n      }\n    }\n  `}\n`\n\nconst TokenTableLogoWrapper = styled(TokenTableLogo)`\n  img {\n    max-width: 100%;\n    max-height: 100%;\n  }\n`\n\nexport default function Vest () {\n  const { t } = useTranslation()\n  const { account, chainId } = useActiveWeb3React()\n  const {setUserSelectNetwork} = useUserSelectChainId()\n\n  const {getVeshareNFTs, useVeshareRewardToken} = useVeshare()\n\n  const [vestNFTs, setvestNFTs] = useState<any>()\n  const [veshareNFTs, setVeshareNFTs] = useState<any>()\n  const [modalOpen, setModalOpen] = useState(false)\n  const [claimRewardId, setClaimRewardId] = useState<any>()\n  const [loadingStatus, setLoadingStatus] = useState<any>(0)\n\n  const [veMultiTotalSupply, setVeMultiTotalSupply] = useState<any>()\n  const [LockedMULTI, setLockedMULTI] = useState<any>()\n  const [circulatingsupply, setCirculatingsupply] = useState<any>()\n  const [curEpochInfo, setCurEpochInfo] = useState<any>()\n  const [totalPower, setTotalPower] = useState<any>()\n  const [epochId, setEpochId] = useState<any>()\n  const [rewardList, setRewardList] = useState<any>()\n  const [latestEpochInfo, setlatestEpochInfo] = useState<any>()\n  const [price, setPrice] = useState<any>(12)\n  const [nftLogoModel, setNftLogoModel] = useState<any>(false)\n  const [nftLogo, setNftLogo] = useState<any>()\n  const [totalAPR, setTotalAPR] = useState<any>()\n\n  const [disabled, setDisabled] = useState(false)\n  // const viewDatas = useRef<any>({})\n\n  const supportChainList = useMemo(() => {\n    const arr:any = []\n    for (const c in veSHARE) {\n      if (arr.includes(c)) continue\n      arr.push(c)\n    }\n    for (const c in veMULTI) {\n      if (arr.includes(c)) continue\n      arr.push(c)\n    }\n    return arr\n  }, [veSHARE, veMULTI])\n   //console.log(supportChainList)\n\n  const useVeMultiToken = useMemo(() => {\n    // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n    // @ts-ignore\n    if (chainId && veMULTI[chainId]) return veMULTI[chainId]\n    return undefined\n  }, [chainId])\n  \n  const useVeMultiRewardToken = useMemo(() => {\n    // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n    // @ts-ignore\n    if (chainId && REWARD[chainId]) return REWARD[chainId]\n    return undefined\n  }, [chainId])\n\n  const useRewardToken = useMemo(() => {\n    // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n    // @ts-ignore\n    if (chainId && REWARD_TOKEN[chainId]) return REWARD_TOKEN[chainId]\n    return undefined\n  }, [chainId])\n\n  const useLockToken:any = useMemo(() => {\n    // console.log(MULTI_TOKEN)\n    // console.log(chainId)\n    // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n    // @ts-ignore\n    if (chainId && MULTI_TOKEN[chainId]) {\n      // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n      // @ts-ignore\n      return MULTI_TOKEN[chainId]\n    }\n    return undefined\n  }, [chainId])\n  // console.log(useLockToken)\n\n  const rewardInfo = useMemo(() => {\n    if (\n      claimRewardId?.id && rewardList && rewardList[claimRewardId?.id]\n    ) {\n      setLoadingStatus(1)\n      return {...rewardList[claimRewardId?.id], id: claimRewardId?.id}\n    }\n    setLoadingStatus(0)\n    return undefined\n  }, [claimRewardId, rewardList])\n\n  // const isSupport = useMemo(() => {\n  //   if (!useLockToken) {\n  //     return false\n  //   }\n  //   return true\n  // }, [useLockToken])\n\n  const nftList = useMemo(() => {\n    const arr = []\n    if (vestNFTs) {\n      arr.push(...vestNFTs)\n    }\n    if (veshareNFTs) {\n      arr.push(...veshareNFTs)\n    }\n    return arr\n  }, [veshareNFTs, vestNFTs])\n\n  const contract = useVeMULTIContract(useVeMultiToken?.address)\n  const rewardContract = useVeMULTIRewardContract(useVeMultiRewardToken?.address)\n  const ercContract = useTokenContract(useLockToken?.address)\n  // const multicallContract = useMulticallContract()\n\n\n  const {execute: onWrap} = useClaimRewardCallback(\n    useVeMultiRewardToken?.address,\n    rewardInfo?.id,\n    rewardInfo?.list\n  )\n\n  const {execute: onVeshareWrap} = useClaimVeshareRewardCallback(claimRewardId)\n\n  const {execute: onWithdrarWrap} = useWithdrawCallback(\n    useVeMultiToken?.address\n  )\n  const rewardEpochIdList = useRef<any>({})\n  // const [approval, approveCallback] = useApproveCallback(formatInputBridgeValue ?? undefined, useVeMultiToken)\n  const getPendingReward = useCallback(async(nfts) => {\n    if (rewardContract && nfts?.id && epochId) {\n      // console.log(nfts.id)\n      const arr = []\n      let totalReward:any = ''\n      const limit = 30\n      // const limit = 10\n      const len = Number(epochId) + 1\n      const initStart = rewardEpochIdList?.current && rewardEpochIdList?.current[nfts?.id] ? rewardEpochIdList.current[nfts?.id] : 0\n      for (let i = initStart; i < len; i+=limit) {\n        const nextIndex = i + limit > len ? len : i + limit\n        // console.log(nfts.id, i, nextIndex - 1)\n        try {\n          let data = await rewardContract.pendingReward(nfts.id, i, nextIndex - 1)\n          data = data && data[0] ? data[0] : ''\n          if (!data) continue\n          if (!totalReward && data.reward) {\n            // console.log(1)\n            totalReward = data.reward\n          } else if (data.reward) {\n            // console.log(2)\n            totalReward = totalReward.add(data.reward)\n          }\n          arr.push({\n            startEpoch: data.startEpoch.toString(),\n            endEpoch: data.endEpoch.toString(),\n            reward: data.reward.toString(),\n          })\n        } catch (error) {\n          // console.log(i)\n          if (!rewardEpochIdList.current[nfts?.id]) rewardEpochIdList.current[nfts?.id] = nextIndex\n          else rewardEpochIdList.current[nfts?.id] = nextIndex\n        }\n      }\n      const arr1 = []\n      for (const item of arr) {\n        if (arr1.length === 0) {\n          arr1.push({startEpoch: item.startEpoch, endEpoch: item.endEpoch})\n        } else {\n          const len = arr1.length -1\n          const obj = arr1[len]\n          if ((Number(obj.endEpoch)) === Number(item.startEpoch) -1) {\n            if (Number(item.endEpoch) - Number(arr1[len].startEpoch) <= limit) {\n              arr1[len].endEpoch = item.endEpoch\n            } else if (Number(item.endEpoch) - Number(arr1[len].startEpoch) > limit) {\n              const a1s:any = Number(arr1[len].startEpoch)\n              arr1[len].endEpoch = a1s + limit - 1 + ''\n              arr1.push({startEpoch: a1s + limit + '', endEpoch: item.endEpoch})\n            } else {\n              arr1.push({startEpoch: item.startEpoch, endEpoch: item.endEpoch})\n            }\n          } else {\n            arr1.push({startEpoch: item.startEpoch, endEpoch: item.endEpoch})\n          }\n        }\n      }\n      return {list: arr1, totalReward: totalReward?.toString()}\n    }\n    return undefined\n  }, [rewardContract, epochId])\n\n  const getAllRewards = useCallback(async() => {\n    if (\n      epochId\n      && vestNFTs\n      && vestNFTs.length > 0\n    ) {\n      const list:any = {}\n      for (const obj of vestNFTs) {\n        const data:any = await getPendingReward(obj)\n        if (data) {\n          list[obj.id] = data\n        }\n      }\n      console.log(list)\n      setRewardList(list)\n    }\n  }, [epochId, vestNFTs])\n  useEffect(() => {\n    getAllRewards()\n  }, [epochId, vestNFTs])\n\n  const getVestNFTs = useCallback(async() => {\n    // console.log(useVeMultiToken)\n    if (\n      contract\n      && account\n      && useLockToken\n    ) {\n      // console.log(contract)\n      // console.log(account)\n      const nftsLength = await contract.balanceOf(account)\n      const totalSupply = await contract.totalSupply()\n      // viewDatas.current['veMultiTotalSupply'] = totalSupply?.toString()\n      // setViewDatas({\n      //   ...viewDatas,\n      //   veMultiTotalSupply: totalSupply?.toString()\n      // })\n      setVeMultiTotalSupply(totalSupply?.toString())\n      // console.log('totalSupply',totalSupply.toString())\n      const arr = Array.from({length: parseInt(nftsLength)}, (v, i) => i)\n      // console.log(nftsLength)\n      // console.log(arr)\n      try {\n        const nfts = await Promise.all(\n          arr.map(async (idx) => {\n    \n            const tokenIndex = await contract.tokenOfOwnerByIndex(account, idx)\n            const locked = await contract.locked(tokenIndex)\n            const lockValue = await contract.balanceOfNFT(tokenIndex)\n            const tokenURI = await contract.tokenURI(tokenIndex)\n            const {data} = await axios.get(tokenURI)\n            // console.log(tokenURI)\n            // console.log(data)\n            // probably do some decimals math before returning info. Maybe get more info. I don't know what it returns.\n            return {\n              ...data,\n              index: idx,\n              id: tokenIndex?.toString(),\n              lockEnds: locked.end.toNumber(),\n              lockAmount: BigAmount.format(useLockToken.decimals, locked.amount).toExact(),\n              lockValue: BigAmount.format(useVeMultiToken.decimals, lockValue).toExact(),\n              type: 'VEDELTA'\n            }\n          })\n        )\n        console.log(nfts)\n        setvestNFTs(nfts)\n      } catch (error) {\n        console.log(error)\n      }\n      \n    }\n    \n    getVeshareNFTs().then(res => {\n      // console.log(res)\n      setVeshareNFTs(res)\n    })\n  }, [contract, account, useLockToken])\n\n  const getAllNft = useCallback(() => {\n    getVestNFTs()\n    getVeshareNFTs().then(res => {\n      // console.log(res)\n      setVeshareNFTs(res)\n    })\n  }, [getVeshareNFTs, getVestNFTs])\n\n  useEffect(() => {\n    getAllNft()\n  }, [contract, account, useLockToken])\n  \n  useInterval(getAllNft, 1000 * 10)\n\n  const getCurrentEpochId = useCallback(() => {\n    console.log(rewardContract)\n    if (rewardContract) {\n      rewardContract.getCurrentEpochId().then((res:any) => {\n        console.log(res.toString())\n        setEpochId(res.toString())\n      }).catch((err:any) => {\n        console.log(err)\n        setEpochId('0')\n      })\n    }\n  }, [rewardContract])\n  useEffect(() => {\n    getCurrentEpochId()\n  }, [rewardContract])\n  useInterval(getCurrentEpochId, 1000 * 10)\n\n  const getCirc = useCallback(() => {\n    axios.get(`https://evm.planq.network/api?module=stats&action=tokensupply&contractaddress=0x6aF48997671584672e084Bf2296473677598ee58`).then((res:any) => {\n      console.log(res)\n      if (res.data) {\n        setCirculatingsupply(res.data)\n      }\n    })\n  }, [])\n  useEffect(() => {\n    getCirc()\n  }, [])\n\n  useEffect(() => {\n    if (useLockToken?.label) {\n      getLabelPrice(useLockToken?.label).then(res => {\n        // console.log(useLockToken)\n        // console.log(res)\n        if (res) {\n          setPrice(res)\n        }\n      })\n    }\n  }, [useLockToken])\n\n  const DataList = useMemo(() => {\n    const list = []\n    if (veMultiTotalSupply && useVeMultiToken) {\n      list.push({\n        name: 'veDELTA Supply',\n        value: thousandBit(BigAmount.format(useVeMultiToken.decimals, veMultiTotalSupply).toExact(), 2),\n        loading: false\n      })\n    } else {\n      list.push({\n        name: 'veDELTA Supply',\n        value: '',\n        loading: true\n      })\n    }\n    if (LockedMULTI && useLockToken) {\n      // console.log(BigAmount.format(0,'10').toExact())\n      const value = BigAmount.format(useLockToken.decimals,LockedMULTI).toExact()\n      list.push({\n        name: 'Locked DELTA',\n        value: thousandBit(value, 2),\n        // value: value.toString().replace(/(\\d)(?=(\\d{3})+\\.)/g, '$1,').toLocaleString(),\n        loading: false\n      })\n    } else {\n      list.push({\n        name: 'Locked DELTA',\n        value: '',\n        loading: true\n      })\n    }\n    if (LockedMULTI && circulatingsupply && useLockToken) {\n      const value:any = Number(BigAmount.format(useLockToken.decimals,LockedMULTI).toExact()) / circulatingsupply\n      list.push({\n        name: '% Circ. DELTA Locked',\n        value: thousandBit(value * 100, 2) + '%',\n        loading: false\n      })\n    } else {\n      list.push({\n        name: '% Circ. DELTA Locked',\n        value: '',\n        loading: true\n      })\n    }\n    if (veMultiTotalSupply && LockedMULTI && useVeMultiToken && useLockToken) {\n    // if (totalPower && LockedMULTI) {\n      // const tp = BigAmount.format(useVeMultiToken.decimals, totalPower)\n      // const lm = BigAmount.format(useLockToken.decimals, LockedMULTI)\n      // const fourYear:any = 60*60*24*1460\n      // const oneYear = BigAmount.format(0, (60*60*24*365) + '')\n      // const value = tp.divide(lm).multiply(BigAmount.format(1, fourYear)).divide(oneYear)\n      const vms = BigAmount.format(useVeMultiToken.decimals, veMultiTotalSupply)\n      const lm = BigAmount.format(useLockToken.decimals, LockedMULTI)\n      const fourYear:any = BigAmount.format(0, (60*60*24*1460) + '')\n      const oneYear = BigAmount.format(0, (60*60*24*365) + '')\n      const value = vms.divide(lm).multiply(fourYear).divide(oneYear)\n      list.push({\n        name: 'Avg. Lock Time (years)',\n        value: value.toSignificant(2),\n        loading: false\n      })\n    } else {\n      list.push({\n        name: 'Avg. Lock Time (years)',\n        value: '',\n        loading: true\n      })\n    }\n    if (curEpochInfo && useRewardToken) {\n      // const oneYear = BigAmount.format(1, (60*60*24*365) + '')\n      // console.log(curEpochInfo)\n      const time = Number(curEpochInfo.endTime) - Number(curEpochInfo.startTime)\n      const weektime = 60*60*24*7\n      const per = weektime / time\n      const value = BigAmount.format(useRewardToken.decimals, curEpochInfo.totalReward).toExact()\n      // console.log(time)\n      // console.log(per)\n      list.push({\n        name: 'Est. Yield Per Week',\n        value: thousandBit(Number(value) * per, 2) + ' ' +  useRewardToken.symbol,\n        loading: false\n      })\n    } else {\n      list.push({\n        name: 'Est. Yield Per Week',\n        value: '',\n        loading: true\n      })\n    }\n    if ((latestEpochInfo || curEpochInfo) && totalPower && price && useRewardToken && useVeMultiToken) {\n      const usrEpochInfo = latestEpochInfo && latestEpochInfo?.totalReward !== '0' ? latestEpochInfo : curEpochInfo\n      const tr = BigAmount.format(useRewardToken.decimals, usrEpochInfo?.totalReward ? usrEpochInfo?.totalReward : '0')\n      const tp = BigAmount.format(useVeMultiToken.decimals, totalPower)\n      const tokenPrice = BigAmount.format(0, parseInt(price) + '')\n      const oneYear = BigAmount.format(0, (60*60*24*365) + '')\n      const time = BigAmount.format(0, usrEpochInfo?.endTime ? (Number(usrEpochInfo.endTime)-Number(usrEpochInfo.startTime)) + '' : '0')\n      const per = BigAmount.format(0, '100')\n      // console.log(latestEpochInfo)\n      // console.log(curEpochInfo)\n      // console.log(tr.toExact())\n      // console.log(tp.toExact())\n      if (\n        tr.greaterThan('0')\n        && tokenPrice.greaterThan('0')\n        && time.greaterThan('0')\n        && tp.greaterThan('0')\n      ) {\n        const apr = tr.divide(tokenPrice).multiply(oneYear).divide(time).divide(tp).multiply(per)\n        list.push({\n          name: 'APR',\n          value: apr.toSignificant(2) + '%',\n          loading: false,\n          question: 'Assumes 1 veDELTA = 1 DELTA (1 DELTA locked 4 years)'\n        })\n        setTotalAPR(apr.toSignificant(2) + '%')\n      } else {\n        list.push({\n          name: 'APR',\n          value: '- %',\n          loading: false,\n          question: 'Assumes 1 veDELTA = 1 DELTA (1 DELTA locked 4 years)'\n        })\n      }\n    } else {\n      list.push({\n        name: 'APR',\n        value: '',\n        loading: true,\n        question: 'Assumes veDELTA = 1 DELTA (1 DELTA locked 4 years)'\n      })\n    }\n    // console.log(list)\n    return list\n  }, [totalPower, curEpochInfo, circulatingsupply, LockedMULTI, veMultiTotalSupply, latestEpochInfo, price, useVeMultiToken, useLockToken])\n\n  const getMultiInfo = useCallback(() => {\n    if (ercContract) {\n      if (useVeMultiToken?.address) {\n        ercContract.balanceOf(useVeMultiToken?.address).then((res:any) => {\n          setLockedMULTI(res?.toString())\n        })\n      }\n    }\n  }, [ercContract, useVeMultiToken])\n\n  useEffect(() => {\n    getMultiInfo()\n  }, [ercContract])\n\n  useInterval(getMultiInfo, 1000 * 10)\n\n  const getEpochInfo = useCallback(async() => {\n    console.log(epochId)\n    if (\n      rewardContract\n      && epochId\n    ) {\n      // const EpochId = await rewardContract.getCurrentEpochId()\n      rewardContract.getEpochInfo(epochId).then((res:any) => {\n        // console.log(res)\n        const data = {\n          startTime: res[0].toString(),\n          endTime: res[1].toString(),\n          totalReward: res[2].toString(),\n        }\n        setCurEpochInfo(data)\n        setlatestEpochInfo(data)\n      }).catch((err:any) => {\n        console.log(err)\n        setCurEpochInfo('')\n      })\n      // rewardContract.getEpochInfo(Number(epochId) === 0 ? 0 : Number(epochId) + 1).then((res:any) => {\n      //   // console.log(res)\n      //   setlatestEpochInfo({\n      //     startTime: res[0].toString(),\n      //     endTime: res[1].toString(),\n      //     totalReward: res[2].toString(),\n      //   })\n      // }).catch((err:any) => {\n      //   console.log(err)\n      // })\n      rewardContract.getEpochTotalPower(epochId).then((res:any) => {\n        // console.log(res)\n        setTotalPower(res.toString())\n      }).catch((err:any) => {\n        console.log(err)\n        setTotalPower('')\n      })\n      \n    }\n  }, [rewardContract, epochId])\n  useEffect(() => {\n    getEpochInfo()\n  }, [rewardContract, epochId])\n\n  useInterval(getEpochInfo, 1000 * 10)\n\n  function getUserAPR (UserPower:any, UserMulti:any) {\n    // const usrEpochInfo = latestEpochInfo ? latestEpochInfo : curEpochInfo\n    const usrEpochInfo = latestEpochInfo && latestEpochInfo?.totalReward !== '0' ? latestEpochInfo : curEpochInfo\n    const tr = usrEpochInfo?.totalReward && useRewardToken.decimals ? BigAmount.format(useRewardToken.decimals, usrEpochInfo.totalReward).toExact() : ''\n    const time = usrEpochInfo ? Number(usrEpochInfo.endTime)-Number(usrEpochInfo.startTime) : ''\n    const tokenPrice = price ? Number(price) : ''\n    const tp = totalPower && useVeMultiToken.decimals ? BigAmount.format(useVeMultiToken.decimals, totalPower).toExact() : ''\n    const oneYear = 60*60*24*365\n    if (\n      tr\n      && tokenPrice\n      && tp\n      && Number(tp) > 0\n      && UserPower\n      && UserMulti\n      && time\n    ) {\n      const apr = (((Number(tr) / tokenPrice) * Number(UserPower) / Number(tp))*oneYear/time/Number(UserMulti)) * 100\n      // console.log(apr)\n      return thousandBit(apr, 2) + '%'\n    }\n    return '-'\n  }\n\n  function ClaimView (stutus:number) {\n    if (claimRewardId?.type === 'VESHARE') {\n      const totalReward = claimRewardId?.reward && useVeshareRewardToken ? thousandBit(claimRewardId?.reward,2) : ''\n      console.log(totalReward)\n      if (!totalReward || !Number(totalReward)) {\n        return (\n          <>\n            <RewardLoading>{t('No reward.')}</RewardLoading>\n          </>\n        )\n      }\n      return (\n        <>\n          <LogoBox>\n            <TokenLogo symbol={useVeshareRewardToken?.symbol} size={'3rem'}></TokenLogo>\n          </LogoBox>\n          <RewardView>{totalReward} {useVeshareRewardToken?.symbol}</RewardView>\n          <BottomGrouping>\n            <ButtonPrimary disabled={disabled} onClick={() => {\n              if (onVeshareWrap) {\n                setDisabled(true)\n                onVeshareWrap().then(() => {\n                  setDisabled(false)\n                  setModalOpen(false)\n                })\n              }\n            }}>\n              {t('Claim Reward')}\n            </ButtonPrimary>\n          </BottomGrouping>\n        </>\n      )\n    }\n    if (stutus === 0) {\n      return (\n        <>\n          <RewardLoading>{t('Reward query in progress...')}</RewardLoading>\n        </>\n      )\n    } else if (stutus === 2) {\n      return (\n        <>Error</>\n      )\n    } else {\n      const totalReward = rewardInfo?.totalReward && useRewardToken ? BigAmount.format(useRewardToken?.decimals, rewardInfo?.totalReward).toSignificant(6) : ''\n      if (latestEpochInfo?.startTime && !totalReward) {\n        const time = Number(latestEpochInfo?.startTime) - parseInt(Date.now() / 1000 + '')\n        let timeView = ''\n        if (time < 60 && time > 0) {\n          timeView = time + 's'\n        } else if (time >= 60 && time < 60 * 60) {\n          timeView = (time / 60).toFixed(2) + 'min'\n        } else if (time >= 60 * 60 && time < 60 * 60 * 24) {\n          timeView = (time / (60 * 60)).toFixed(2) + 'h'\n        } else if (time >= 60 * 60 * 24) {\n          timeView = (time / (60 * 60 * 24)).toFixed(2) + 'D'\n        }\n        if (!timeView) {\n          return (\n            <>\n              <RewardLoading>{t('No reward.')}</RewardLoading>\n            </>\n          )\n        }\n        return (\n          <>\n            <RewardLoading>Remaining time for next collection:{timeView}</RewardLoading>\n          </>\n        )\n      } else if (!totalReward) {\n        return (\n          <>\n            <RewardLoading>{t('No reward.')}</RewardLoading>\n          </>\n        )\n      }\n      return (\n        <>\n        <LogoBox>\n          <TokenLogo symbol={useRewardToken?.symbol} size={'3rem'}></TokenLogo>\n        </LogoBox>\n          <RewardView>{totalReward} {useRewardToken?.symbol}</RewardView>\n          <BottomGrouping>\n            <ButtonPrimary disabled={disabled} onClick={() => {\n              if (onWrap) {\n                setDisabled(true)\n                onWrap().then(() => {\n                  setDisabled(false)\n                  setModalOpen(false)\n                })\n              }\n            }}>\n              {t('Claim Reward')}\n            </ButtonPrimary>\n          </BottomGrouping>\n        </>\n      )\n    }\n  }\n  return (\n    <AppBody>\n      {/* <img src=\"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBwcmVzZXJ2ZUFzcGVjdFJhdGlvPSJ4TWluWU1pbiBtZWV0IiB2aWV3Qm94PSIwIDAgMzUwIDM1MCI+PHN0eWxlPi5iYXNlIHsgZmlsbDogd2hpdGU7IGZvbnQtZmFtaWx5OiBzZXJpZjsgZm9udC1zaXplOiAxNHB4OyB9PC9zdHlsZT48ZGVmcz48cGF0dGVybiBpZD0iaW1nMSIgeD0iMCIgeT0iMCIgd2lkdGg9IjEwMCUiIGhlaWdodD0iMTAwJSI+PGltYWdlIHhsaW5rOmhyZWY9Imh0dHBzOi8vcmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbS9nYW96aGVuZ3hpbi9hc3NldHMvbWFpbi9NYXJrZXRpbmdORlQuZ2lmIiB3aWR0aD0iNDUlIiBoZWlnaHQ9IjQ1JSIgLz48L3BhdHRlcm4+PC9kZWZzPjxyZWN0IHdpZHRoPSIxMDAlIiBoZWlnaHQ9IjEwMCUiIGZpbGw9InVybCgjaW1nMSkiIC8+PHRleHQgeD0iNSIgeT0iMTUwIiBjbGFzcz0iYmFzZSI+NDwvdGV4dD48L3N2Zz4=\" />\n\n      <img src=\"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHByZXNlcnZlQXNwZWN0UmF0aW89InhNaW5ZTWluIG1lZXQiIHZpZXdCb3g9IjAgMCAzNTAgMzUwIj48c3R5bGU+LmJhc2UgeyBmaWxsOiB3aGl0ZTsgZm9udC1mYW1pbHk6IHNlcmlmOyBmb250LXNpemU6IDE0cHg7IH08L3N0eWxlPjxyZWN0IHdpZHRoPSIxMDAlIiBoZWlnaHQ9IjEwMCUiIGZpbGw9ImJsYWNrIiAvPjx0ZXh0IHg9IjEwIiB5PSIyMCIgY2xhc3M9ImJhc2UiPnRva2VuIDE0NzwvdGV4dD48dGV4dCB4PSIxMCIgeT0iNDAiIGNsYXNzPSJiYXNlIj5iYWxhbmNlT2YgMDwvdGV4dD48dGV4dCB4PSIxMCIgeT0iNjAiIGNsYXNzPSJiYXNlIj5sb2NrZWRfZW5kIDE2NTcxNTIwMDA8L3RleHQ+PHRleHQgeD0iMTAiIHk9IjgwIiBjbGFzcz0iYmFzZSI+dmFsdWUgMTAwMDAwMDAwMDAwMDAwMDAwMDwvdGV4dD48L3N2Zz4=\" /> */}\n\n      {/* <GifIon /> */}\n      <ModalContent\n        isOpen={modalOpen}\n        onDismiss={() => {\n          setClaimRewardId('')\n          setModalOpen(false)\n        }}\n        title={t('Claim Reward')}\n      >\n        {/* {rewardInfo?.id} */}\n        {ClaimView(loadingStatus)}\n      </ModalContent>\n\n      <ModalContent\n        isOpen={nftLogoModel}\n        onDismiss={() => {\n          setNftLogo('')\n          setNftLogoModel(false)\n        }}\n        title={t('NFT')}\n      >\n        <img src={nftLogo} style={{width: '100%'}} />\n      </ModalContent>\n\n      <DataViews>\n        <div className=\"list\">\n          {\n            DataList.map((item:any, index:any) => {\n              return (\n                <div className=\"item\" key={index}>\n                   <div className=\"content\">\n                    <h3 className=\"title\">{item.name}{item.question ? <QuestionHelper text={item.question} /> : ''}</h3>\n                    {\n                      item.loading ? (\n                        <p className=\"loading\">Loading..</p>\n                      ) : (\n                        <p className=\"value\">{item.value}</p>\n                      )\n                    }\n                  </div>\n                </div>\n              )\n            })\n          }\n        </div>\n      </DataViews>\n      <VestContent>\n        {\n          // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n          // @ts-ignore\n          (!chainId || !supportChainList.includes(chainId.toString())) ? (\n            <>\n              {\n                supportChainList.slice(0, 1).map((item:any, index:any) => {\n                  return <CreateLock1 key={index} onClick={() => {\n                    if (setUserSelectNetwork) {\n                      setUserSelectNetwork({\n                        chainId: config.getCurChainInfo(item).chainID,\n                        label: config.getCurChainInfo(item)?.chainType\n                      })\n                    }\n                    selectNetwork(item).then((res: any) => {\n                      console.log(res)\n                      if (res.msg === 'Error') {\n                        alert(t('changeMetamaskNetwork', {label: config.getCurChainInfo(item).networkName}))\n                      }\n                    })\n                  }}>{t('ConnectedWith') + ' ' + config.getCurChainInfo(item).name}</CreateLock1>\n                })\n              }\n            </>\n          ) : (\n            <CreateLock to={'/vest/create'}>{t('Create Lock')}</CreateLock>\n          )\n        }\n        {/* <CreateLock to={'/vest/veshare'}>{t('Claim veMULTI')}</CreateLock> */}\n      </VestContent>\n\n      <MyBalanceBox>\n        <DBTables>\n          <DBThead>\n            <tr>\n              <DBTh className=\"l\">{t('NFT ID')}</DBTh>\n              <DBTh className=\"l\">{t('Vest Amount')}</DBTh>\n              <DBTh className=\"l\">{t('Vest Value')}</DBTh>\n              <DBTh className=\"c\">{t('Vest Expires')}</DBTh>\n              <DBTh className=\"c\">{t('APR')}</DBTh>\n              <DBTh className=\"c\">{t('Action')}</DBTh>\n            </tr>\n          </DBThead>\n          <DBTbody>\n            {\n              // vestNFTs && vestNFTs.map((item:any, index:any) => {\n              nftList.length > 0 ? (\n              nftList.map((item:any, index:any) => {\n                return <tr key={index}>\n                  <DBTd>\n                    <TokenTableCoinBox>\n                      <TokenTableLogoWrapper onClick={() => {\n                        setNftLogo(item?.image)\n                        setNftLogoModel(true)\n                      }} style={{cursor: 'pointer'}}>\n                        <img src={item?.image} />\n                      </TokenTableLogoWrapper>\n                      <TokenNameBox>\n                        <h3>{item.id}</h3>\n                        {/* <p>{config.getBaseCoin(item?.name, chainId, 1)}</p> */}\n                      </TokenNameBox>\n                    </TokenTableCoinBox>\n                  </DBTd>\n                  <DBTd className=\"l\">{item.lockAmount ? thousandBit(item.lockAmount, 2) : '-'}</DBTd>\n                  <DBTd className=\"l\">{item.lockValue ? thousandBit(item.lockValue, 2) : '-'}</DBTd>\n                  <DBTd className=\"c\">{item.lockEnds ? moment.unix(item.lockEnds).format('YYYY-MM-DD') : ''}</DBTd>\n                  <DBTd className=\"l\">{item.type === 'VEDELTA' ? getUserAPR(item.lockValue, item.lockAmount) : (totalAPR ? totalAPR : '-')}</DBTd>\n                  <DBTd className=\"c\" width={'260px'}>\n                    <Flex>\n                      <TokenActionBtn2 className={item.type === 'VESHARE' ? 'disabled' : ''} to={item.type === 'VESHARE' ? \"/vest\" : \"/vest/manger?id=\" + item.index}>Manage</TokenActionBtn2>\n                      <TokenActionBtn1 onClick={() => {\n                        setClaimRewardId(item)\n                        setModalOpen(true)\n                      }}>{t('Claim')}</TokenActionBtn1>\n                      <TokenActionBtn1 disabled={parseInt(Date.now() / 1000 + '') < Number(item.lockEnds) || disabled || item.type === 'VESHARE'} onClick={() => {\n                        // console.log(rewardList)\n                        // console.log(item)\n                        const rewardCount = useVeMultiToken?.decimals && rewardList?.[item.id]?.totalReward? BigAmount.format(useVeMultiToken.decimals, rewardList[item.id].totalReward).toExact() : ''\n                        if (rewardCount && Number(rewardCount) >= 0.001) {\n                          console.log(rewardCount)\n                          alert('Please claim the reward first')\n                        } else if (\n                          !rewardList\n                          || !rewardList[item.id]\n                          || parseInt(Date.now() / 1000 + '') < Number(item.lockEnds)\n                        ) {\n                          alert('Loading')\n                        } else {\n                          const now = parseInt(Date.now() / 1000 + '')\n                          if (now >= Number(item.lockEnds)) {\n                            if (onWithdrarWrap) {\n                              // console.log(1)\n                              setDisabled(true)\n                              onWithdrarWrap(item.id).then(() => {\n                                setDisabled(false)\n                              })\n                            }\n                          }\n                        }\n                      }}>{t('Withdraw')}</TokenActionBtn1>\n                    </Flex>\n                  </DBTd>\n                </tr>\n              })):(\n                <tr>\n                  <DBTd colSpan={6} style={{ textAlign: 'center', padding: '20px', fontSize: '12px'}}>No NFTs to display.</DBTd>\n                </tr>\n              )\n            }\n          </DBTbody>\n        </DBTables>\n      </MyBalanceBox>\n    </AppBody>\n  )\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}