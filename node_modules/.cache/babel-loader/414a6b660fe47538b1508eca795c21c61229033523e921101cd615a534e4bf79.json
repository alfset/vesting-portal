{"ast":null,"code":"import{AbstractConnector}from\"@web3-react/abstract-connector\";import warning from\"tiny-warning\";// import { SendReturnResult, SendReturn, Send, SendOld } from \"./types\";\nfunction parseSendReturn(sendReturn){return sendReturn.hasOwnProperty(\"result\")?sendReturn.result:sendReturn;}export class NoBitKeepProviderError extends Error{constructor(){var _this$constructor$nam,_this$constructor;super();this.name=(_this$constructor$nam=this===null||this===void 0?void 0:(_this$constructor=this.constructor)===null||_this$constructor===void 0?void 0:_this$constructor.name)!==null&&_this$constructor$nam!==void 0?_this$constructor$nam:'';this.message=\"No BitKeep provider was found on window.bitkeep.\";}}export class UserRejectedRequestError extends Error{constructor(){var _this$constructor$nam2,_this$constructor2;super();this.name=(_this$constructor$nam2=this===null||this===void 0?void 0:(_this$constructor2=this.constructor)===null||_this$constructor2===void 0?void 0:_this$constructor2.name)!==null&&_this$constructor$nam2!==void 0?_this$constructor$nam2:'';this.message=\"The user rejected the request.\";}}export class BitKeepConnector extends AbstractConnector{constructor(kwargs){super(kwargs);this.handleNetworkChanged=this.handleNetworkChanged.bind(this);this.handleChainChanged=this.handleChainChanged.bind(this);this.handleAccountsChanged=this.handleAccountsChanged.bind(this);this.handleClose=this.handleClose.bind(this);}handleChainChanged(chainId){if(__DEV__){console.log(\"Handling 'chainChanged' event with payload\",chainId);}this.emitUpdate({chainId,provider:window.bitkeep.ethereum});}handleAccountsChanged(accounts){if(__DEV__){console.log(\"Handling 'accountsChanged' event with payload\",accounts);}if(accounts.length===0){this.emitDeactivate();}else{this.emitUpdate({account:accounts[0]});}}handleClose(code,reason){if(__DEV__){console.log(\"Handling 'close' event with payload\",code,reason);}this.emitDeactivate();}handleNetworkChanged(networkId){if(__DEV__){console.log(\"Handling 'networkChanged' event with payload\",networkId);}this.emitUpdate({chainId:networkId,provider:window.bitkeep.ethereum});}async activate(){var _window,_window$bitkeep,_window6,_window6$bitkeep,_window10,_window10$bitkeep;if(!((_window=window)===null||_window===void 0?void 0:(_window$bitkeep=_window.bitkeep)===null||_window$bitkeep===void 0?void 0:_window$bitkeep.ethereum)){throw new NoBitKeepProviderError();}if(window.bitkeep.ethereum.on){var _window2,_window2$bitkeep,_window3,_window3$bitkeep,_window4,_window4$bitkeep,_window5,_window5$bitkeep;(_window2=window)===null||_window2===void 0?void 0:(_window2$bitkeep=_window2.bitkeep)===null||_window2$bitkeep===void 0?void 0:_window2$bitkeep.ethereum.on(\"chainChanged\",this.handleChainChanged);(_window3=window)===null||_window3===void 0?void 0:(_window3$bitkeep=_window3.bitkeep)===null||_window3$bitkeep===void 0?void 0:_window3$bitkeep.ethereum.on(\"accountsChanged\",this.handleAccountsChanged);(_window4=window)===null||_window4===void 0?void 0:(_window4$bitkeep=_window4.bitkeep)===null||_window4$bitkeep===void 0?void 0:_window4$bitkeep.ethereum.on(\"close\",this.handleClose);(_window5=window)===null||_window5===void 0?void 0:(_window5$bitkeep=_window5.bitkeep)===null||_window5$bitkeep===void 0?void 0:_window5$bitkeep.ethereum.on(\"networkChanged\",this.handleNetworkChanged);}if(((_window6=window)===null||_window6===void 0?void 0:(_window6$bitkeep=_window6.bitkeep)===null||_window6$bitkeep===void 0?void 0:_window6$bitkeep.ethereum).isMetaMask){var _window7,_window7$bitkeep;((_window7=window)===null||_window7===void 0?void 0:(_window7$bitkeep=_window7.bitkeep)===null||_window7$bitkeep===void 0?void 0:_window7$bitkeep.ethereum).autoRefreshOnNetworkChange=false;}// try to activate + get account via eth_requestAccounts\nlet account;try{var _window8,_window8$bitkeep;account=await((_window8=window)===null||_window8===void 0?void 0:(_window8$bitkeep=_window8.bitkeep)===null||_window8$bitkeep===void 0?void 0:_window8$bitkeep.ethereum.send)(\"eth_requestAccounts\").then(sendReturn=>parseSendReturn(sendReturn)[0]);}catch(error){if(error.code===4001){throw new UserRejectedRequestError();}warning(false,\"eth_requestAccounts was unsuccessful, falling back to enable\");}// if unsuccessful, try enable\nif(!account){var _window9,_window9$bitkeep;// if enable is successful but doesn't return accounts, fall back to getAccount (not happy i have to do this...)\naccount=await((_window9=window)===null||_window9===void 0?void 0:(_window9$bitkeep=_window9.bitkeep)===null||_window9$bitkeep===void 0?void 0:_window9$bitkeep.ethereum.enable().then(sendReturn=>sendReturn&&parseSendReturn(sendReturn)[0]));}return{provider:(_window10=window)===null||_window10===void 0?void 0:(_window10$bitkeep=_window10.bitkeep)===null||_window10$bitkeep===void 0?void 0:_window10$bitkeep.ethereum,...(account?{account}:{})};}async getProvider(){var _window11,_window11$bitkeep;return(_window11=window)===null||_window11===void 0?void 0:(_window11$bitkeep=_window11.bitkeep)===null||_window11$bitkeep===void 0?void 0:_window11$bitkeep.ethereum;}async getChainId(){var _window12,_window12$bitkeep;if(!((_window12=window)===null||_window12===void 0?void 0:(_window12$bitkeep=_window12.bitkeep)===null||_window12$bitkeep===void 0?void 0:_window12$bitkeep.ethereum)){throw new NoBitKeepProviderError();}let chainId;try{var _window13,_window13$bitkeep;chainId=await((_window13=window)===null||_window13===void 0?void 0:(_window13$bitkeep=_window13.bitkeep)===null||_window13$bitkeep===void 0?void 0:_window13$bitkeep.ethereum.send)(\"eth_chainId\").then(parseSendReturn);}catch{warning(false,\"eth_chainId was unsuccessful, falling back to net_version\");}if(!chainId){try{var _window14,_window14$bitkeep;// window?.bitkeep?.ethereum.send('net_version').then((res:any) => {\n//   console.log(res)\n// })\n// chainId = await (window?.bitkeep?.ethereum.send as Send)(\"net_version\").then(\n//   parseSendReturn\n// );\nchainId=await((_window14=window)===null||_window14===void 0?void 0:(_window14$bitkeep=_window14.bitkeep)===null||_window14$bitkeep===void 0?void 0:_window14$bitkeep.ethereum.send('net_version'));}catch{warning(false,\"net_version was unsuccessful, falling back to net version v2\");}}if(!chainId){try{var _window15,_window15$bitkeep;// chainId = parseSendReturn(\n//   (window?.bitkeep?.ethereum.send as any)({ method: \"net_version\" })\n// );\nchainId=await((_window15=window)===null||_window15===void 0?void 0:(_window15$bitkeep=_window15.bitkeep)===null||_window15$bitkeep===void 0?void 0:_window15$bitkeep.ethereum.send('net_version'));}catch{warning(false,\"net_version v2 was unsuccessful, falling back to manual matches and static properties\");}}if(!chainId){var _window16,_window16$bitkeep;if(((_window16=window)===null||_window16===void 0?void 0:(_window16$bitkeep=_window16.bitkeep)===null||_window16$bitkeep===void 0?void 0:_window16$bitkeep.ethereum).isDapper){var _window17,_window17$bitkeep;chainId=parseSendReturn(((_window17=window)===null||_window17===void 0?void 0:(_window17$bitkeep=_window17.bitkeep)===null||_window17$bitkeep===void 0?void 0:_window17$bitkeep.ethereum).cachedResults.net_version);}else{var _window18,_window18$bitkeep,_window19,_window19$bitkeep,_window20,_window20$bitkeep,_window21,_window21$bitkeep;chainId=((_window18=window)===null||_window18===void 0?void 0:(_window18$bitkeep=_window18.bitkeep)===null||_window18$bitkeep===void 0?void 0:_window18$bitkeep.ethereum).chainId||((_window19=window)===null||_window19===void 0?void 0:(_window19$bitkeep=_window19.bitkeep)===null||_window19$bitkeep===void 0?void 0:_window19$bitkeep.ethereum).netVersion||((_window20=window)===null||_window20===void 0?void 0:(_window20$bitkeep=_window20.bitkeep)===null||_window20$bitkeep===void 0?void 0:_window20$bitkeep.ethereum).networkVersion||((_window21=window)===null||_window21===void 0?void 0:(_window21$bitkeep=_window21.bitkeep)===null||_window21$bitkeep===void 0?void 0:_window21$bitkeep.ethereum)._chainId;}}return chainId;}async getAccount(){var _window22,_window22$bitkeep;if(!((_window22=window)===null||_window22===void 0?void 0:(_window22$bitkeep=_window22.bitkeep)===null||_window22$bitkeep===void 0?void 0:_window22$bitkeep.ethereum)){throw new NoBitKeepProviderError();}let account;try{var _window23,_window23$bitkeep;// account = await (window?.bitkeep?.ethereum.send as Send)(\"eth_accounts\").then(\n//   (sendReturn) => parseSendReturn(sendReturn)[0]\n// );\naccount=await((_window23=window)===null||_window23===void 0?void 0:(_window23$bitkeep=_window23.bitkeep)===null||_window23$bitkeep===void 0?void 0:_window23$bitkeep.ethereum.send('eth_accounts'));}catch{warning(false,\"eth_accounts was unsuccessful, falling back to enable\");}if(!account){try{var _window24,_window24$bitkeep;account=await((_window24=window)===null||_window24===void 0?void 0:(_window24$bitkeep=_window24.bitkeep)===null||_window24$bitkeep===void 0?void 0:_window24$bitkeep.ethereum.enable().then(sendReturn=>parseSendReturn(sendReturn)[0]));}catch{warning(false,\"enable was unsuccessful, falling back to eth_accounts v2\");}}if(!account){var _window25,_window25$bitkeep;account=parseSendReturn(((_window25=window)===null||_window25===void 0?void 0:(_window25$bitkeep=_window25.bitkeep)===null||_window25$bitkeep===void 0?void 0:_window25$bitkeep.ethereum.send)({method:\"eth_accounts\"}))[0];}return account;}deactivate(){var _window26,_window26$bitkeep,_window27,_window27$bitkeep;if(((_window26=window)===null||_window26===void 0?void 0:(_window26$bitkeep=_window26.bitkeep)===null||_window26$bitkeep===void 0?void 0:_window26$bitkeep.ethereum)&&((_window27=window)===null||_window27===void 0?void 0:(_window27$bitkeep=_window27.bitkeep)===null||_window27$bitkeep===void 0?void 0:_window27$bitkeep.ethereum.removeListener)){var _window28,_window28$bitkeep,_window29,_window29$bitkeep,_window30,_window30$bitkeep,_window31,_window31$bitkeep;(_window28=window)===null||_window28===void 0?void 0:(_window28$bitkeep=_window28.bitkeep)===null||_window28$bitkeep===void 0?void 0:_window28$bitkeep.ethereum.removeListener(\"chainChanged\",this.handleChainChanged);(_window29=window)===null||_window29===void 0?void 0:(_window29$bitkeep=_window29.bitkeep)===null||_window29$bitkeep===void 0?void 0:_window29$bitkeep.ethereum.removeListener(\"accountsChanged\",this.handleAccountsChanged);(_window30=window)===null||_window30===void 0?void 0:(_window30$bitkeep=_window30.bitkeep)===null||_window30$bitkeep===void 0?void 0:_window30$bitkeep.ethereum.removeListener(\"close\",this.handleClose);(_window31=window)===null||_window31===void 0?void 0:(_window31$bitkeep=_window31.bitkeep)===null||_window31$bitkeep===void 0?void 0:_window31$bitkeep.ethereum.removeListener(\"networkChanged\",this.handleNetworkChanged);}}async isAuthorized(){var _window32,_window32$bitkeep;if(!((_window32=window)===null||_window32===void 0?void 0:(_window32$bitkeep=_window32.bitkeep)===null||_window32$bitkeep===void 0?void 0:_window32$bitkeep.ethereum)){return false;}try{var _window33,_window33$bitkeep;return await((_window33=window)===null||_window33===void 0?void 0:(_window33$bitkeep=_window33.bitkeep)===null||_window33$bitkeep===void 0?void 0:_window33$bitkeep.ethereum.send)(\"eth_accounts\").then(sendReturn=>{if(parseSendReturn(sendReturn).length>0){return true;}else{return false;}});}catch{return false;}}}","map":{"version":3,"names":["AbstractConnector","warning","parseSendReturn","sendReturn","hasOwnProperty","result","NoBitKeepProviderError","Error","constructor","_this$constructor$nam","_this$constructor","name","message","UserRejectedRequestError","_this$constructor$nam2","_this$constructor2","BitKeepConnector","kwargs","handleNetworkChanged","bind","handleChainChanged","handleAccountsChanged","handleClose","chainId","__DEV__","console","log","emitUpdate","provider","window","bitkeep","ethereum","accounts","length","emitDeactivate","account","code","reason","networkId","activate","_window","_window$bitkeep","_window6","_window6$bitkeep","_window10","_window10$bitkeep","on","_window2","_window2$bitkeep","_window3","_window3$bitkeep","_window4","_window4$bitkeep","_window5","_window5$bitkeep","isMetaMask","_window7","_window7$bitkeep","autoRefreshOnNetworkChange","_window8","_window8$bitkeep","send","then","error","_window9","_window9$bitkeep","enable","getProvider","_window11","_window11$bitkeep","getChainId","_window12","_window12$bitkeep","_window13","_window13$bitkeep","_window14","_window14$bitkeep","_window15","_window15$bitkeep","_window16","_window16$bitkeep","isDapper","_window17","_window17$bitkeep","cachedResults","net_version","_window18","_window18$bitkeep","_window19","_window19$bitkeep","_window20","_window20$bitkeep","_window21","_window21$bitkeep","netVersion","networkVersion","_chainId","getAccount","_window22","_window22$bitkeep","_window23","_window23$bitkeep","_window24","_window24$bitkeep","_window25","_window25$bitkeep","method","deactivate","_window26","_window26$bitkeep","_window27","_window27$bitkeep","removeListener","_window28","_window28$bitkeep","_window29","_window29$bitkeep","_window30","_window30$bitkeep","_window31","_window31$bitkeep","isAuthorized","_window32","_window32$bitkeep","_window33","_window33$bitkeep"],"sources":["/workspace/Planq-Dapps/vesting-portal/src/connectors/bitkeep/index.ts"],"sourcesContent":["import { AbstractConnectorArguments, ConnectorUpdate } from \"@web3-react/types\";\nimport { AbstractConnector } from \"@web3-react/abstract-connector\";\nimport warning from \"tiny-warning\";\n\n// import { SendReturnResult, SendReturn, Send, SendOld } from \"./types\";\nexport type SendReturnResult = { result: any }\nexport type SendReturn = any\n\nexport type Send = (method: string, params?: any[]) => Promise<SendReturnResult | SendReturn>\nexport type SendOld = ({ method }: { method: string }) => Promise<SendReturnResult | SendReturn>\n\nfunction parseSendReturn(sendReturn: SendReturnResult | SendReturn): any {\n  return sendReturn.hasOwnProperty(\"result\") ? sendReturn.result : sendReturn;\n}\n\nexport class NoBitKeepProviderError extends Error {\n  public constructor() {\n    super();\n    this.name = this?.constructor?.name ?? '';\n    this.message = \"No BitKeep provider was found on window.bitkeep.\";\n  }\n}\n\nexport class UserRejectedRequestError extends Error {\n  public constructor() {\n    super();\n    this.name = this?.constructor?.name ?? '';\n    this.message = \"The user rejected the request.\";\n  }\n}\n\nexport class BitKeepConnector extends AbstractConnector {\n  constructor(kwargs: AbstractConnectorArguments) {\n    super(kwargs);\n\n    this.handleNetworkChanged = this.handleNetworkChanged.bind(this);\n    this.handleChainChanged = this.handleChainChanged.bind(this);\n    this.handleAccountsChanged = this.handleAccountsChanged.bind(this);\n    this.handleClose = this.handleClose.bind(this);\n  }\n\n  private handleChainChanged(chainId: string | number): void {\n    if (__DEV__) {\n      console.log(\"Handling 'chainChanged' event with payload\", chainId);\n    }\n    this.emitUpdate({ chainId, provider: window.bitkeep.ethereum });\n  }\n\n  private handleAccountsChanged(accounts: string[]): void {\n    if (__DEV__) {\n      console.log(\"Handling 'accountsChanged' event with payload\", accounts);\n    }\n    if (accounts.length === 0) {\n      this.emitDeactivate();\n    } else {\n      this.emitUpdate({ account: accounts[0] });\n    }\n  }\n\n  private handleClose(code: number, reason: string): void {\n    if (__DEV__) {\n      console.log(\"Handling 'close' event with payload\", code, reason);\n    }\n    this.emitDeactivate();\n  }\n\n  private handleNetworkChanged(networkId: string | number): void {\n    if (__DEV__) {\n      console.log(\"Handling 'networkChanged' event with payload\", networkId);\n    }\n    this.emitUpdate({ chainId: networkId, provider: window.bitkeep.ethereum });\n  }\n\n  public async activate(): Promise<ConnectorUpdate> {\n    if (!window?.bitkeep?.ethereum) {\n      throw new NoBitKeepProviderError();\n    }\n\n    if (window.bitkeep.ethereum.on) {\n      window?.bitkeep?.ethereum.on(\"chainChanged\", this.handleChainChanged);\n      window?.bitkeep?.ethereum.on(\"accountsChanged\", this.handleAccountsChanged);\n      window?.bitkeep?.ethereum.on(\"close\", this.handleClose);\n      window?.bitkeep?.ethereum.on(\"networkChanged\", this.handleNetworkChanged);\n    }\n\n    if ((window?.bitkeep?.ethereum as any).isMetaMask) {\n      (window?.bitkeep?.ethereum as any).autoRefreshOnNetworkChange = false;\n    }\n\n    // try to activate + get account via eth_requestAccounts\n    let account;\n    try {\n      account = await (window?.bitkeep?.ethereum.send as Send)(\n        \"eth_requestAccounts\"\n      ).then((sendReturn) => parseSendReturn(sendReturn)[0]);\n    } catch (error) {\n      if ((error as any).code === 4001) {\n        throw new UserRejectedRequestError();\n      }\n      warning(\n        false,\n        \"eth_requestAccounts was unsuccessful, falling back to enable\"\n      );\n    }\n\n    // if unsuccessful, try enable\n    if (!account) {\n      // if enable is successful but doesn't return accounts, fall back to getAccount (not happy i have to do this...)\n      account = await window?.bitkeep?.ethereum.enable().then(\n        (sendReturn:any) => sendReturn && parseSendReturn(sendReturn)[0]\n      );\n    }\n\n    return { provider: window?.bitkeep?.ethereum, ...(account ? { account } : {}) };\n  }\n\n  public async getProvider(): Promise<any> {\n    return window?.bitkeep?.ethereum;\n  }\n\n  public async getChainId(): Promise<number | string> {\n    if (!window?.bitkeep?.ethereum) {\n      throw new NoBitKeepProviderError();\n    }\n\n    let chainId;\n    try {\n      chainId = await (window?.bitkeep?.ethereum.send as Send)(\"eth_chainId\").then(\n        parseSendReturn\n      );\n    } catch {\n      warning(\n        false,\n        \"eth_chainId was unsuccessful, falling back to net_version\"\n      );\n    }\n\n    if (!chainId) {\n      try {\n        // window?.bitkeep?.ethereum.send('net_version').then((res:any) => {\n        //   console.log(res)\n        // })\n        // chainId = await (window?.bitkeep?.ethereum.send as Send)(\"net_version\").then(\n        //   parseSendReturn\n        // );\n        chainId = await window?.bitkeep?.ethereum.send('net_version')\n      } catch {\n        warning(\n          false,\n          \"net_version was unsuccessful, falling back to net version v2\"\n        );\n      }\n    }\n\n    if (!chainId) {\n      try {\n        // chainId = parseSendReturn(\n        //   (window?.bitkeep?.ethereum.send as any)({ method: \"net_version\" })\n        // );\n        chainId = await window?.bitkeep?.ethereum.send('net_version')\n      } catch {\n        warning(\n          false,\n          \"net_version v2 was unsuccessful, falling back to manual matches and static properties\"\n        );\n      }\n    }\n\n    if (!chainId) {\n      if ((window?.bitkeep?.ethereum as any).isDapper) {\n        chainId = parseSendReturn(\n          (window?.bitkeep?.ethereum as any).cachedResults.net_version\n        );\n      } else {\n        chainId =\n          (window?.bitkeep?.ethereum as any).chainId ||\n          (window?.bitkeep?.ethereum as any).netVersion ||\n          (window?.bitkeep?.ethereum as any).networkVersion ||\n          (window?.bitkeep?.ethereum as any)._chainId;\n      }\n    }\n\n    return chainId;\n  }\n\n  public async getAccount(): Promise<null | string> {\n    if (!window?.bitkeep?.ethereum) {\n      throw new NoBitKeepProviderError();\n    }\n\n    let account;\n    try {\n      // account = await (window?.bitkeep?.ethereum.send as Send)(\"eth_accounts\").then(\n      //   (sendReturn) => parseSendReturn(sendReturn)[0]\n      // );\n      account = await window?.bitkeep?.ethereum.send('eth_accounts')\n    } catch {\n      warning(false, \"eth_accounts was unsuccessful, falling back to enable\");\n    }\n\n    if (!account) {\n      try {\n        account = await window?.bitkeep?.ethereum.enable().then(\n          (sendReturn:any) => parseSendReturn(sendReturn)[0]\n        );\n      } catch {\n        warning(\n          false,\n          \"enable was unsuccessful, falling back to eth_accounts v2\"\n        );\n      }\n    }\n\n    if (!account) {\n      account = parseSendReturn(\n        (window?.bitkeep?.ethereum.send as SendOld)({ method: \"eth_accounts\" })\n      )[0];\n    }\n\n    return account;\n  }\n\n  public deactivate() {\n    if (window?.bitkeep?.ethereum && window?.bitkeep?.ethereum.removeListener) {\n      window?.bitkeep?.ethereum.removeListener(\n        \"chainChanged\",\n        this.handleChainChanged\n      );\n      window?.bitkeep?.ethereum.removeListener(\n        \"accountsChanged\",\n        this.handleAccountsChanged\n      );\n      window?.bitkeep?.ethereum.removeListener(\"close\", this.handleClose);\n      window?.bitkeep?.ethereum.removeListener(\n        \"networkChanged\",\n        this.handleNetworkChanged\n      );\n    }\n  }\n\n  public async isAuthorized(): Promise<boolean> {\n    if (!window?.bitkeep?.ethereum) {\n      return false;\n    }\n\n    try {\n      return await (window?.bitkeep?.ethereum.send as Send)(\"eth_accounts\").then(\n        (sendReturn) => {\n          if (parseSendReturn(sendReturn).length > 0) {\n            return true;\n          } else {\n            return false;\n          }\n        }\n      );\n    } catch {\n      return false;\n    }\n  }\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}