{"ast":null,"code":"import{useCallback,useEffect,useState,useMemo}from'react';import{useDispatch,useSelector}from'react-redux';import{// nftlist,\nnftlistinfo}from'./actions';import JSBI from'jsbi';// import axios from 'axios'\nimport{useActiveWeb3React}from'../../hooks';import{useMulticallContract}from'../../hooks/useContract';// import { useNFTContract, useNFT721Contract } from './useContract'\nimport ERC721_INTERFACE from'../../constants/abis/bridge/erc721';import ERC1155_INTERFACE from'../../constants/abis/bridge/erc1155';import{getNftlist,isSupportIndexedDB}from'../../utils/indexedDB';import{getAllNftImage}from'../../utils/getNFTimage';import useInterval from'../../hooks/useInterval';export let ERC_TYPE=/*#__PURE__*/function(ERC_TYPE){ERC_TYPE[\"erc1155\"]=\"erc1155\";ERC_TYPE[\"erc721\"]=\"erc721\";return ERC_TYPE;}({});export function useNftListState(chainId){const lists=useSelector(state=>state.nft.nftlist);// console.log(lists)\nconst updateNftlistTime=useSelector(state=>state.nft.updateNftlistTime);// console.log(updateTokenlistTime)\nconst[tokenlist,setTokenlist]=useState({});const getCurTokenlist=useCallback(()=>{// console.log(chainId)\nif(isSupportIndexedDB){getNftlist(chainId).then(res=>{// console.log(res)\nif(res===null||res===void 0?void 0:res.tokenList){setTokenlist(res.tokenList);}else{var _lists$chainId;let current=(_lists$chainId=lists[chainId])===null||_lists$chainId===void 0?void 0:_lists$chainId.tokenList;if(!current)current={};setTokenlist(current);}});}else{var _lists$chainId2;let current=(_lists$chainId2=lists[chainId])===null||_lists$chainId2===void 0?void 0:_lists$chainId2.tokenList;if(!current)current={};setTokenlist(current);}},[chainId,updateNftlistTime]);useEffect(()=>{getCurTokenlist();},[getCurTokenlist,chainId,updateNftlistTime]);return tokenlist;}export function useNftState(){const{chainId,account}=useActiveWeb3React();const list=useSelector(state=>state.nft.nftlist);// eslint-disable-next-line @typescript-eslint/ban-ts-comment\n// @ts-ignore\nif(!chainId||!account||!list[chainId]||!list[chainId][account])return{};// eslint-disable-next-line @typescript-eslint/ban-ts-comment\n// @ts-ignore\nreturn list[chainId][account];}export function useNftInfo(){const{chainId}=useActiveWeb3React();const list=useSelector(state=>state.nft.nftlistinfo);// eslint-disable-next-line @typescript-eslint/ban-ts-comment\n// @ts-ignore\nif(!chainId||!list[chainId]||!list[chainId]||!list[chainId].tokenList)return{};// eslint-disable-next-line @typescript-eslint/ban-ts-comment\n// @ts-ignore\nreturn list[chainId].tokenList;}export function useNFT721GetAllTokenidListCallback(tokenList){const{chainId,account}=useActiveWeb3React();// const { chainId, library } = useActiveWeb3React()\n// const account = '0xcFA97Fb420fF5A0F8F5b5400a0fC5a94F3eaEc87'\nconst multicallContract=useMulticallContract();const dispatch=useDispatch();const tokenidInfo=useNftState();const nftInfo=useNftInfo();// console.log(nftInfo)\n// const [tokenidList, setTokenidList] = useState<any>()\nconst[tokenidArr,setTokenidArr]=useState();const[imageList,setImageList]=useState();// const fragmentTURI:any = ERC721_INTERFACE?.getFunction('tokenURI')\nconst fragmentTURI=useMemo(()=>ERC721_INTERFACE===null||ERC721_INTERFACE===void 0?void 0:ERC721_INTERFACE.getFunction('tokenURI'),[ERC721_INTERFACE]);const callsTURI=useMemo(()=>{const arr=[];if(tokenidArr&&ERC721_INTERFACE&&tokenidArr.length>0){for(let i=0;i<tokenidArr.length;i++){var _nftInfo$tokenidArr$i,_nftInfo$tokenidArr$i2;if(Boolean(nftInfo===null||nftInfo===void 0?void 0:(_nftInfo$tokenidArr$i=nftInfo[tokenidArr[i].token])===null||_nftInfo$tokenidArr$i===void 0?void 0:(_nftInfo$tokenidArr$i2=_nftInfo$tokenidArr$i[tokenidArr[i].tokenid])===null||_nftInfo$tokenidArr$i2===void 0?void 0:_nftInfo$tokenidArr$i2.image))continue;arr.push({address:tokenidArr[i].token,callData:ERC721_INTERFACE===null||ERC721_INTERFACE===void 0?void 0:ERC721_INTERFACE.encodeFunctionData(fragmentTURI,[tokenidArr[i].tokenid]),tokenid:tokenidArr[i].tokenid});}}return arr;},[ERC721_INTERFACE,tokenidArr]);useEffect(()=>{if(imageList){const arr=[];const arr1=[];for(const obj of imageList){var _nftInfo$obj$token,_nftInfo$obj$token$ob;if(Boolean(nftInfo===null||nftInfo===void 0?void 0:(_nftInfo$obj$token=nftInfo[obj.token])===null||_nftInfo$obj$token===void 0?void 0:(_nftInfo$obj$token$ob=_nftInfo$obj$token[obj.tokenid])===null||_nftInfo$obj$token$ob===void 0?void 0:_nftInfo$obj$token$ob.image))continue;if(obj.uri){arr.push(obj.uri);arr1.push(obj);}}// console.log(arr)\nif(arr.length>0){getAllNftImage(arr).then(res=>{// console.log(res)\nconst list={};for(let i=0;i<arr1.length;i++){const tokenid=arr1[i].tokenid;const token=arr1[i].token;if(!list[token])list[token]={};list[token][tokenid]={...(nftInfo[token]&&nftInfo[token][tokenid]?nftInfo[token][tokenid]:{}),...res[i]};}dispatch(nftlistinfo({chainId,tokenList:list}));});}}},[imageList,chainId]);useEffect(()=>{if(multicallContract&&callsTURI.length>0){multicallContract.aggregate(callsTURI.map(obj=>[obj.address,obj.callData])).then(res=>{const arr=[];const list={};for(let i=0;i<callsTURI.length;i++){const obj=res.returnData[i];const tokenid=callsTURI[i].tokenid;const token=callsTURI[i].address;const uri=ERC721_INTERFACE===null||ERC721_INTERFACE===void 0?void 0:ERC721_INTERFACE.decodeFunctionResult(fragmentTURI,obj)[0];arr.push({uri:uri,tokenid:tokenid,token:token});if(!list[token])list[token]={};list[token][tokenid]={...(tokenidInfo[token]&&tokenidInfo[token][tokenid]?tokenidInfo[token][tokenid]:{}),uri:uri};}setImageList(arr);}).catch(err=>{console.log(err);});}},[multicallContract,callsTURI]);// useEffect(() => {\nconst getTokenIdByIndex=useCallback(tokenidList=>{if(multicallContract){const calls=[];const fragment=ERC721_INTERFACE.getFunction('tokenOfOwnerByIndex');for(const token in tokenidList){var _tokenidList$token;const index=((_tokenidList$token=tokenidList[token])===null||_tokenidList$token===void 0?void 0:_tokenidList$token.balance)?Number(tokenidList[token].balance):0;if(index>0){for(let i=0;i<index;i++){// console.log(i)\ncalls.push([token,ERC721_INTERFACE===null||ERC721_INTERFACE===void 0?void 0:ERC721_INTERFACE.encodeFunctionData(fragment,[account,i])]);}}}multicallContract.aggregate(calls).then(res=>{const list={};const arr=[];for(let i=0,len=res.returnData.length;i<len;i++){const obj=res.returnData[i];const tokenid=ERC721_INTERFACE===null||ERC721_INTERFACE===void 0?void 0:ERC721_INTERFACE.decodeFunctionResult(fragment,obj)[0].toString();const token=calls[i][0];if(!list[token])list[token]={};list[token][tokenid]={...(tokenidInfo[token]&&tokenidInfo[token][tokenid]?tokenidInfo[token][tokenid]:{})};arr.push({token:token,tokenid:tokenid});}// console.log(list)\nsetTokenidArr(arr);}).catch(err=>{console.log(err);});}},[multicallContract,chainId,account]);const getTokenidList=useCallback(()=>{if(multicallContract&&account){const cList=[];const callBLData=ERC721_INTERFACE.encodeFunctionData(ERC721_INTERFACE.getFunction('balanceOf'),[account]);for(const tokenKey in tokenList){const obj=tokenList[tokenKey];if(obj.nfttype===ERC_TYPE.erc1155)continue;cList.push([obj.address,callBLData]);}multicallContract.aggregate(cList).then(res=>{const list={};for(let i=0,len=res.returnData.length;i<len;i++){list[cList[i][0]]={balance:res.returnData[i]==='0x'?'':JSBI.BigInt(res.returnData[i]).toString()};}console.log(list);getTokenIdByIndex(list);});}},[multicallContract,account,chainId,tokenList]);// useEffect(() => {\n//   if (!library || !chainId) return undefined\n//   library.on('block', getTokenidList)\n//   return () => {\n//     library.removeListener('block', getTokenidList)\n//   }\n// }, [account, chainId, library, getTokenidList, tokenList])\nuseEffect(()=>{getTokenidList();},[account,chainId]);useInterval(getTokenidList,1000*10);// return tokenidInfo\nreturn useMemo(()=>{const list={};if(tokenidArr){for(const obj of tokenidArr){list[obj.token]={...(list[obj.token]?list[obj.token]:{}),[obj.tokenid]:{...(tokenidInfo[obj.token]&&tokenidInfo[obj.token][obj.tokenid]?tokenidInfo[obj.token][obj.tokenid]:{})}};}}return list;},[tokenidArr,tokenidInfo,account]);}export function useNFT1155GetAllTokenidListCallback(tokenlist){const{chainId,account,library}=useActiveWeb3React();// const contract = useNFT1155Contract(selectCurrency)\nconst multicallContract=useMulticallContract();const[tokenidInfo1155,setTokenidInfo1155]=useState();// const dispatch = useDispatch<AppDispatch>()\nconst callBLData=useMemo(()=>{const arr=[];if(ERC1155_INTERFACE&&account&&tokenlist){for(const tokenKey in tokenlist){const obj=tokenlist[tokenKey];const token=obj.address;if(obj.nfttype===ERC_TYPE.erc1155){const list=obj.tokenidList;for(const tokenid in list){// console.log(tokenid)\narr.push({address:token,tokenid,callData:ERC721_INTERFACE===null||ERC721_INTERFACE===void 0?void 0:ERC721_INTERFACE.encodeFunctionData(ERC1155_INTERFACE.getFunction('balanceOf'),[account,tokenid])});}}}}return arr;},[ERC1155_INTERFACE,account,tokenlist]);const getTokenidList=useCallback(()=>{if(multicallContract&&callBLData&&callBLData.length>0){multicallContract.aggregate(callBLData.map(obj=>[obj.address,obj.callData])).then(res=>{// console.log(res)\n// for (const obj of res.returnData) {\nconst len=res.returnData.length;const list={};for(let i=0;i<len;i++){const obj=callBLData[i];if(!list[obj.address])list[obj.address]={};list[obj.address][obj.tokenid]={...tokenlist[obj.address].tokenidList[obj.tokenid],balance:JSBI.BigInt(res.returnData[i]).toString()};}// console.log(list)\nsetTokenidInfo1155(list);}).catch(err=>{console.log(err);setTokenidInfo1155({});});}},[multicallContract,callBLData]);useEffect(()=>{if(!library||!chainId)return undefined;console.log(tokenlist);// getTokenidList()\nlibrary.getBlockNumber().then(getTokenidList).catch(error=>console.error(\"Failed to get block number for chainId: \".concat(chainId),error));library.on('block',getTokenidList);return()=>{library.removeListener('block',getTokenidList);};},[library,getTokenidList]);return tokenidInfo1155;}","map":{"version":3,"names":["useCallback","useEffect","useState","useMemo","useDispatch","useSelector","nftlistinfo","JSBI","useActiveWeb3React","useMulticallContract","ERC721_INTERFACE","ERC1155_INTERFACE","getNftlist","isSupportIndexedDB","getAllNftImage","useInterval","ERC_TYPE","useNftListState","chainId","lists","state","nft","nftlist","updateNftlistTime","tokenlist","setTokenlist","getCurTokenlist","then","res","tokenList","_lists$chainId","current","_lists$chainId2","useNftState","account","list","useNftInfo","useNFT721GetAllTokenidListCallback","multicallContract","dispatch","tokenidInfo","nftInfo","tokenidArr","setTokenidArr","imageList","setImageList","fragmentTURI","getFunction","callsTURI","arr","length","i","_nftInfo$tokenidArr$i","_nftInfo$tokenidArr$i2","Boolean","token","tokenid","image","push","address","callData","encodeFunctionData","arr1","obj","_nftInfo$obj$token","_nftInfo$obj$token$ob","uri","aggregate","map","returnData","decodeFunctionResult","catch","err","console","log","getTokenIdByIndex","tokenidList","calls","fragment","_tokenidList$token","index","balance","Number","len","toString","getTokenidList","cList","callBLData","tokenKey","nfttype","erc1155","BigInt","useNFT1155GetAllTokenidListCallback","library","tokenidInfo1155","setTokenidInfo1155","undefined","getBlockNumber","error","concat","on","removeListener"],"sources":["/workspace/Planq-Dapps/vesting-portal/src/state/nft/hooks.ts"],"sourcesContent":["import { useCallback, useEffect, useState, useMemo } from 'react'\nimport { useDispatch, useSelector } from 'react-redux'\nimport { AppDispatch, AppState } from '../index'\nimport {\n  // nftlist,\n  nftlistinfo\n} from './actions'\n\nimport JSBI from 'jsbi'\n// import axios from 'axios'\nimport { useActiveWeb3React } from '../../hooks'\nimport { useMulticallContract } from '../../hooks/useContract'\n// import { useNFTContract, useNFT721Contract } from './useContract'\nimport ERC721_INTERFACE from '../../constants/abis/bridge/erc721'\nimport ERC1155_INTERFACE from '../../constants/abis/bridge/erc1155'\nimport {getNftlist, isSupportIndexedDB} from '../../utils/indexedDB'\nimport {getAllNftImage} from '../../utils/getNFTimage'\nimport useInterval from '../../hooks/useInterval'\n\nexport enum ERC_TYPE {\n  erc1155 = 'erc1155',\n  erc721 = 'erc721'\n}\n\nexport function useNftListState(chainId?:any): any {\n  const lists:any = useSelector<AppState, AppState['nft']>(state => state.nft.nftlist)\n  // console.log(lists)\n  const updateNftlistTime:any = useSelector<AppState, AppState['nft']>(state => state.nft.updateNftlistTime)\n  // console.log(updateTokenlistTime)\n  const [tokenlist, setTokenlist] = useState<any>({})\n  const getCurTokenlist = useCallback(() => {\n    // console.log(chainId)\n    if (isSupportIndexedDB) {\n      getNftlist(chainId).then((res:any) => {\n        // console.log(res)\n        if (res?.tokenList) {\n          setTokenlist(res.tokenList)\n        } else {\n          let current = lists[chainId]?.tokenList\n          if (!current) current = {}\n          setTokenlist(current)\n        }\n      })\n    } else {\n      let current = lists[chainId]?.tokenList\n      if (!current) current = {}\n      setTokenlist(current)\n    }\n  }, [chainId, updateNftlistTime])\n\n  useEffect(() => {\n    getCurTokenlist()\n  }, [getCurTokenlist, chainId, updateNftlistTime])\n\n  return tokenlist\n}\n\nexport function useNftState(): any {\n  const { chainId, account } = useActiveWeb3React()\n  const list:any = useSelector<AppState, AppState['nft']>(state => state.nft.nftlist)\n  // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n  // @ts-ignore\n  if (!chainId || !account || !list[chainId] || !list[chainId][account]) return {}\n// eslint-disable-next-line @typescript-eslint/ban-ts-comment\n  // @ts-ignore\n  return list[chainId][account]\n}\nexport function useNftInfo(): any {\n  const { chainId } = useActiveWeb3React()\n  const list:any = useSelector<AppState, AppState['nft']>(state => state.nft.nftlistinfo)\n  // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n  // @ts-ignore\n  if (!chainId || !list[chainId] || !list[chainId] || !list[chainId].tokenList) return {}\n// eslint-disable-next-line @typescript-eslint/ban-ts-comment\n  // @ts-ignore\n  return list[chainId].tokenList\n}\n\nexport function useNFT721GetAllTokenidListCallback(\n  tokenList: any\n) {\n  const { chainId, account } = useActiveWeb3React()\n  // const { chainId, library } = useActiveWeb3React()\n  // const account = '0xcFA97Fb420fF5A0F8F5b5400a0fC5a94F3eaEc87'\n  const multicallContract = useMulticallContract()\n  const dispatch = useDispatch<AppDispatch>()\n\n  const tokenidInfo:any = useNftState()\n  const nftInfo = useNftInfo()\n  // console.log(nftInfo)\n  // const [tokenidList, setTokenidList] = useState<any>()\n  const [tokenidArr, setTokenidArr] = useState<any>()\n  const [imageList, setImageList] = useState<any>()\n\n  // const fragmentTURI:any = ERC721_INTERFACE?.getFunction('tokenURI')\n  const fragmentTURI:any = useMemo(() => ERC721_INTERFACE?.getFunction('tokenURI'), [ERC721_INTERFACE])\n  const callsTURI = useMemo(\n    () => {\n      const arr:any = []\n      if (tokenidArr && ERC721_INTERFACE && tokenidArr.length > 0) {\n        for (let i = 0; i < tokenidArr.length; i++) {\n          if (Boolean(nftInfo?.[tokenidArr[i].token]?.[tokenidArr[i].tokenid]?.image)) continue\n          arr.push({\n            address: tokenidArr[i].token,\n            callData: ERC721_INTERFACE?.encodeFunctionData(fragmentTURI, [tokenidArr[i].tokenid]),\n            tokenid: tokenidArr[i].tokenid\n          })\n        }\n      }\n      return arr\n    },\n    [ERC721_INTERFACE, tokenidArr]\n  )\n  useEffect(() => {\n    if (imageList) {\n      const arr:any = []\n      const arr1:any = []\n      for (const obj of imageList) {\n        if (Boolean(nftInfo?.[obj.token]?.[obj.tokenid]?.image)) continue\n        if (\n          obj.uri\n        ) {\n          arr.push(obj.uri)\n          arr1.push(obj)\n        }\n      }\n      // console.log(arr)\n      if (arr.length > 0) {\n        getAllNftImage(arr).then((res:any) => {\n          // console.log(res)\n          const list:any = {}\n          for (let i = 0; i < arr1.length; i++) {\n            const tokenid = arr1[i].tokenid\n            const token = arr1[i].token\n            if (!list[token]) list[token] = {}\n            list[token][tokenid] = {\n              ...(nftInfo[token] && nftInfo[token][tokenid] ? nftInfo[token][tokenid] : {}),\n              ...res[i]\n            }\n          }\n          dispatch(nftlistinfo({ chainId, tokenList: list }))\n        })\n      }\n    }\n  }, [imageList, chainId])\n\n  useEffect(() => {\n    if (multicallContract && callsTURI.length > 0) {\n      multicallContract.aggregate(callsTURI.map((obj:any) => [obj.address, obj.callData])).then((res:any) => {\n        const arr = []\n        const list:any = {}\n        for (let i = 0; i < callsTURI.length; i++) {\n          const obj = res.returnData[i]\n          const tokenid = callsTURI[i].tokenid\n          const token = callsTURI[i].address\n          const uri = ERC721_INTERFACE?.decodeFunctionResult(fragmentTURI, obj)[0]\n          arr.push({uri: uri, tokenid: tokenid, token: token})\n          if (!list[token]) list[token] = {}\n          list[token][tokenid] = {\n            ...(tokenidInfo[token] && tokenidInfo[token][tokenid] ? tokenidInfo[token][tokenid] : {}),\n            uri: uri\n          }\n        }\n        setImageList(arr)\n      }).catch((err:any) => {\n        console.log(err)\n      })\n    }\n  }, [multicallContract, callsTURI])\n\n  // useEffect(() => {\n  const getTokenIdByIndex = useCallback((tokenidList) => {\n    if (multicallContract) {\n      const calls:any = []\n      const fragment = ERC721_INTERFACE.getFunction('tokenOfOwnerByIndex')\n      for (const token in tokenidList) {\n        const index = tokenidList[token]?.balance ? Number(tokenidList[token].balance) : 0\n        if (index > 0) {\n          for (let i = 0; i < index; i++) {\n            // console.log(i)\n            calls.push([token, ERC721_INTERFACE?.encodeFunctionData(fragment, [account, i])])\n          }\n        }\n      }\n      multicallContract.aggregate(calls).then((res:any) => {\n        const list:any = {}\n        const arr:any = []\n        for (let i =0, len = res.returnData.length; i < len; i++) {\n          const obj = res.returnData[i]\n          const tokenid = ERC721_INTERFACE?.decodeFunctionResult(fragment, obj)[0].toString()\n          const token = calls[i][0]\n          if (!list[token]) list[token] = {}\n          list[token][tokenid] = {\n            ...(tokenidInfo[token] && tokenidInfo[token][tokenid] ? tokenidInfo[token][tokenid] : {})\n          }\n          arr.push({\n            token: token,\n            tokenid: tokenid\n          })\n        }\n        // console.log(list)\n        setTokenidArr(arr)\n      }).catch((err:any) => {\n        console.log(err)\n      })\n    }\n  }, [multicallContract, chainId, account])\n\n  const getTokenidList = useCallback(() => {\n    if (multicallContract && account) {\n      const cList:any = []\n      const callBLData = ERC721_INTERFACE.encodeFunctionData(ERC721_INTERFACE.getFunction('balanceOf'), [account])\n      for (const tokenKey in tokenList) {\n        const obj = tokenList[tokenKey]\n        if (obj.nfttype === ERC_TYPE.erc1155) continue\n        cList.push([obj.address, callBLData])\n      }\n      multicallContract.aggregate(cList).then((res:any) => {\n        const list:any = {}\n        for (let i = 0, len = res.returnData.length; i < len; i++) {\n          list[cList[i][0]] = {balance: res.returnData[i] === '0x' ? '' : JSBI.BigInt(res.returnData[i]).toString()}\n        }\n        console.log(list)\n        getTokenIdByIndex(list)\n      })\n    }\n  }, [multicallContract, account, chainId, tokenList])\n\n  // useEffect(() => {\n  //   if (!library || !chainId) return undefined\n\n  //   library.on('block', getTokenidList)\n  //   return () => {\n  //     library.removeListener('block', getTokenidList)\n  //   }\n  // }, [account, chainId, library, getTokenidList, tokenList])\n\n  useEffect(() => {\n    getTokenidList()\n  }, [account, chainId])\n\n  useInterval(getTokenidList, 1000 * 10)\n\n  // return tokenidInfo\n  return useMemo(() => {\n    const list:any = {}\n    if (tokenidArr) {\n      for (const obj of tokenidArr) {\n        list[obj.token] = {\n          ...(list[obj.token] ? list[obj.token] : {}),\n          [obj.tokenid]: {\n            ...(tokenidInfo[obj.token] && tokenidInfo[obj.token][obj.tokenid] ? tokenidInfo[obj.token][obj.tokenid] : {})\n          }\n        }\n      }\n    }\n    return list\n  }, [tokenidArr, tokenidInfo, account])\n}\n\nexport function useNFT1155GetAllTokenidListCallback(\n  tokenlist: any\n) {\n  const { chainId, account, library } = useActiveWeb3React()\n  // const contract = useNFT1155Contract(selectCurrency)\n  const multicallContract = useMulticallContract()\n  const [tokenidInfo1155, setTokenidInfo1155] = useState<any>()\n  // const dispatch = useDispatch<AppDispatch>()\n\n  const callBLData: any = useMemo( () => {\n    const arr:any = []\n    if (ERC1155_INTERFACE && account && tokenlist) {\n      for (const tokenKey in tokenlist) {\n        const obj = tokenlist[tokenKey]\n        const token = obj.address\n        if (obj.nfttype === ERC_TYPE.erc1155) {\n          const list = obj.tokenidList\n          for (const tokenid in list) {\n            // console.log(tokenid)\n            arr.push({\n              address: token,\n              tokenid,\n              callData: ERC721_INTERFACE?.encodeFunctionData(ERC1155_INTERFACE.getFunction('balanceOf'), [account, tokenid])\n            })\n          }\n        }\n      }\n    }\n    return arr\n  }, [ERC1155_INTERFACE, account, tokenlist])\n\n  const getTokenidList = useCallback(() => {\n    if (multicallContract && callBLData && callBLData.length > 0) {\n      multicallContract.aggregate(callBLData.map((obj:any) => [obj.address, obj.callData])).then((res:any) => {\n        // console.log(res)\n        // for (const obj of res.returnData) {\n        const len = res.returnData.length\n        const list:any = {}\n        for (let i = 0; i < len; i++) {\n          const obj = callBLData[i]\n          if (!list[obj.address]) list[obj.address] = {}\n          list[obj.address][obj.tokenid] = {\n            ...tokenlist[obj.address].tokenidList[obj.tokenid],\n            balance: JSBI.BigInt(res.returnData[i]).toString()\n          }\n        }\n        // console.log(list)\n        setTokenidInfo1155(list)\n      }).catch((err:any) => {\n        console.log(err)\n        setTokenidInfo1155({})\n      })\n    }\n  }, [multicallContract, callBLData])\n\n  useEffect(() => {\n    if (!library || !chainId) return undefined\n    console.log(tokenlist)\n    // getTokenidList()\n    library\n      .getBlockNumber()\n      .then(getTokenidList)\n      .catch(error => console.error(`Failed to get block number for chainId: ${chainId}`, error))\n    \n    library.on('block', getTokenidList)\n    return () => {\n      library.removeListener('block', getTokenidList)\n    }\n  }, [library, getTokenidList])\n\n  return tokenidInfo1155\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}