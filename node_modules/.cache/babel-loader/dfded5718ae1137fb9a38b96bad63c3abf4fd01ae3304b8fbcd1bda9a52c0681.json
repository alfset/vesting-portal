{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.createStakingAminoConverters = exports.isAminoMsgUndelegate = exports.isAminoMsgBeginRedelegate = exports.isAminoMsgDelegate = exports.isAminoMsgEditValidator = exports.isAminoMsgCreateValidator = exports.protoDecimalToJson = void 0;\nconst math_1 = require(\"@cosmjs/math\");\nconst proto_signing_1 = require(\"@cosmjs/proto-signing\");\nconst utils_1 = require(\"@cosmjs/utils\");\nfunction protoDecimalToJson(decimal) {\n  const parsed = math_1.Decimal.fromAtomics(decimal, 18);\n  const [whole, fractional] = parsed.toString().split(\".\");\n  return \"\".concat(whole, \".\").concat((fractional !== null && fractional !== void 0 ? fractional : \"\").padEnd(18, \"0\"));\n}\nexports.protoDecimalToJson = protoDecimalToJson;\nfunction jsonDecimalToProto(decimal) {\n  const parsed = math_1.Decimal.fromUserInput(decimal, 18);\n  return parsed.atomics;\n}\nfunction isAminoMsgCreateValidator(msg) {\n  return msg.type === \"cosmos-sdk/MsgCreateValidator\";\n}\nexports.isAminoMsgCreateValidator = isAminoMsgCreateValidator;\nfunction isAminoMsgEditValidator(msg) {\n  return msg.type === \"cosmos-sdk/MsgEditValidator\";\n}\nexports.isAminoMsgEditValidator = isAminoMsgEditValidator;\nfunction isAminoMsgDelegate(msg) {\n  return msg.type === \"cosmos-sdk/MsgDelegate\";\n}\nexports.isAminoMsgDelegate = isAminoMsgDelegate;\nfunction isAminoMsgBeginRedelegate(msg) {\n  return msg.type === \"cosmos-sdk/MsgBeginRedelegate\";\n}\nexports.isAminoMsgBeginRedelegate = isAminoMsgBeginRedelegate;\nfunction isAminoMsgUndelegate(msg) {\n  return msg.type === \"cosmos-sdk/MsgUndelegate\";\n}\nexports.isAminoMsgUndelegate = isAminoMsgUndelegate;\nfunction createStakingAminoConverters(_prefix) {\n  return {\n    \"/cosmos.staking.v1beta1.MsgBeginRedelegate\": {\n      aminoType: \"cosmos-sdk/MsgBeginRedelegate\",\n      toAmino: _ref => {\n        let {\n          delegatorAddress,\n          validatorSrcAddress,\n          validatorDstAddress,\n          amount\n        } = _ref;\n        (0, utils_1.assertDefinedAndNotNull)(amount, \"missing amount\");\n        return {\n          delegator_address: delegatorAddress,\n          validator_src_address: validatorSrcAddress,\n          validator_dst_address: validatorDstAddress,\n          amount: amount\n        };\n      },\n      fromAmino: _ref2 => {\n        let {\n          delegator_address,\n          validator_src_address,\n          validator_dst_address,\n          amount\n        } = _ref2;\n        return {\n          delegatorAddress: delegator_address,\n          validatorSrcAddress: validator_src_address,\n          validatorDstAddress: validator_dst_address,\n          amount: amount\n        };\n      }\n    },\n    \"/cosmos.staking.v1beta1.MsgCreateValidator\": {\n      aminoType: \"cosmos-sdk/MsgCreateValidator\",\n      toAmino: _ref3 => {\n        let {\n          description,\n          commission,\n          minSelfDelegation,\n          delegatorAddress,\n          validatorAddress,\n          pubkey,\n          value\n        } = _ref3;\n        (0, utils_1.assertDefinedAndNotNull)(description, \"missing description\");\n        (0, utils_1.assertDefinedAndNotNull)(commission, \"missing commission\");\n        (0, utils_1.assertDefinedAndNotNull)(pubkey, \"missing pubkey\");\n        (0, utils_1.assertDefinedAndNotNull)(value, \"missing value\");\n        return {\n          description: {\n            moniker: description.moniker,\n            identity: description.identity,\n            website: description.website,\n            security_contact: description.securityContact,\n            details: description.details\n          },\n          commission: {\n            rate: protoDecimalToJson(commission.rate),\n            max_rate: protoDecimalToJson(commission.maxRate),\n            max_change_rate: protoDecimalToJson(commission.maxChangeRate)\n          },\n          min_self_delegation: minSelfDelegation,\n          delegator_address: delegatorAddress,\n          validator_address: validatorAddress,\n          pubkey: (0, proto_signing_1.anyToSinglePubkey)(pubkey),\n          value: value\n        };\n      },\n      fromAmino: _ref4 => {\n        let {\n          description,\n          commission,\n          min_self_delegation,\n          delegator_address,\n          validator_address,\n          pubkey,\n          value\n        } = _ref4;\n        return {\n          description: {\n            moniker: description.moniker,\n            identity: description.identity,\n            website: description.website,\n            securityContact: description.security_contact,\n            details: description.details\n          },\n          commission: {\n            rate: jsonDecimalToProto(commission.rate),\n            maxRate: jsonDecimalToProto(commission.max_rate),\n            maxChangeRate: jsonDecimalToProto(commission.max_change_rate)\n          },\n          minSelfDelegation: min_self_delegation,\n          delegatorAddress: delegator_address,\n          validatorAddress: validator_address,\n          pubkey: (0, proto_signing_1.encodePubkey)(pubkey),\n          value: value\n        };\n      }\n    },\n    \"/cosmos.staking.v1beta1.MsgDelegate\": {\n      aminoType: \"cosmos-sdk/MsgDelegate\",\n      toAmino: _ref5 => {\n        let {\n          delegatorAddress,\n          validatorAddress,\n          amount\n        } = _ref5;\n        (0, utils_1.assertDefinedAndNotNull)(amount, \"missing amount\");\n        return {\n          delegator_address: delegatorAddress,\n          validator_address: validatorAddress,\n          amount: amount\n        };\n      },\n      fromAmino: _ref6 => {\n        let {\n          delegator_address,\n          validator_address,\n          amount\n        } = _ref6;\n        return {\n          delegatorAddress: delegator_address,\n          validatorAddress: validator_address,\n          amount: amount\n        };\n      }\n    },\n    \"/cosmos.staking.v1beta1.MsgEditValidator\": {\n      aminoType: \"cosmos-sdk/MsgEditValidator\",\n      toAmino: _ref7 => {\n        let {\n          description,\n          commissionRate,\n          minSelfDelegation,\n          validatorAddress\n        } = _ref7;\n        (0, utils_1.assertDefinedAndNotNull)(description, \"missing description\");\n        return {\n          description: {\n            moniker: description.moniker,\n            identity: description.identity,\n            website: description.website,\n            security_contact: description.securityContact,\n            details: description.details\n          },\n          // empty string in the protobuf document means \"do not change\"\n          commission_rate: commissionRate ? protoDecimalToJson(commissionRate) : undefined,\n          // empty string in the protobuf document means \"do not change\"\n          min_self_delegation: minSelfDelegation ? minSelfDelegation : undefined,\n          validator_address: validatorAddress\n        };\n      },\n      fromAmino: _ref8 => {\n        let {\n          description,\n          commission_rate,\n          min_self_delegation,\n          validator_address\n        } = _ref8;\n        return {\n          description: {\n            moniker: description.moniker,\n            identity: description.identity,\n            website: description.website,\n            securityContact: description.security_contact,\n            details: description.details\n          },\n          // empty string in the protobuf document means \"do not change\"\n          commissionRate: commission_rate ? jsonDecimalToProto(commission_rate) : \"\",\n          // empty string in the protobuf document means \"do not change\"\n          minSelfDelegation: min_self_delegation !== null && min_self_delegation !== void 0 ? min_self_delegation : \"\",\n          validatorAddress: validator_address\n        };\n      }\n    },\n    \"/cosmos.staking.v1beta1.MsgUndelegate\": {\n      aminoType: \"cosmos-sdk/MsgUndelegate\",\n      toAmino: _ref9 => {\n        let {\n          delegatorAddress,\n          validatorAddress,\n          amount\n        } = _ref9;\n        (0, utils_1.assertDefinedAndNotNull)(amount, \"missing amount\");\n        return {\n          delegator_address: delegatorAddress,\n          validator_address: validatorAddress,\n          amount: amount\n        };\n      },\n      fromAmino: _ref10 => {\n        let {\n          delegator_address,\n          validator_address,\n          amount\n        } = _ref10;\n        return {\n          delegatorAddress: delegator_address,\n          validatorAddress: validator_address,\n          amount: amount\n        };\n      }\n    }\n  };\n}\nexports.createStakingAminoConverters = createStakingAminoConverters;","map":{"version":3,"names":["math_1","require","proto_signing_1","utils_1","protoDecimalToJson","decimal","parsed","Decimal","fromAtomics","whole","fractional","toString","split","concat","padEnd","exports","jsonDecimalToProto","fromUserInput","atomics","isAminoMsgCreateValidator","msg","type","isAminoMsgEditValidator","isAminoMsgDelegate","isAminoMsgBeginRedelegate","isAminoMsgUndelegate","createStakingAminoConverters","_prefix","aminoType","toAmino","_ref","delegatorAddress","validatorSrcAddress","validatorDstAddress","amount","assertDefinedAndNotNull","delegator_address","validator_src_address","validator_dst_address","fromAmino","_ref2","_ref3","description","commission","minSelfDelegation","validatorAddress","pubkey","value","moniker","identity","website","security_contact","securityContact","details","rate","max_rate","maxRate","max_change_rate","maxChangeRate","min_self_delegation","validator_address","anyToSinglePubkey","_ref4","encodePubkey","_ref5","_ref6","_ref7","commissionRate","commission_rate","undefined","_ref8","_ref9","_ref10"],"sources":["../../../src/modules/staking/aminomessages.ts"],"sourcesContent":[null],"mappings":";;;;;;AAEA,MAAAA,MAAA,GAAAC,OAAA;AACA,MAAAC,eAAA,GAAAD,OAAA;AACA,MAAAE,OAAA,GAAAF,OAAA;AA2BA,SAAgBG,kBAAkBA,CAACC,OAAe;EAChD,MAAMC,MAAM,GAAGN,MAAA,CAAAO,OAAO,CAACC,WAAW,CAACH,OAAO,EAAE,EAAE,CAAC;EAC/C,MAAM,CAACI,KAAK,EAAEC,UAAU,CAAC,GAAGJ,MAAM,CAACK,QAAQ,EAAE,CAACC,KAAK,CAAC,GAAG,CAAC;EACxD,UAAAC,MAAA,CAAUJ,KAAK,OAAAI,MAAA,CAAI,CAACH,UAAU,aAAVA,UAAU,cAAVA,UAAU,GAAI,EAAE,EAAEI,MAAM,CAAC,EAAE,EAAE,GAAG,CAAC;AACvD;AAJAC,OAAA,CAAAX,kBAAA,GAAAA,kBAAA;AAMA,SAASY,kBAAkBA,CAACX,OAAe;EACzC,MAAMC,MAAM,GAAGN,MAAA,CAAAO,OAAO,CAACU,aAAa,CAACZ,OAAO,EAAE,EAAE,CAAC;EACjD,OAAOC,MAAM,CAACY,OAAO;AACvB;AAmBA,SAAgBC,yBAAyBA,CAACC,GAAa;EACrD,OAAOA,GAAG,CAACC,IAAI,KAAK,+BAA+B;AACrD;AAFAN,OAAA,CAAAI,yBAAA,GAAAA,yBAAA;AA4BA,SAAgBG,uBAAuBA,CAACF,GAAa;EACnD,OAAOA,GAAG,CAACC,IAAI,KAAK,6BAA6B;AACnD;AAFAN,OAAA,CAAAO,uBAAA,GAAAA,uBAAA;AAoBA,SAAgBC,kBAAkBA,CAACH,GAAa;EAC9C,OAAOA,GAAG,CAACC,IAAI,KAAK,wBAAwB;AAC9C;AAFAN,OAAA,CAAAQ,kBAAA,GAAAA,kBAAA;AAkBA,SAAgBC,yBAAyBA,CAACJ,GAAa;EACrD,OAAOA,GAAG,CAACC,IAAI,KAAK,+BAA+B;AACrD;AAFAN,OAAA,CAAAS,yBAAA,GAAAA,yBAAA;AAgBA,SAAgBC,oBAAoBA,CAACL,GAAa;EAChD,OAAOA,GAAG,CAACC,IAAI,KAAK,0BAA0B;AAChD;AAFAN,OAAA,CAAAU,oBAAA,GAAAA,oBAAA;AAIA,SAAgBC,4BAA4BA,CAC1CC,OAAe;EAEf,OAAO;IACL,4CAA4C,EAAE;MAC5CC,SAAS,EAAE,+BAA+B;MAC1CC,OAAO,EAAEC,IAAA,IAKkD;QAAA,IALjD;UACRC,gBAAgB;UAChBC,mBAAmB;UACnBC,mBAAmB;UACnBC;QAAM,CACa,GAAAJ,IAAA;QACnB,IAAA3B,OAAA,CAAAgC,uBAAuB,EAACD,MAAM,EAAE,gBAAgB,CAAC;QACjD,OAAO;UACLE,iBAAiB,EAAEL,gBAAgB;UACnCM,qBAAqB,EAAEL,mBAAmB;UAC1CM,qBAAqB,EAAEL,mBAAmB;UAC1CC,MAAM,EAAEA;SACT;MACH,CAAC;MACDK,SAAS,EAAEC,KAAA;QAAA,IAAC;UACVJ,iBAAiB;UACjBC,qBAAqB;UACrBC,qBAAqB;UACrBJ;QAAM,CAC2B,GAAAM,KAAA;QAAA,OAA0B;UAC3DT,gBAAgB,EAAEK,iBAAiB;UACnCJ,mBAAmB,EAAEK,qBAAqB;UAC1CJ,mBAAmB,EAAEK,qBAAqB;UAC1CJ,MAAM,EAAEA;SACT;MAAA;KACF;IACD,4CAA4C,EAAE;MAC5CN,SAAS,EAAE,+BAA+B;MAC1CC,OAAO,EAAEY,KAAA,IAQkD;QAAA,IARjD;UACRC,WAAW;UACXC,UAAU;UACVC,iBAAiB;UACjBb,gBAAgB;UAChBc,gBAAgB;UAChBC,MAAM;UACNC;QAAK,CACc,GAAAN,KAAA;QACnB,IAAAtC,OAAA,CAAAgC,uBAAuB,EAACO,WAAW,EAAE,qBAAqB,CAAC;QAC3D,IAAAvC,OAAA,CAAAgC,uBAAuB,EAACQ,UAAU,EAAE,oBAAoB,CAAC;QACzD,IAAAxC,OAAA,CAAAgC,uBAAuB,EAACW,MAAM,EAAE,gBAAgB,CAAC;QACjD,IAAA3C,OAAA,CAAAgC,uBAAuB,EAACY,KAAK,EAAE,eAAe,CAAC;QAC/C,OAAO;UACLL,WAAW,EAAE;YACXM,OAAO,EAAEN,WAAW,CAACM,OAAO;YAC5BC,QAAQ,EAAEP,WAAW,CAACO,QAAQ;YAC9BC,OAAO,EAAER,WAAW,CAACQ,OAAO;YAC5BC,gBAAgB,EAAET,WAAW,CAACU,eAAe;YAC7CC,OAAO,EAAEX,WAAW,CAACW;WACtB;UACDV,UAAU,EAAE;YACVW,IAAI,EAAElD,kBAAkB,CAACuC,UAAU,CAACW,IAAI,CAAC;YACzCC,QAAQ,EAAEnD,kBAAkB,CAACuC,UAAU,CAACa,OAAO,CAAC;YAChDC,eAAe,EAAErD,kBAAkB,CAACuC,UAAU,CAACe,aAAa;WAC7D;UACDC,mBAAmB,EAAEf,iBAAiB;UACtCR,iBAAiB,EAAEL,gBAAgB;UACnC6B,iBAAiB,EAAEf,gBAAgB;UACnCC,MAAM,EAAE,IAAA5C,eAAA,CAAA2D,iBAAiB,EAACf,MAAM,CAAC;UACjCC,KAAK,EAAEA;SACR;MACH,CAAC;MACDR,SAAS,EAAEuB,KAAA,IAQgD;QAAA,IAR/C;UACVpB,WAAW;UACXC,UAAU;UACVgB,mBAAmB;UACnBvB,iBAAiB;UACjBwB,iBAAiB;UACjBd,MAAM;UACNC;QAAK,CAC4B,GAAAe,KAAA;QACjC,OAAO;UACLpB,WAAW,EAAE;YACXM,OAAO,EAAEN,WAAW,CAACM,OAAO;YAC5BC,QAAQ,EAAEP,WAAW,CAACO,QAAQ;YAC9BC,OAAO,EAAER,WAAW,CAACQ,OAAO;YAC5BE,eAAe,EAAEV,WAAW,CAACS,gBAAgB;YAC7CE,OAAO,EAAEX,WAAW,CAACW;WACtB;UACDV,UAAU,EAAE;YACVW,IAAI,EAAEtC,kBAAkB,CAAC2B,UAAU,CAACW,IAAI,CAAC;YACzCE,OAAO,EAAExC,kBAAkB,CAAC2B,UAAU,CAACY,QAAQ,CAAC;YAChDG,aAAa,EAAE1C,kBAAkB,CAAC2B,UAAU,CAACc,eAAe;WAC7D;UACDb,iBAAiB,EAAEe,mBAAmB;UACtC5B,gBAAgB,EAAEK,iBAAiB;UACnCS,gBAAgB,EAAEe,iBAAiB;UACnCd,MAAM,EAAE,IAAA5C,eAAA,CAAA6D,YAAY,EAACjB,MAAM,CAAC;UAC5BC,KAAK,EAAEA;SACR;MACH;KACD;IACD,qCAAqC,EAAE;MACrCnB,SAAS,EAAE,wBAAwB;MACnCC,OAAO,EAAEmC,KAAA,IAA2F;QAAA,IAA1F;UAAEjC,gBAAgB;UAAEc,gBAAgB;UAAEX;QAAM,CAAe,GAAA8B,KAAA;QACnE,IAAA7D,OAAA,CAAAgC,uBAAuB,EAACD,MAAM,EAAE,gBAAgB,CAAC;QACjD,OAAO;UACLE,iBAAiB,EAAEL,gBAAgB;UACnC6B,iBAAiB,EAAEf,gBAAgB;UACnCX,MAAM,EAAEA;SACT;MACH,CAAC;MACDK,SAAS,EAAE0B,KAAA;QAAA,IAAC;UACV7B,iBAAiB;UACjBwB,iBAAiB;UACjB1B;QAAM,CACoB,GAAA+B,KAAA;QAAA,OAAmB;UAC7ClC,gBAAgB,EAAEK,iBAAiB;UACnCS,gBAAgB,EAAEe,iBAAiB;UACnC1B,MAAM,EAAEA;SACT;MAAA;KACF;IACD,0CAA0C,EAAE;MAC1CN,SAAS,EAAE,6BAA6B;MACxCC,OAAO,EAAEqC,KAAA,IAK8C;QAAA,IAL7C;UACRxB,WAAW;UACXyB,cAAc;UACdvB,iBAAiB;UACjBC;QAAgB,CACC,GAAAqB,KAAA;QACjB,IAAA/D,OAAA,CAAAgC,uBAAuB,EAACO,WAAW,EAAE,qBAAqB,CAAC;QAC3D,OAAO;UACLA,WAAW,EAAE;YACXM,OAAO,EAAEN,WAAW,CAACM,OAAO;YAC5BC,QAAQ,EAAEP,WAAW,CAACO,QAAQ;YAC9BC,OAAO,EAAER,WAAW,CAACQ,OAAO;YAC5BC,gBAAgB,EAAET,WAAW,CAACU,eAAe;YAC7CC,OAAO,EAAEX,WAAW,CAACW;WACtB;UACD;UACAe,eAAe,EAAED,cAAc,GAAG/D,kBAAkB,CAAC+D,cAAc,CAAC,GAAGE,SAAS;UAChF;UACAV,mBAAmB,EAAEf,iBAAiB,GAAGA,iBAAiB,GAAGyB,SAAS;UACtET,iBAAiB,EAAEf;SACpB;MACH,CAAC;MACDN,SAAS,EAAE+B,KAAA;QAAA,IAAC;UACV5B,WAAW;UACX0B,eAAe;UACfT,mBAAmB;UACnBC;QAAiB,CACc,GAAAU,KAAA;QAAA,OAAwB;UACvD5B,WAAW,EAAE;YACXM,OAAO,EAAEN,WAAW,CAACM,OAAO;YAC5BC,QAAQ,EAAEP,WAAW,CAACO,QAAQ;YAC9BC,OAAO,EAAER,WAAW,CAACQ,OAAO;YAC5BE,eAAe,EAAEV,WAAW,CAACS,gBAAgB;YAC7CE,OAAO,EAAEX,WAAW,CAACW;WACtB;UACD;UACAc,cAAc,EAAEC,eAAe,GAAGpD,kBAAkB,CAACoD,eAAe,CAAC,GAAG,EAAE;UAC1E;UACAxB,iBAAiB,EAAEe,mBAAmB,aAAnBA,mBAAmB,cAAnBA,mBAAmB,GAAI,EAAE;UAC5Cd,gBAAgB,EAAEe;SACnB;MAAA;KACF;IACD,uCAAuC,EAAE;MACvChC,SAAS,EAAE,0BAA0B;MACrCC,OAAO,EAAE0C,KAAA,IAIwC;QAAA,IAJvC;UACRxC,gBAAgB;UAChBc,gBAAgB;UAChBX;QAAM,CACQ,GAAAqC,KAAA;QACd,IAAApE,OAAA,CAAAgC,uBAAuB,EAACD,MAAM,EAAE,gBAAgB,CAAC;QACjD,OAAO;UACLE,iBAAiB,EAAEL,gBAAgB;UACnC6B,iBAAiB,EAAEf,gBAAgB;UACnCX,MAAM,EAAEA;SACT;MACH,CAAC;MACDK,SAAS,EAAEiC,MAAA;QAAA,IAAC;UACVpC,iBAAiB;UACjBwB,iBAAiB;UACjB1B;QAAM,CACsB,GAAAsC,MAAA;QAAA,OAAqB;UACjDzC,gBAAgB,EAAEK,iBAAiB;UACnCS,gBAAgB,EAAEe,iBAAiB;UACnC1B,MAAM,EAAEA;SACT;MAAA;;GAEJ;AACH;AA1LAnB,OAAA,CAAAW,4BAAA,GAAAA,4BAAA"},"metadata":{},"sourceType":"script","externalDependencies":[]}