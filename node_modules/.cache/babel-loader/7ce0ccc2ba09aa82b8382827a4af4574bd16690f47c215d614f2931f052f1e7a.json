{"ast":null,"code":"\"use strict\";\n\nvar __extends = this && this.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p];\n    };\n    return extendStatics(d, b);\n  };\n  return function (d, b) {\n    if (typeof b !== \"function\" && b !== null) throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n    extendStatics(d, b);\n    function __() {\n      this.constructor = d;\n    }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.ExecuteContractProposal = void 0;\nvar json_1 = require(\"../../../util/json\");\nvar Coins_1 = require(\"../../Coins\");\nvar any_1 = require(\"@terra-money/terra.proto/google/protobuf/any\");\nvar proposal_1 = require(\"@terra-money/terra.proto/cosmwasm/wasm/v1/proposal\");\n/**\n * ExecuteContractProposal gov proposal content type to call execute on a\n * contract.\n */\nvar ExecuteContractProposal = /** @class */function (_super) {\n  __extends(ExecuteContractProposal, _super);\n  /**\n   * @param title a short summary\n   * @param description a human readable text\n   * @param run_as contract user\n   * @param contract contract address\n   * @param execute_msg HandleMsg to pass as arguments for contract invocation\n   * @param coins coins to be sent to contract\n   */\n  function ExecuteContractProposal(title, description, run_as, contract, execute_msg, coins) {\n    if (coins === void 0) {\n      coins = {};\n    }\n    var _this = _super.call(this) || this;\n    _this.title = title;\n    _this.description = description;\n    _this.run_as = run_as;\n    _this.contract = contract;\n    _this.execute_msg = execute_msg;\n    _this.coins = new Coins_1.Coins(coins);\n    return _this;\n  }\n  ExecuteContractProposal.fromAmino = function (data, _) {\n    var _a = data.value,\n      title = _a.title,\n      description = _a.description,\n      run_as = _a.run_as,\n      contract = _a.contract,\n      msg = _a.msg,\n      funds = _a.funds;\n    return new ExecuteContractProposal(title, description, run_as, contract, msg, Coins_1.Coins.fromAmino(funds));\n  };\n  ExecuteContractProposal.prototype.toAmino = function (_) {\n    var _a = this,\n      title = _a.title,\n      description = _a.description,\n      run_as = _a.run_as,\n      contract = _a.contract,\n      execute_msg = _a.execute_msg,\n      coins = _a.coins;\n    return {\n      type: 'wasm/ExecuteContractProposal',\n      value: {\n        title: title,\n        description: description,\n        run_as: run_as,\n        contract: contract,\n        msg: (0, json_1.removeNull)(execute_msg),\n        funds: coins.toAmino()\n      }\n    };\n  };\n  ExecuteContractProposal.fromProto = function (proto, _) {\n    return new ExecuteContractProposal(proto.title, proto.description, proto.runAs, proto.contract, JSON.parse(Buffer.from(proto.msg).toString('utf-8')), Coins_1.Coins.fromProto(proto.funds));\n  };\n  ExecuteContractProposal.prototype.toProto = function (_) {\n    var _a = this,\n      title = _a.title,\n      description = _a.description,\n      run_as = _a.run_as,\n      contract = _a.contract,\n      execute_msg = _a.execute_msg,\n      coins = _a.coins;\n    return proposal_1.ExecuteContractProposal.fromPartial({\n      title: title,\n      description: description,\n      funds: coins.toProto(),\n      contract: contract,\n      runAs: run_as,\n      msg: Buffer.from(JSON.stringify((0, json_1.removeNull)(execute_msg)), 'utf-8')\n    });\n  };\n  ExecuteContractProposal.prototype.packAny = function (isClassic) {\n    return any_1.Any.fromPartial({\n      typeUrl: '/cosmwasm.wasm.v1.ExecuteContractProposal',\n      value: proposal_1.ExecuteContractProposal.encode(this.toProto(isClassic)).finish()\n    });\n  };\n  ExecuteContractProposal.unpackAny = function (msgAny, isClassic) {\n    return ExecuteContractProposal.fromProto(proposal_1.ExecuteContractProposal.decode(msgAny.value), isClassic);\n  };\n  ExecuteContractProposal.fromData = function (data, _) {\n    var _a = data,\n      title = _a.title,\n      description = _a.description,\n      run_as = _a.run_as,\n      contract = _a.contract,\n      msg = _a.msg,\n      funds = _a.funds;\n    return new ExecuteContractProposal(title, description, run_as, contract, msg, Coins_1.Coins.fromData(funds));\n  };\n  ExecuteContractProposal.prototype.toData = function (_) {\n    var _a = this,\n      title = _a.title,\n      description = _a.description,\n      run_as = _a.run_as,\n      contract = _a.contract,\n      execute_msg = _a.execute_msg,\n      coins = _a.coins;\n    return {\n      '@type': '/cosmwasm.wasm.v1.ExecuteContractProposal',\n      title: title,\n      description: description,\n      run_as: run_as,\n      contract: contract,\n      msg: execute_msg,\n      funds: coins.toData()\n    };\n  };\n  return ExecuteContractProposal;\n}(json_1.JSONSerializable);\nexports.ExecuteContractProposal = ExecuteContractProposal;","map":{"version":3,"names":["json_1","require","Coins_1","any_1","proposal_1","ExecuteContractProposal","_super","__extends","title","description","run_as","contract","execute_msg","coins","_this","call","Coins","fromAmino","data","_","_a","value","msg","funds","prototype","toAmino","type","removeNull","fromProto","proto","runAs","JSON","parse","Buffer","from","toString","toProto","fromPartial","stringify","packAny","isClassic","Any","typeUrl","encode","finish","unpackAny","msgAny","decode","fromData","toData","JSONSerializable","exports"],"sources":["../../../../src/core/wasm/proposals/ExecuteContractProposal.ts"],"sourcesContent":[null],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}