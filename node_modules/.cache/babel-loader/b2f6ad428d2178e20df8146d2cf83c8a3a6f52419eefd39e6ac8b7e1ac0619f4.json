{"ast":null,"code":"const FALLBACK_MAINNET = {\n  name: 'mainnet',\n  chainID: 'columbus-5',\n  lcd: 'https://lcd.terra.dev'\n};\nconst FALLBACK = {\n  defaultNetwork: FALLBACK_MAINNET,\n  walletConnectChainIds: {\n    1: FALLBACK_MAINNET,\n    0: {\n      name: 'testnet',\n      chainID: 'bombay-12',\n      lcd: 'https://bombay-lcd.terra.dev'\n    }\n  }\n};\nlet cache;\nexport async function getChainOptions() {\n  return fetch('https://assets.terra.money/chains.json').then(res => res.json()).then(data => {\n    const chains = Object.values(data);\n    const walletConnectChainIds = chains.reduce((result, network) => {\n      if (typeof network.walletconnectID === 'number') {\n        result[network.walletconnectID] = network;\n      } else if (!result[1] && network.name === 'mainnet') {\n        result[1] = network;\n      } else if (!result[0] && network.name === 'testnet') {\n        result[0] = network;\n      }\n      return result;\n    }, {});\n    const chainOptions = {\n      defaultNetwork: walletConnectChainIds[1],\n      walletConnectChainIds\n    };\n    cache = chainOptions;\n    return chainOptions;\n  }).catch(error => {\n    console.error('Failed to fetch chains.json', error);\n    return cache !== null && cache !== void 0 ? cache : FALLBACK;\n  });\n}","map":{"version":3,"names":["FALLBACK_MAINNET","name","chainID","lcd","FALLBACK","defaultNetwork","walletConnectChainIds","cache","getChainOptions","fetch","then","res","json","data","chains","Object","values","reduce","result","network","walletconnectID","chainOptions","catch","error","console"],"sources":["../../../src/@terra-money/wallet-provider/getChainOptions.ts"],"sourcesContent":["import { NetworkInfo } from '@terra-dev/wallet-types';\nimport { WalletControllerOptions } from './controller';\n\ninterface ChainInfo {\n  name: string;\n  chainID: string;\n  lcd: string;\n  walletconnectID?: number;\n}\n\nexport type WalletControllerChainOptions = Pick<\n  WalletControllerOptions,\n  'defaultNetwork' | 'walletConnectChainIds'\n>;\n\nconst FALLBACK_MAINNET = {\n  name: 'mainnet',\n  chainID: 'columbus-5',\n  lcd: 'https://lcd.terra.dev',\n};\n\nconst FALLBACK: WalletControllerChainOptions = {\n  defaultNetwork: FALLBACK_MAINNET,\n  walletConnectChainIds: {\n    1: FALLBACK_MAINNET,\n    0: {\n      name: 'testnet',\n      chainID: 'bombay-12',\n      lcd: 'https://bombay-lcd.terra.dev',\n    },\n  },\n};\n\nlet cache: WalletControllerChainOptions;\n\nexport async function getChainOptions(): Promise<WalletControllerChainOptions> {\n  return fetch('https://assets.terra.money/chains.json')\n    .then((res) => res.json())\n    .then((data: Record<string, ChainInfo>) => {\n      const chains = Object.values(data);\n      const walletConnectChainIds = chains.reduce((result, network) => {\n        if (typeof network.walletconnectID === 'number') {\n          result[network.walletconnectID] = network;\n        } else if (!result[1] && network.name === 'mainnet') {\n          result[1] = network;\n        } else if (!result[0] && network.name === 'testnet') {\n          result[0] = network;\n        }\n        return result;\n      }, {} as Record<number, NetworkInfo>);\n      const chainOptions: WalletControllerChainOptions = {\n        defaultNetwork: walletConnectChainIds[1],\n        walletConnectChainIds,\n      };\n      cache = chainOptions;\n      return chainOptions;\n    })\n    .catch((error) => {\n      console.error('Failed to fetch chains.json', error);\n      return cache ?? FALLBACK;\n    });\n}\n"],"mappings":"AAeA,MAAMA,gBAAgB,GAAG;EACvBC,IAAI,EAAE,SAAS;EACfC,OAAO,EAAE,YAAY;EACrBC,GAAG,EAAE;CACN;AAED,MAAMC,QAAQ,GAAiC;EAC7CC,cAAc,EAAEL,gBAAgB;EAChCM,qBAAqB,EAAE;IACrB,CAAC,EAAEN,gBAAgB;IACnB,CAAC,EAAE;MACDC,IAAI,EAAE,SAAS;MACfC,OAAO,EAAE,WAAW;MACpBC,GAAG,EAAE;;;CAGV;AAED,IAAII,KAAmC;AAEvC,OAAO,eAAeC,eAAeA,CAAA;EACnC,OAAOC,KAAK,CAAC,wCAAwC,CAAC,CACnDC,IAAI,CAAEC,GAAG,IAAKA,GAAG,CAACC,IAAI,EAAE,CAAC,CACzBF,IAAI,CAAEG,IAA+B,IAAI;IACxC,MAAMC,MAAM,GAAGC,MAAM,CAACC,MAAM,CAACH,IAAI,CAAC;IAClC,MAAMP,qBAAqB,GAAGQ,MAAM,CAACG,MAAM,CAAC,CAACC,MAAM,EAAEC,OAAO,KAAI;MAC9D,IAAI,OAAOA,OAAO,CAACC,eAAe,KAAK,QAAQ,EAAE;QAC/CF,MAAM,CAACC,OAAO,CAACC,eAAe,CAAC,GAAGD,OAAO;OAC1C,MAAM,IAAI,CAACD,MAAM,CAAC,CAAC,CAAC,IAAIC,OAAO,CAAClB,IAAI,KAAK,SAAS,EAAE;QACnDiB,MAAM,CAAC,CAAC,CAAC,GAAGC,OAAO;OACpB,MAAM,IAAI,CAACD,MAAM,CAAC,CAAC,CAAC,IAAIC,OAAO,CAAClB,IAAI,KAAK,SAAS,EAAE;QACnDiB,MAAM,CAAC,CAAC,CAAC,GAAGC,OAAO;;MAErB,OAAOD,MAAM;IACf,CAAC,EAAE,EAAiC,CAAC;IACrC,MAAMG,YAAY,GAAiC;MACjDhB,cAAc,EAAEC,qBAAqB,CAAC,CAAC,CAAC;MACxCA;KACD;IACDC,KAAK,GAAGc,YAAY;IACpB,OAAOA,YAAY;EACrB,CAAC,CAAC,CACDC,KAAK,CAAEC,KAAK,IAAI;IACfC,OAAO,CAACD,KAAK,CAAC,6BAA6B,EAAEA,KAAK,CAAC;IACnD,OAAOhB,KAAK,aAALA,KAAK,cAALA,KAAK,GAAIH,QAAQ;EAC1B,CAAC,CAAC;AACN"},"metadata":{},"sourceType":"module","externalDependencies":[]}