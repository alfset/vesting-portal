{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.EnvironmentStateAdapter_Sync = exports.EnvironmentStateAdapter = void 0;\nclass EnvironmentStateAdapter {\n  constructor(implementation) {\n    this.implementation = implementation;\n  }\n  async setJson(key, value) {\n    await this.implementation.setString(key, JSON.stringify(value));\n  }\n  async getJson(key) {\n    const val = await this.implementation.getString(key);\n    if (val == null || val === \"undefined\" || val === \"null\") {\n      return undefined;\n    }\n    return JSON.parse(val);\n  }\n  async setString(key, value) {\n    await this.implementation.setString(key, value);\n  }\n  async getString(key) {\n    const val = await this.implementation.getString(key);\n    if (val == null) {\n      return undefined;\n    }\n    return val;\n  }\n  createJsonGetterSetter(key) {\n    return {\n      get: () => this.getJson(key),\n      set: value => this.setJson(key, value)\n    };\n  }\n  createStringGetterSetter(key) {\n    return {\n      get: () => this.getString(key),\n      set: value => this.setString(key, value)\n    };\n  }\n}\nexports.EnvironmentStateAdapter = EnvironmentStateAdapter;\nclass EnvironmentStateAdapter_Sync {\n  constructor(implementation) {\n    this.implementation = implementation;\n  }\n  setJson(key, value) {\n    this.implementation.setString(key, JSON.stringify(value));\n  }\n  getJson(key) {\n    const val = this.implementation.getString(key);\n    if (val == null || val === \"undefined\" || val === \"null\") {\n      return undefined;\n    }\n    return JSON.parse(val);\n  }\n  setString(key, value) {\n    this.implementation.setString(key, value);\n  }\n  getString(key) {\n    const val = this.implementation.getString(key);\n    if (val == null) {\n      return undefined;\n    }\n    return val;\n  }\n  clear(key) {\n    this.implementation.clear(key);\n  }\n  createJsonGetterSetter(key) {\n    return {\n      get: () => this.getJson(key),\n      set: value => this.setJson(key, value)\n    };\n  }\n  createStringGetterSetter(key) {\n    return {\n      get: () => this.getString(key),\n      set: value => this.setString(key, value)\n    };\n  }\n}\nexports.EnvironmentStateAdapter_Sync = EnvironmentStateAdapter_Sync;","map":{"version":3,"names":["EnvironmentStateAdapter","constructor","implementation","setJson","key","value","setString","JSON","stringify","getJson","val","getString","undefined","parse","createJsonGetterSetter","get","set","createStringGetterSetter","exports","EnvironmentStateAdapter_Sync","clear"],"sources":["./src/meteor-common/src/utils/EnvironmentStorageUtils.ts"],"sourcesContent":[null],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}