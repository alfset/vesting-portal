{"ast":null,"code":"\"use strict\";\n\nvar __extends = this && this.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p];\n    };\n    return extendStatics(d, b);\n  };\n  return function (d, b) {\n    if (typeof b !== \"function\" && b !== null) throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n    extendStatics(d, b);\n    function __() {\n      this.constructor = d;\n    }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\nvar __awaiter = this && this.__awaiter || function (thisArg, _arguments, P, generator) {\n  function adopt(value) {\n    return value instanceof P ? value : new P(function (resolve) {\n      resolve(value);\n    });\n  }\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n    function rejected(value) {\n      try {\n        step(generator[\"throw\"](value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n    function step(result) {\n      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n    }\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n};\nvar __generator = this && this.__generator || function (thisArg, body) {\n  var _ = {\n      label: 0,\n      sent: function () {\n        if (t[0] & 1) throw t[1];\n        return t[1];\n      },\n      trys: [],\n      ops: []\n    },\n    f,\n    y,\n    t,\n    g;\n  return g = {\n    next: verb(0),\n    \"throw\": verb(1),\n    \"return\": verb(2)\n  }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function () {\n    return this;\n  }), g;\n  function verb(n) {\n    return function (v) {\n      return step([n, v]);\n    };\n  }\n  function step(op) {\n    if (f) throw new TypeError(\"Generator is already executing.\");\n    while (_) try {\n      if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n      if (y = 0, t) op = [op[0] & 2, t.value];\n      switch (op[0]) {\n        case 0:\n        case 1:\n          t = op;\n          break;\n        case 4:\n          _.label++;\n          return {\n            value: op[1],\n            done: false\n          };\n        case 5:\n          _.label++;\n          y = op[1];\n          op = [0];\n          continue;\n        case 7:\n          op = _.ops.pop();\n          _.trys.pop();\n          continue;\n        default:\n          if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) {\n            _ = 0;\n            continue;\n          }\n          if (op[0] === 3 && (!t || op[1] > t[0] && op[1] < t[3])) {\n            _.label = op[1];\n            break;\n          }\n          if (op[0] === 6 && _.label < t[1]) {\n            _.label = t[1];\n            t = op;\n            break;\n          }\n          if (t && _.label < t[2]) {\n            _.label = t[2];\n            _.ops.push(op);\n            break;\n          }\n          if (t[2]) _.ops.pop();\n          _.trys.pop();\n          continue;\n      }\n      op = body.call(thisArg, _);\n    } catch (e) {\n      op = [6, e];\n      y = 0;\n    } finally {\n      f = t = 0;\n    }\n    if (op[0] & 5) throw op[1];\n    return {\n      value: op[0] ? op[1] : void 0,\n      done: true\n    };\n  }\n};\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.IbcAPI = void 0;\nvar BaseAPI_1 = require(\"./BaseAPI\");\nvar IdentifiedClient_1 = require(\"../../../core/ibc/core/client/IdentifiedClient\");\n//import { Params as ControllerParams } from '../../../core/ibc/applications/interchain-account/controller/Params';\nvar Params_1 = require(\"../../../core/ibc/applications/interchain-account/host/Params\");\nvar channel_1 = require(\"../../../core/ibc/core/channel\");\nvar connection_1 = require(\"../../../core/ibc/core/connection\");\nvar Height_1 = require(\"../../../core/ibc/core/client/Height\");\nvar IbcAPI = /** @class */function (_super) {\n  __extends(IbcAPI, _super);\n  function IbcAPI(lcd) {\n    var _this = _super.call(this, lcd.apiRequester) || this;\n    _this.lcd = lcd;\n    return _this;\n  }\n  /**\n   * query all the IBC channels of a chain\n   */\n  IbcAPI.prototype.channels = function (params) {\n    if (params === void 0) {\n      params = {};\n    }\n    return __awaiter(this, void 0, void 0, function () {\n      return __generator(this, function (_a) {\n        return [2 /*return*/, this.c.get(\"/ibc/core/channel/v1/channels\", params).then(function (d) {\n          return [d.channels.map(channel_1.Channel.fromData), d.pagination];\n        })];\n      });\n    });\n  };\n  /**\n   * query the information of the port at given channel\n   * @param channel_id channel identifier\n   * @param port_id port name\n   */\n  IbcAPI.prototype.port = function (channel_id, port_id, params) {\n    if (params === void 0) {\n      params = {};\n    }\n    return __awaiter(this, void 0, void 0, function () {\n      return __generator(this, function (_a) {\n        return [2 /*return*/, this.c.get(\"/ibc/core/channel/v1/channels/\".concat(channel_id, \"/ports/\").concat(port_id), params).then(function (d) {\n          return {\n            channel: channel_1.Channel.fromData(d.channel),\n            proof: d.proof,\n            proof_height: Height_1.Height.fromData(d.proof_height)\n          };\n        })];\n      });\n    });\n  };\n  /**\n   *  query all the IBC connections of a chain\n   */\n  IbcAPI.prototype.connections = function (params) {\n    if (params === void 0) {\n      params = {};\n    }\n    return __awaiter(this, void 0, void 0, function () {\n      return __generator(this, function (_a) {\n        return [2 /*return*/, this.c.get(\"/ibc/core/connection/v1/connections\", params).then(function (d) {\n          return [d.connections.map(connection_1.IdentifiedConnection.fromData), d.pagination];\n        })];\n      });\n    });\n  };\n  /**\n   * query an IBC connection end\n   * @param connection_id connection unique identifier\n   */\n  IbcAPI.prototype.connection = function (connection_id, params) {\n    if (params === void 0) {\n      params = {};\n    }\n    return __awaiter(this, void 0, void 0, function () {\n      return __generator(this, function (_a) {\n        return [2 /*return*/, this.c.get(\"/ibc/core/connection/v1/connections/\".concat(connection_id), params).then(function (d) {\n          return connection_1.IdentifiedConnection.fromData(d.connection);\n        })];\n      });\n    });\n  };\n  /**\n   * query all the channels associated with a connection end\n   * @param connection_id connection unique identifier\n   */\n  IbcAPI.prototype.connectionChannels = function (connection_id, params) {\n    if (params === void 0) {\n      params = {};\n    }\n    return __awaiter(this, void 0, void 0, function () {\n      return __generator(this, function (_a) {\n        return [2 /*return*/, this.c.get(\"/ibc/core/channel/v1/connections/\".concat(connection_id, \"/channels\"), params).then(function (d) {\n          return [d.channels.map(channel_1.Channel.fromData), Height_1.Height.fromData(d.height), d.pagination];\n        })];\n      });\n    });\n  };\n  /**\n   * Gets the current transfer application parameters.\n   */\n  IbcAPI.prototype.parameters = function (params) {\n    if (params === void 0) {\n      params = {};\n    }\n    return __awaiter(this, void 0, void 0, function () {\n      var url;\n      return __generator(this, function (_a) {\n        url = this.lcd.config.isClassic ? \"/ibc/client/v1/params\" : \"/ibc/core/client/v1/params\";\n        return [2 /*return*/, this.c.get(url, params).then(function (_a) {\n          var d = _a.params;\n          return {\n            allowed_clients: d.allowed_clients\n          };\n        })];\n      });\n    });\n  };\n  /**\n   * query all the IBC light clients of a chain\n   */\n  IbcAPI.prototype.clientStates = function (params) {\n    if (params === void 0) {\n      params = {};\n    }\n    return __awaiter(this, void 0, void 0, function () {\n      return __generator(this, function (_a) {\n        return [2 /*return*/, this.c.get(\"/ibc/core/client/v1/client_states\", params).then(function (d) {\n          return [d.client_states.map(IdentifiedClient_1.IdentifiedClientState.fromData), d.pagination];\n        })];\n      });\n    });\n  };\n  /**\n   * query an IBC light client\n   * @param client_id client state unique identifier\n   * @returns\n   */\n  IbcAPI.prototype.clientState = function (client_id, params) {\n    if (params === void 0) {\n      params = {};\n    }\n    return __awaiter(this, void 0, void 0, function () {\n      return __generator(this, function (_a) {\n        return [2 /*return*/, this.c.get(\"/ibc/core/client/v1/client_states/\".concat(client_id), params).then(function (d) {\n          return IdentifiedClient_1.IdentifiedClientState.fromData(d.client_state);\n        })];\n      });\n    });\n  };\n  /**\n   * query the status of an IBC light client\n   * @param client_id client state unique identifier\n   * @returns\n   */\n  IbcAPI.prototype.clientStatus = function (client_id, params) {\n    if (params === void 0) {\n      params = {};\n    }\n    return __awaiter(this, void 0, void 0, function () {\n      return __generator(this, function (_a) {\n        return [2 /*return*/, this.c.get(\"/ibc/core/client/v1/client_status/\".concat(client_id), params).then()];\n      });\n    });\n  };\n  /**\n   * query all the consensus state associated with a given client\n   * @param client_id client identifier\n   * @returns\n   */\n  IbcAPI.prototype.consensusStates = function (client_id, params) {\n    if (params === void 0) {\n      params = {};\n    }\n    return __awaiter(this, void 0, void 0, function () {\n      return __generator(this, function (_a) {\n        return [2 /*return*/, this.c.get(\"/ibc/core/client/v1/consensus_states/\".concat(client_id), params).then()];\n      });\n    });\n  };\n  /**\n   * Gets paramaters for interchain account controller.\n   * NOTE: CURRENTLY LCD DOESN'T SERVE THE ENDPOINT\n  /*\n  public async interchainAccountControllerParameters(\n    params: APIParams = {}\n  ): Promise<ControllerParams> {\n    return this.c\n      .get<{ params: ControllerParams.Data }>(\n        `/ibc/apps/interchain_accounts/controller/v1/params`,\n        params\n      )\n      .then(({ params: d }) => ControllerParams.fromData(d));\n  }\n  */\n  /**\n   * Gets paramaters for interchain account host.\n   */\n  IbcAPI.prototype.interchainAccountHostParameters = function (params) {\n    if (params === void 0) {\n      params = {};\n    }\n    return __awaiter(this, void 0, void 0, function () {\n      return __generator(this, function (_a) {\n        return [2 /*return*/, this.c.get(\"/ibc/apps/interchain_accounts/host/v1/params\", params).then(function (_a) {\n          var d = _a.params;\n          return Params_1.Params.fromData(d);\n        })];\n      });\n    });\n  };\n  return IbcAPI;\n}(BaseAPI_1.BaseAPI);\nexports.IbcAPI = IbcAPI;","map":{"version":3,"names":["BaseAPI_1","require","IdentifiedClient_1","Params_1","channel_1","connection_1","Height_1","IbcAPI","_super","__extends","lcd","_this","call","apiRequester","prototype","channels","params","c","get","then","d","map","Channel","fromData","pagination","port","channel_id","port_id","concat","channel","proof","proof_height","Height","connections","IdentifiedConnection","connection","connection_id","connectionChannels","height","parameters","url","config","isClassic","_a","allowed_clients","clientStates","client_states","IdentifiedClientState","clientState","client_id","client_state","clientStatus","consensusStates","interchainAccountHostParameters","Params","BaseAPI","exports"],"sources":["../../../../src/client/lcd/api/IbcAPI.ts"],"sourcesContent":[null],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,IAAAA,SAAA,GAAAC,OAAA;AAEA,IAAAC,kBAAA,GAAAD,OAAA;AAGA;AACA,IAAAE,QAAA,GAAAF,OAAA;AACA,IAAAG,SAAA,GAAAH,OAAA;AACA,IAAAI,YAAA,GAAAJ,OAAA;AACA,IAAAK,QAAA,GAAAL,OAAA;AAkCA,IAAAM,MAAA,0BAAAC,MAAA;EAA4BC,SAAA,CAAAF,MAAA,EAAAC,MAAA;EAC1B,SAAAD,OAAmBG,GAAc;IAAjC,IAAAC,KAAA,GACEH,MAAA,CAAAI,IAAA,OAAMF,GAAG,CAACG,YAAY,CAAC;IADNF,KAAA,CAAAD,GAAG,GAAHA,GAAG;;EAEtB;EAEA;;;EAGaH,MAAA,CAAAO,SAAA,CAAAC,QAAQ,GAArB,UACEC,MAAsB;IAAtB,IAAAA,MAAA;MAAAA,MAAA,KAAsB;IAAA;;;QAEtB,sBAAO,IAAI,CAACC,CAAC,CACVC,GAAG,CAGD,+BAA+B,EAAEF,MAAM,CAAC,CAC1CG,IAAI,CAAC,UAAAC,CAAC;UAAI,QAACA,CAAC,CAACL,QAAQ,CAACM,GAAG,CAACjB,SAAA,CAAAkB,OAAO,CAACC,QAAQ,CAAC,EAAEH,CAAC,CAACI,UAAU,CAAC;QAAhD,CAAgD,CAAC;;;GAC/D;EAED;;;;;EAKajB,MAAA,CAAAO,SAAA,CAAAW,IAAI,GAAjB,UACEC,UAAkB,EAClBC,OAAe,EACfX,MAAsB;IAAtB,IAAAA,MAAA;MAAAA,MAAA,KAAsB;IAAA;;;QAEtB,sBAAO,IAAI,CAACC,CAAC,CACVC,GAAG,CAID,iCAAAU,MAAA,CAAiCF,UAAU,aAAAE,MAAA,CAAUD,OAAO,CAAE,EAAEX,MAAM,CAAC,CACzEG,IAAI,CAAC,UAAAC,CAAC;UACL,OAAO;YACLS,OAAO,EAAEzB,SAAA,CAAAkB,OAAO,CAACC,QAAQ,CAACH,CAAC,CAACS,OAAO,CAAC;YACpCC,KAAK,EAAEV,CAAC,CAACU,KAAK;YACdC,YAAY,EAAEzB,QAAA,CAAA0B,MAAM,CAACT,QAAQ,CAACH,CAAC,CAACW,YAAY;WAC7C;QACH,CAAC,CAAC;;;GACL;EAED;;;EAGaxB,MAAA,CAAAO,SAAA,CAAAmB,WAAW,GAAxB,UACEjB,MAAsB;IAAtB,IAAAA,MAAA;MAAAA,MAAA,KAAsB;IAAA;;;QAEtB,sBAAO,IAAI,CAACC,CAAC,CACVC,GAAG,CAGD,qCAAqC,EAAEF,MAAM,CAAC,CAChDG,IAAI,CAAC,UAAAC,CAAC;UAAI,QACTA,CAAC,CAACa,WAAW,CAACZ,GAAG,CAAChB,YAAA,CAAA6B,oBAAoB,CAACX,QAAQ,CAAC,EAChDH,CAAC,CAACI,UAAU,CACb;QAHU,CAGV,CAAC;;;GACL;EAED;;;;EAIajB,MAAA,CAAAO,SAAA,CAAAqB,UAAU,GAAvB,UACEC,aAAqB,EACrBpB,MAAsB;IAAtB,IAAAA,MAAA;MAAAA,MAAA,KAAsB;IAAA;;;QAEtB,sBAAO,IAAI,CAACC,CAAC,CACVC,GAAG,CAED,uCAAAU,MAAA,CAAuCQ,aAAa,CAAE,EAAEpB,MAAM,CAAC,CACjEG,IAAI,CAAC,UAAAC,CAAC;UAAI,OAAAf,YAAA,CAAA6B,oBAAoB,CAACX,QAAQ,CAACH,CAAC,CAACe,UAAU,CAAC;QAA3C,CAA2C,CAAC;;;GAC1D;EAED;;;;EAIa5B,MAAA,CAAAO,SAAA,CAAAuB,kBAAkB,GAA/B,UACED,aAAqB,EACrBpB,MAAsB;IAAtB,IAAAA,MAAA;MAAAA,MAAA,KAAsB;IAAA;;;QAEtB,sBAAO,IAAI,CAACC,CAAC,CACVC,GAAG,CAID,oCAAAU,MAAA,CAAoCQ,aAAa,cAAW,EAAEpB,MAAM,CAAC,CACvEG,IAAI,CAAC,UAAAC,CAAC;UAAI,QACTA,CAAC,CAACL,QAAQ,CAACM,GAAG,CAACjB,SAAA,CAAAkB,OAAO,CAACC,QAAQ,CAAC,EAChCjB,QAAA,CAAA0B,MAAM,CAACT,QAAQ,CAACH,CAAC,CAACkB,MAAM,CAAC,EACzBlB,CAAC,CAACI,UAAU,CACb;QAJU,CAIV,CAAC;;;GACL;EAED;;;EAGajB,MAAA,CAAAO,SAAA,CAAAyB,UAAU,GAAvB,UAAwBvB,MAAsB;IAAtB,IAAAA,MAAA;MAAAA,MAAA,KAAsB;IAAA;;;;QACtCwB,GAAG,GAAG,IAAI,CAAC9B,GAAG,CAAC+B,MAAM,CAACC,SAAS,GACjC,uBAAuB,GACvB,4BAA4B;QAEhC,sBAAO,IAAI,CAACzB,CAAC,CACVC,GAAG,CAAmCsB,GAAG,EAAExB,MAAM,CAAC,CAClDG,IAAI,CAAC,UAACwB,EAAa;cAAHvB,CAAC,GAAAuB,EAAA,CAAA3B,MAAA;UAAO,OAAC;YACxB4B,eAAe,EAAExB,CAAC,CAACwB;WACpB;QAFwB,CAEvB,CAAC;;;GACN;EAED;;;EAGarC,MAAA,CAAAO,SAAA,CAAA+B,YAAY,GAAzB,UACE7B,MAAmD;IAAnD,IAAAA,MAAA;MAAAA,MAAA,KAAmD;IAAA;;;QAEnD,sBAAO,IAAI,CAACC,CAAC,CACVC,GAAG,CAGD,mCAAmC,EAAEF,MAAM,CAAC,CAC9CG,IAAI,CAAC,UAAAC,CAAC;UAAI,QACTA,CAAC,CAAC0B,aAAa,CAACzB,GAAG,CAACnB,kBAAA,CAAA6C,qBAAqB,CAACxB,QAAQ,CAAC,EACnDH,CAAC,CAACI,UAAU,CACb;QAHU,CAGV,CAAC;;;GACL;EAED;;;;;EAKajB,MAAA,CAAAO,SAAA,CAAAkC,WAAW,GAAxB,UACEC,SAAiB,EACjBjC,MAAsB;IAAtB,IAAAA,MAAA;MAAAA,MAAA,KAAsB;IAAA;;;QAEtB,sBAAO,IAAI,CAACC,CAAC,CACVC,GAAG,CAED,qCAAAU,MAAA,CAAqCqB,SAAS,CAAE,EAAEjC,MAAM,CAAC,CAC3DG,IAAI,CAAC,UAAAC,CAAC;UAAI,OAAAlB,kBAAA,CAAA6C,qBAAqB,CAACxB,QAAQ,CAACH,CAAC,CAAC8B,YAAY,CAAC;QAA9C,CAA8C,CAAC;;;GAC7D;EAED;;;;;EAKa3C,MAAA,CAAAO,SAAA,CAAAqC,YAAY,GAAzB,UACEF,SAAiB,EACjBjC,MAAsB;IAAtB,IAAAA,MAAA;MAAAA,MAAA,KAAsB;IAAA;;;QAEtB,sBAAO,IAAI,CAACC,CAAC,CACVC,GAAG,CAED,qCAAAU,MAAA,CAAqCqB,SAAS,CAAE,EAAEjC,MAAM,CAAC,CAC3DG,IAAI,EAAE;;;GACV;EAED;;;;;EAKaZ,MAAA,CAAAO,SAAA,CAAAsC,eAAe,GAA5B,UACEH,SAAiB,EACjBjC,MAAmD;IAAnD,IAAAA,MAAA;MAAAA,MAAA,KAAmD;IAAA;;;QAEnD,sBAAO,IAAI,CAACC,CAAC,CACVC,GAAG,CAGD,wCAAAU,MAAA,CAAwCqB,SAAS,CAAE,EAAEjC,MAAM,CAAC,CAC9DG,IAAI,EAAE;;;GACV;EAED;;;;;;;;;;;;;;;EAgBA;;;EAGaZ,MAAA,CAAAO,SAAA,CAAAuC,+BAA+B,GAA5C,UACErC,MAAsB;IAAtB,IAAAA,MAAA;MAAAA,MAAA,KAAsB;IAAA;;;QAEtB,sBAAO,IAAI,CAACC,CAAC,CACVC,GAAG,CACF,8CAA8C,EAC9CF,MAAM,CACP,CACAG,IAAI,CAAC,UAACwB,EAAa;cAAHvB,CAAC,GAAAuB,EAAA,CAAA3B,MAAA;UAAO,OAAAb,QAAA,CAAAmD,MAAU,CAAC/B,QAAQ,CAACH,CAAC,CAAC;QAAtB,CAAsB,CAAC;;;GACnD;EACH,OAAAb,MAAC;AAAD,CAAC,CA/M2BP,SAAA,CAAAuD,OAAO;AAAtBC,OAAA,CAAAjD,MAAA,GAAAA,MAAA"},"metadata":{},"sourceType":"script","externalDependencies":[]}