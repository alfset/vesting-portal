{"ast":null,"code":"\"use strict\";\n\nvar __extends = this && this.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p];\n    };\n    return extendStatics(d, b);\n  };\n  return function (d, b) {\n    if (typeof b !== \"function\" && b !== null) throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n    extendStatics(d, b);\n    function __() {\n      this.constructor = d;\n    }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.ExchangeRateTuple = exports.AggregateExchangeRateVote = void 0;\nvar json_1 = require(\"../../util/json\");\nvar oracle_1 = require(\"@classic-terra/terra.proto/terra/oracle/v1beta1/oracle\");\nvar numeric_1 = require(\"../numeric\");\n/**\n * Stores information about data about Oracle aggregate vote fetched from the blockchain.\n */\nvar AggregateExchangeRateVote = /** @class */function (_super) {\n  __extends(AggregateExchangeRateVote, _super);\n  /**\n   * @param exchange_rate_tuples exchange rates for LUNA\n   * @param voter validator\n   */\n  function AggregateExchangeRateVote(exchange_rate_tuples, voter) {\n    var _this = _super.call(this) || this;\n    _this.exchange_rate_tuples = exchange_rate_tuples;\n    _this.voter = voter;\n    return _this;\n  }\n  AggregateExchangeRateVote.fromAmino = function (data) {\n    var exchange_rate_tuples = data.exchange_rate_tuples,\n      voter = data.voter;\n    return new AggregateExchangeRateVote(exchange_rate_tuples.map(function (t) {\n      return ExchangeRateTuple.fromAmino(t);\n    }), voter);\n  };\n  AggregateExchangeRateVote.prototype.toAmino = function () {\n    var _a = this,\n      exchange_rate_tuples = _a.exchange_rate_tuples,\n      voter = _a.voter;\n    return {\n      exchange_rate_tuples: exchange_rate_tuples.map(function (e) {\n        return e.toAmino();\n      }),\n      voter: voter\n    };\n  };\n  AggregateExchangeRateVote.fromData = function (data) {\n    var exchange_rate_tuples = data.exchange_rate_tuples,\n      voter = data.voter;\n    return new AggregateExchangeRateVote(exchange_rate_tuples.map(function (t) {\n      return ExchangeRateTuple.fromData(t);\n    }), voter);\n  };\n  AggregateExchangeRateVote.prototype.toData = function () {\n    var _a = this,\n      exchange_rate_tuples = _a.exchange_rate_tuples,\n      voter = _a.voter;\n    return {\n      exchange_rate_tuples: exchange_rate_tuples.map(function (e) {\n        return e.toData();\n      }),\n      voter: voter\n    };\n  };\n  AggregateExchangeRateVote.fromProto = function (data) {\n    return new AggregateExchangeRateVote(data.exchangeRateTuples.map(function (t) {\n      return ExchangeRateTuple.fromProto(t);\n    }), data.voter);\n  };\n  AggregateExchangeRateVote.prototype.toProto = function () {\n    var _a = this,\n      exchange_rate_tuples = _a.exchange_rate_tuples,\n      voter = _a.voter;\n    return oracle_1.AggregateExchangeRateVote.fromPartial({\n      exchangeRateTuples: exchange_rate_tuples.map(function (t) {\n        return t.toProto();\n      }),\n      voter: voter\n    });\n  };\n  return AggregateExchangeRateVote;\n}(json_1.JSONSerializable);\nexports.AggregateExchangeRateVote = AggregateExchangeRateVote;\nvar ExchangeRateTuple = /** @class */function (_super) {\n  __extends(ExchangeRateTuple, _super);\n  function ExchangeRateTuple(denom, exchange_rate) {\n    var _this = _super.call(this) || this;\n    _this.denom = denom;\n    _this.exchange_rate = new numeric_1.Dec(exchange_rate);\n    return _this;\n  }\n  ExchangeRateTuple.fromAmino = function (data) {\n    var denom = data.denom,\n      exchange_rate = data.exchange_rate;\n    return new ExchangeRateTuple(denom, exchange_rate);\n  };\n  ExchangeRateTuple.prototype.toAmino = function () {\n    var _a = this,\n      denom = _a.denom,\n      exchange_rate = _a.exchange_rate;\n    return {\n      denom: denom,\n      exchange_rate: exchange_rate.toString()\n    };\n  };\n  ExchangeRateTuple.fromData = function (data) {\n    var denom = data.denom,\n      exchange_rate = data.exchange_rate;\n    return new ExchangeRateTuple(denom, exchange_rate);\n  };\n  ExchangeRateTuple.prototype.toData = function () {\n    var _a = this,\n      denom = _a.denom,\n      exchange_rate = _a.exchange_rate;\n    return {\n      denom: denom,\n      exchange_rate: exchange_rate.toString()\n    };\n  };\n  ExchangeRateTuple.fromProto = function (proto) {\n    return new ExchangeRateTuple(proto.denom, proto.exchangeRate);\n  };\n  ExchangeRateTuple.prototype.toProto = function () {\n    var _a = this,\n      denom = _a.denom,\n      exchange_rate = _a.exchange_rate;\n    return oracle_1.ExchangeRateTuple.fromPartial({\n      denom: denom,\n      exchangeRate: exchange_rate.toString()\n    });\n  };\n  return ExchangeRateTuple;\n}(json_1.JSONSerializable);\nexports.ExchangeRateTuple = ExchangeRateTuple;","map":{"version":3,"names":["json_1","require","oracle_1","numeric_1","AggregateExchangeRateVote","_super","__extends","exchange_rate_tuples","voter","_this","call","fromAmino","data","map","t","ExchangeRateTuple","prototype","toAmino","_a","e","fromData","toData","fromProto","exchangeRateTuples","toProto","fromPartial","JSONSerializable","exports","denom","exchange_rate","Dec","toString","proto","exchangeRate"],"sources":["../../../src/core/oracle/AggregateExchangeRateVote.ts"],"sourcesContent":[null],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}