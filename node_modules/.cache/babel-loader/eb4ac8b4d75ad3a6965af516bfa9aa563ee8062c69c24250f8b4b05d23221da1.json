{"ast":null,"code":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.manageBuyOffer = manageBuyOffer;\nvar _isUndefined = require('lodash/isUndefined');\nvar _isUndefined2 = _interopRequireDefault(_isUndefined);\nvar _jsXdr = require('js-xdr');\nvar _xdr = require('../xdr');\nvar _xdr2 = _interopRequireDefault(_xdr);\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\n/**\n * Returns a XDR ManageBuyOfferOp. A \"manage buy offer\" operation creates, updates, or\n * deletes a buy offer.\n * @function\n * @alias Operation.manageBuyOffer\n * @param {object} opts Options object\n * @param {Asset} opts.selling - What you're selling.\n * @param {Asset} opts.buying - What you're buying.\n * @param {string} opts.buyAmount - The total amount you're buying. If 0, deletes the offer.\n * @param {number|string|BigNumber|Object} opts.price - Price of 1 unit of `buying` in terms of `selling`.\n * @param {number} opts.price.n - If `opts.price` is an object: the price numerator\n * @param {number} opts.price.d - If `opts.price` is an object: the price denominator\n * @param {number|string} [opts.offerId ] - If `0`, will create a new offer (default). Otherwise, edits an exisiting offer.\n * @param {string} [opts.source] - The source account (defaults to transaction source).\n * @throws {Error} Throws `Error` when the best rational approximation of `price` cannot be found.\n * @returns {xdr.ManageBuyOfferOp} Manage Buy Offer operation\n */\nfunction manageBuyOffer(opts) {\n  var attributes = {};\n  attributes.selling = opts.selling.toXDRObject();\n  attributes.buying = opts.buying.toXDRObject();\n  if (!this.isValidAmount(opts.buyAmount, true)) {\n    throw new TypeError(this.constructAmountRequirementsError('buyAmount'));\n  }\n  attributes.buyAmount = this._toXDRAmount(opts.buyAmount);\n  if ((0, _isUndefined2.default)(opts.price)) {\n    throw new TypeError('price argument is required');\n  }\n  attributes.price = this._toXDRPrice(opts.price);\n  if (!(0, _isUndefined2.default)(opts.offerId)) {\n    opts.offerId = opts.offerId.toString();\n  } else {\n    opts.offerId = '0';\n  }\n  attributes.offerId = _jsXdr.Hyper.fromString(opts.offerId);\n  var manageBuyOfferOp = new _xdr2.default.ManageBuyOfferOp(attributes);\n  var opAttributes = {};\n  opAttributes.body = _xdr2.default.OperationBody.manageBuyOffer(manageBuyOfferOp);\n  this.setSourceAccount(opAttributes, opts);\n  return new _xdr2.default.Operation(opAttributes);\n}","map":{"version":3,"names":["Object","defineProperty","exports","value","manageBuyOffer","_isUndefined","require","_isUndefined2","_interopRequireDefault","_jsXdr","_xdr","_xdr2","obj","__esModule","default","opts","attributes","selling","toXDRObject","buying","isValidAmount","buyAmount","TypeError","constructAmountRequirementsError","_toXDRAmount","price","_toXDRPrice","offerId","toString","Hyper","fromString","manageBuyOfferOp","ManageBuyOfferOp","opAttributes","body","OperationBody","setSourceAccount","Operation"],"sources":["/workspace/Planq-Dapps/vesting-portal/node_modules/stellar-base/lib/operations/manage_buy_offer.js"],"sourcesContent":["'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.manageBuyOffer = manageBuyOffer;\n\nvar _isUndefined = require('lodash/isUndefined');\n\nvar _isUndefined2 = _interopRequireDefault(_isUndefined);\n\nvar _jsXdr = require('js-xdr');\n\nvar _xdr = require('../xdr');\n\nvar _xdr2 = _interopRequireDefault(_xdr);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * Returns a XDR ManageBuyOfferOp. A \"manage buy offer\" operation creates, updates, or\n * deletes a buy offer.\n * @function\n * @alias Operation.manageBuyOffer\n * @param {object} opts Options object\n * @param {Asset} opts.selling - What you're selling.\n * @param {Asset} opts.buying - What you're buying.\n * @param {string} opts.buyAmount - The total amount you're buying. If 0, deletes the offer.\n * @param {number|string|BigNumber|Object} opts.price - Price of 1 unit of `buying` in terms of `selling`.\n * @param {number} opts.price.n - If `opts.price` is an object: the price numerator\n * @param {number} opts.price.d - If `opts.price` is an object: the price denominator\n * @param {number|string} [opts.offerId ] - If `0`, will create a new offer (default). Otherwise, edits an exisiting offer.\n * @param {string} [opts.source] - The source account (defaults to transaction source).\n * @throws {Error} Throws `Error` when the best rational approximation of `price` cannot be found.\n * @returns {xdr.ManageBuyOfferOp} Manage Buy Offer operation\n */\nfunction manageBuyOffer(opts) {\n  var attributes = {};\n  attributes.selling = opts.selling.toXDRObject();\n  attributes.buying = opts.buying.toXDRObject();\n  if (!this.isValidAmount(opts.buyAmount, true)) {\n    throw new TypeError(this.constructAmountRequirementsError('buyAmount'));\n  }\n  attributes.buyAmount = this._toXDRAmount(opts.buyAmount);\n  if ((0, _isUndefined2.default)(opts.price)) {\n    throw new TypeError('price argument is required');\n  }\n  attributes.price = this._toXDRPrice(opts.price);\n\n  if (!(0, _isUndefined2.default)(opts.offerId)) {\n    opts.offerId = opts.offerId.toString();\n  } else {\n    opts.offerId = '0';\n  }\n\n  attributes.offerId = _jsXdr.Hyper.fromString(opts.offerId);\n  var manageBuyOfferOp = new _xdr2.default.ManageBuyOfferOp(attributes);\n\n  var opAttributes = {};\n  opAttributes.body = _xdr2.default.OperationBody.manageBuyOffer(manageBuyOfferOp);\n  this.setSourceAccount(opAttributes, opts);\n\n  return new _xdr2.default.Operation(opAttributes);\n}"],"mappings":"AAAA,YAAY;;AAEZA,MAAM,CAACC,cAAc,CAACC,OAAO,EAAE,YAAY,EAAE;EAC3CC,KAAK,EAAE;AACT,CAAC,CAAC;AACFD,OAAO,CAACE,cAAc,GAAGA,cAAc;AAEvC,IAAIC,YAAY,GAAGC,OAAO,CAAC,oBAAoB,CAAC;AAEhD,IAAIC,aAAa,GAAGC,sBAAsB,CAACH,YAAY,CAAC;AAExD,IAAII,MAAM,GAAGH,OAAO,CAAC,QAAQ,CAAC;AAE9B,IAAII,IAAI,GAAGJ,OAAO,CAAC,QAAQ,CAAC;AAE5B,IAAIK,KAAK,GAAGH,sBAAsB,CAACE,IAAI,CAAC;AAExC,SAASF,sBAAsBA,CAACI,GAAG,EAAE;EAAE,OAAOA,GAAG,IAAIA,GAAG,CAACC,UAAU,GAAGD,GAAG,GAAG;IAAEE,OAAO,EAAEF;EAAI,CAAC;AAAE;;AAE9F;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAASR,cAAcA,CAACW,IAAI,EAAE;EAC5B,IAAIC,UAAU,GAAG,CAAC,CAAC;EACnBA,UAAU,CAACC,OAAO,GAAGF,IAAI,CAACE,OAAO,CAACC,WAAW,CAAC,CAAC;EAC/CF,UAAU,CAACG,MAAM,GAAGJ,IAAI,CAACI,MAAM,CAACD,WAAW,CAAC,CAAC;EAC7C,IAAI,CAAC,IAAI,CAACE,aAAa,CAACL,IAAI,CAACM,SAAS,EAAE,IAAI,CAAC,EAAE;IAC7C,MAAM,IAAIC,SAAS,CAAC,IAAI,CAACC,gCAAgC,CAAC,WAAW,CAAC,CAAC;EACzE;EACAP,UAAU,CAACK,SAAS,GAAG,IAAI,CAACG,YAAY,CAACT,IAAI,CAACM,SAAS,CAAC;EACxD,IAAI,CAAC,CAAC,EAAEd,aAAa,CAACO,OAAO,EAAEC,IAAI,CAACU,KAAK,CAAC,EAAE;IAC1C,MAAM,IAAIH,SAAS,CAAC,4BAA4B,CAAC;EACnD;EACAN,UAAU,CAACS,KAAK,GAAG,IAAI,CAACC,WAAW,CAACX,IAAI,CAACU,KAAK,CAAC;EAE/C,IAAI,CAAC,CAAC,CAAC,EAAElB,aAAa,CAACO,OAAO,EAAEC,IAAI,CAACY,OAAO,CAAC,EAAE;IAC7CZ,IAAI,CAACY,OAAO,GAAGZ,IAAI,CAACY,OAAO,CAACC,QAAQ,CAAC,CAAC;EACxC,CAAC,MAAM;IACLb,IAAI,CAACY,OAAO,GAAG,GAAG;EACpB;EAEAX,UAAU,CAACW,OAAO,GAAGlB,MAAM,CAACoB,KAAK,CAACC,UAAU,CAACf,IAAI,CAACY,OAAO,CAAC;EAC1D,IAAII,gBAAgB,GAAG,IAAIpB,KAAK,CAACG,OAAO,CAACkB,gBAAgB,CAAChB,UAAU,CAAC;EAErE,IAAIiB,YAAY,GAAG,CAAC,CAAC;EACrBA,YAAY,CAACC,IAAI,GAAGvB,KAAK,CAACG,OAAO,CAACqB,aAAa,CAAC/B,cAAc,CAAC2B,gBAAgB,CAAC;EAChF,IAAI,CAACK,gBAAgB,CAACH,YAAY,EAAElB,IAAI,CAAC;EAEzC,OAAO,IAAIJ,KAAK,CAACG,OAAO,CAACuB,SAAS,CAACJ,YAAY,CAAC;AAClD"},"metadata":{},"sourceType":"script","externalDependencies":[]}