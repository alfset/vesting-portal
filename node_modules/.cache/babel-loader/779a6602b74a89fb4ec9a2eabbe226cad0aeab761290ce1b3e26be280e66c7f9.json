{"ast":null,"code":"import _taggedTemplateLiteral from \"/workspace/Planq-Dapps/vesting-portal/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";\nvar _templateObject, _templateObject2, _templateObject3;\nimport { jsx as _jsx, jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { isMobile as isMobileBrowser } from '@terra-dev/browser-check';\nimport QRCode from 'qrcode.react';\nimport { createElement, useCallback, useMemo } from 'react';\nimport { render } from 'react-dom';\nimport styled, { keyframes } from 'styled-components';\nexport class TerraWalletconnectQrcodeModal {\n  constructor() {\n    this.modalContainer = null;\n    this.callback = null;\n    this.setCloseCallback = callback => {\n      this.callback = callback;\n    };\n    this.open = (uri, cb, _qrcodeModalOptions) => {\n      var _a;\n      const modalContainer = window.document.createElement('div');\n      const query = encodeURIComponent(\"action=wallet_connect&payload=\".concat(encodeURIComponent(uri)));\n      const schemeUri = \"https://terrastation.page.link/?link=https://terra.money?\".concat(query, \"&apn=money.terra.station&ibi=money.terra.station&isi=1548434735\");\n      const modal = /*#__PURE__*/createElement(TerraQRCodeModal, {\n        schemeUri,\n        onClose: () => {\n          if (this.callback) {\n            this.callback();\n            this.callback = null;\n          }\n          this.close();\n        }\n      });\n      if (isMobileBrowser()) {\n        window.location.href = schemeUri;\n      }\n      render(modal, modalContainer);\n      (_a = window.document.querySelector('body')) === null || _a === void 0 ? void 0 : _a.appendChild(modalContainer);\n      this.modalContainer = modalContainer;\n    };\n    this.close = () => {\n      var _a;\n      if (this.modalContainer) {\n        (_a = this.modalContainer.parentElement) === null || _a === void 0 ? void 0 : _a.removeChild(this.modalContainer);\n      }\n      this.callback = null;\n    };\n  }\n}\nfunction TerraQRCodeModalBase(_ref) {\n  let {\n    schemeUri,\n    className,\n    onClose\n  } = _ref;\n  const isMobile = useMemo(() => isMobileBrowser(), []);\n  const openTerraStationMobile = useCallback(() => {\n    window.location.href = schemeUri;\n  }, [schemeUri]);\n  return _jsxs(\"div\", Object.assign({\n    className: className\n  }, {\n    children: [_jsx(\"div\", {\n      onClick: onClose\n    }, void 0), isMobile ? _jsxs(\"section\", Object.assign({\n      className: \"mobile\"\n    }, {\n      children: [_jsx(\"h1\", {\n        children: \"Wallet Connect\"\n      }, void 0), _jsx(\"button\", Object.assign({\n        onClick: openTerraStationMobile,\n        className: \"flat-button\"\n      }, {\n        children: \"Open Terra Station Mobile\"\n      }), void 0)]\n    }), void 0) : _jsxs(\"section\", Object.assign({\n      className: \"desktop\"\n    }, {\n      children: [_jsx(\"h1\", {\n        children: \"Wallet Connect\"\n      }, void 0), _jsx(QRCode, {\n        value: schemeUri,\n        size: 240\n      }, void 0)]\n    }), void 0)]\n  }), void 0);\n}\nconst modalEnter = keyframes(_templateObject || (_templateObject = _taggedTemplateLiteral([\"\\n  0% {\\n    opacity: 0;\\n  }\\n  \\n  100% {\\n    opacity: 1;\\n  }\\n\"])));\nconst sectionEnter = keyframes(_templateObject2 || (_templateObject2 = _taggedTemplateLiteral([\"\\n  0% {\\n    opacity: 0;\\n    transform: scale(0.4);\\n  }\\n  \\n  100% {\\n    opacity: 1;\\n    transform: scale(1);\\n  }\\n\"])));\nconst TerraQRCodeModal = styled(TerraQRCodeModalBase)(_templateObject3 || (_templateObject3 = _taggedTemplateLiteral([\"\\n  position: fixed;\\n  z-index: 100000;\\n\\n  color: #000000;\\n\\n  left: 0;\\n  top: 0;\\n  width: 100vw;\\n  height: 100vh;\\n\\n  display: grid;\\n  place-content: center;\\n\\n  > div {\\n    position: fixed;\\n    z-index: -1;\\n\\n    left: 0;\\n    top: 0;\\n    width: 100vw;\\n    height: 100vh;\\n    background-color: rgba(0, 0, 0, 0.3);\\n\\n    animation: \", \" 0.2s ease-in-out;\\n  }\\n\\n  > section {\\n    border-radius: 25px;\\n\\n    background-color: #ffffff;\\n    box-shadow: 0 4px 18px 3px rgba(0, 0, 0, 0.43);\\n\\n    animation: \", \" 0.2s ease-in-out;\\n\\n    button {\\n      cursor: pointer;\\n\\n      display: block;\\n      outline: none;\\n      background-color: transparent;\\n      width: 100%;\\n      height: 32px;\\n      font-size: 13px;\\n      letter-spacing: -0.2px;\\n      border-radius: 18px;\\n      border: solid 1px #2c2c2c;\\n\\n      &.flat-button {\\n        border: 0;\\n        color: #ffffff;\\n        background-color: #2c2c2c;\\n      }\\n    }\\n\\n    .separator {\\n      height: 12px;\\n\\n      position: relative;\\n\\n      hr {\\n        position: absolute;\\n        top: 5px;\\n        left: 0;\\n        right: 0;\\n\\n        border: 0;\\n        border-bottom: 1px dashed #cccccc;\\n      }\\n\\n      span {\\n        display: block;\\n\\n        position: absolute;\\n        top: -4px;\\n        left: 50%;\\n        transform: translateX(-50%);\\n\\n        font-size: 12px;\\n        color: #c2c2c2;\\n        background-color: #ffffff;\\n        padding: 0 2px;\\n      }\\n    }\\n\\n    &.desktop {\\n      padding: 50px 60px;\\n\\n      h1 {\\n        font-size: 27px;\\n        font-weight: 500;\\n\\n        text-align: center;\\n\\n        margin-bottom: 24px;\\n      }\\n\\n      button {\\n        margin-top: 20px;\\n      }\\n    }\\n\\n    &.mobile {\\n      padding: 40px 30px;\\n      min-width: 320px;\\n\\n      h1 {\\n        font-size: 22px;\\n        font-weight: 500;\\n\\n        text-align: center;\\n\\n        margin-bottom: 30px;\\n      }\\n\\n      .separator {\\n        margin: 10px 0;\\n      }\\n\\n      canvas {\\n        display: block;\\n        margin: 16px auto 0 auto;\\n      }\\n    }\\n  }\\n\"])), modalEnter, sectionEnter);","map":{"version":3,"names":["isMobile","isMobileBrowser","QRCode","createElement","useCallback","useMemo","render","styled","keyframes","TerraWalletconnectQrcodeModal","constructor","modalContainer","callback","setCloseCallback","open","uri","cb","_qrcodeModalOptions","window","document","query","encodeURIComponent","concat","schemeUri","modal","TerraQRCodeModal","onClose","close","location","href","_a","querySelector","appendChild","parentElement","removeChild","TerraQRCodeModalBase","_ref","className","openTerraStationMobile","_jsxs","Object","assign","children","_jsx","onClick","value","size","modalEnter","_templateObject","_taggedTemplateLiteral","sectionEnter","_templateObject2","_templateObject3"],"sources":["../../../src/@terra-dev/walletconnect-qrcode-modal/index.tsx"],"sourcesContent":["import { isMobile as isMobileBrowser } from '@terra-dev/browser-check';\nimport { IQRCodeModal, IQRCodeModalOptions } from '@walletconnect/types';\nimport QRCode from 'qrcode.react';\nimport React, { createElement, useCallback, useMemo } from 'react';\nimport { render } from 'react-dom';\nimport styled, { keyframes } from 'styled-components';\n\nexport class TerraWalletconnectQrcodeModal implements IQRCodeModal {\n  modalContainer: HTMLDivElement | null = null;\n\n  private callback: (() => void) | null = null;\n\n  setCloseCallback = (callback: () => void) => {\n    this.callback = callback;\n  };\n\n  open = (\n    uri: string,\n    cb: () => void,\n    _qrcodeModalOptions?: IQRCodeModalOptions,\n  ) => {\n    const modalContainer = window.document.createElement('div');\n\n    const query = encodeURIComponent(\n      `action=wallet_connect&payload=${encodeURIComponent(uri)}`,\n    );\n\n    const schemeUri = `https://terrastation.page.link/?link=https://terra.money?${query}&apn=money.terra.station&ibi=money.terra.station&isi=1548434735`;\n\n    const modal = createElement(TerraQRCodeModal, {\n      schemeUri,\n      onClose: () => {\n        if (this.callback) {\n          this.callback();\n          this.callback = null;\n        }\n        this.close();\n      },\n    });\n\n    if (isMobileBrowser()) {\n      window.location.href = schemeUri;\n    }\n\n    render(modal, modalContainer);\n    window.document.querySelector('body')?.appendChild(modalContainer);\n\n    this.modalContainer = modalContainer;\n  };\n\n  close = () => {\n    if (this.modalContainer) {\n      this.modalContainer.parentElement?.removeChild(this.modalContainer);\n    }\n\n    this.callback = null;\n  };\n}\n\nfunction TerraQRCodeModalBase({\n  schemeUri,\n  className,\n  onClose,\n}: {\n  schemeUri: string;\n  className?: string;\n  onClose: () => void;\n}) {\n  const isMobile = useMemo(() => isMobileBrowser(), []);\n\n  const openTerraStationMobile = useCallback(() => {\n    window.location.href = schemeUri;\n  }, [schemeUri]);\n\n  return (\n    <div className={className}>\n      <div onClick={onClose} />\n      {isMobile ? (\n        <section className=\"mobile\">\n          <h1>Wallet Connect</h1>\n\n          <button onClick={openTerraStationMobile} className=\"flat-button\">\n            Open Terra Station Mobile\n          </button>\n        </section>\n      ) : (\n        <section className=\"desktop\">\n          <h1>Wallet Connect</h1>\n\n          <QRCode value={schemeUri} size={240} />\n        </section>\n      )}\n    </div>\n  );\n}\n\nconst modalEnter = keyframes`\n  0% {\n    opacity: 0;\n  }\n  \n  100% {\n    opacity: 1;\n  }\n`;\n\nconst sectionEnter = keyframes`\n  0% {\n    opacity: 0;\n    transform: scale(0.4);\n  }\n  \n  100% {\n    opacity: 1;\n    transform: scale(1);\n  }\n`;\n\nconst TerraQRCodeModal = styled(TerraQRCodeModalBase)`\n  position: fixed;\n  z-index: 100000;\n\n  color: #000000;\n\n  left: 0;\n  top: 0;\n  width: 100vw;\n  height: 100vh;\n\n  display: grid;\n  place-content: center;\n\n  > div {\n    position: fixed;\n    z-index: -1;\n\n    left: 0;\n    top: 0;\n    width: 100vw;\n    height: 100vh;\n    background-color: rgba(0, 0, 0, 0.3);\n\n    animation: ${modalEnter} 0.2s ease-in-out;\n  }\n\n  > section {\n    border-radius: 25px;\n\n    background-color: #ffffff;\n    box-shadow: 0 4px 18px 3px rgba(0, 0, 0, 0.43);\n\n    animation: ${sectionEnter} 0.2s ease-in-out;\n\n    button {\n      cursor: pointer;\n\n      display: block;\n      outline: none;\n      background-color: transparent;\n      width: 100%;\n      height: 32px;\n      font-size: 13px;\n      letter-spacing: -0.2px;\n      border-radius: 18px;\n      border: solid 1px #2c2c2c;\n\n      &.flat-button {\n        border: 0;\n        color: #ffffff;\n        background-color: #2c2c2c;\n      }\n    }\n\n    .separator {\n      height: 12px;\n\n      position: relative;\n\n      hr {\n        position: absolute;\n        top: 5px;\n        left: 0;\n        right: 0;\n\n        border: 0;\n        border-bottom: 1px dashed #cccccc;\n      }\n\n      span {\n        display: block;\n\n        position: absolute;\n        top: -4px;\n        left: 50%;\n        transform: translateX(-50%);\n\n        font-size: 12px;\n        color: #c2c2c2;\n        background-color: #ffffff;\n        padding: 0 2px;\n      }\n    }\n\n    &.desktop {\n      padding: 50px 60px;\n\n      h1 {\n        font-size: 27px;\n        font-weight: 500;\n\n        text-align: center;\n\n        margin-bottom: 24px;\n      }\n\n      button {\n        margin-top: 20px;\n      }\n    }\n\n    &.mobile {\n      padding: 40px 30px;\n      min-width: 320px;\n\n      h1 {\n        font-size: 22px;\n        font-weight: 500;\n\n        text-align: center;\n\n        margin-bottom: 30px;\n      }\n\n      .separator {\n        margin: 10px 0;\n      }\n\n      canvas {\n        display: block;\n        margin: 16px auto 0 auto;\n      }\n    }\n  }\n`;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}