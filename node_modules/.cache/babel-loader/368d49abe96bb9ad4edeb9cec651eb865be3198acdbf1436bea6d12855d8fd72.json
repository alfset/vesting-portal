{"ast":null,"code":"\"use strict\";\n\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.http = void 0;\nconst axios_1 = __importDefault(require(\"axios\"));\nfunction filterBadStatus(res) {\n  if (res.status >= 400) {\n    throw new Error(\"Bad status on response: \".concat(res.status));\n  }\n  return res;\n}\n/**\n * Helper to work around missing CORS support in Tendermint (https://github.com/tendermint/tendermint/pull/2800)\n *\n * For some reason, fetch does not complain about missing server-side CORS support.\n */\n// eslint-disable-next-line @typescript-eslint/explicit-module-boundary-types\nasync function http(method, url, headers, request) {\n  if (typeof fetch !== \"undefined\") {\n    const settings = {\n      method: method,\n      body: request ? JSON.stringify(request) : undefined,\n      headers: {\n        // eslint-disable-next-line @typescript-eslint/naming-convention\n        \"Content-Type\": \"application/json\",\n        ...headers\n      }\n    };\n    return fetch(url, settings).then(filterBadStatus).then(res => res.json());\n  } else {\n    return axios_1.default.request({\n      url: url,\n      method: method,\n      data: request,\n      headers: headers\n    }).then(res => res.data);\n  }\n}\nexports.http = http;","map":{"version":3,"names":["axios_1","__importDefault","require","filterBadStatus","res","status","Error","concat","http","method","url","headers","request","fetch","settings","body","JSON","stringify","undefined","then","json","default","data","exports"],"sources":["../../src/rpcclients/http.ts"],"sourcesContent":[null],"mappings":";;;;;;;;;;;AAAA,MAAAA,OAAA,GAAAC,eAAA,CAAAC,OAAA;AAMA,SAASC,eAAeA,CAACC,GAAQ;EAC/B,IAAIA,GAAG,CAACC,MAAM,IAAI,GAAG,EAAE;IACrB,MAAM,IAAIC,KAAK,4BAAAC,MAAA,CAA4BH,GAAG,CAACC,MAAM,CAAE,CAAC;;EAE1D,OAAOD,GAAG;AACZ;AAEA;;;;;AAKA;AACO,eAAeI,IAAIA,CACxBC,MAAc,EACdC,GAAW,EACXC,OAA2C,EAC3CC,OAAa;EAEb,IAAI,OAAOC,KAAK,KAAK,WAAW,EAAE;IAChC,MAAMC,QAAQ,GAAG;MACfL,MAAM,EAAEA,MAAM;MACdM,IAAI,EAAEH,OAAO,GAAGI,IAAI,CAACC,SAAS,CAACL,OAAO,CAAC,GAAGM,SAAS;MACnDP,OAAO,EAAE;QACP;QACA,cAAc,EAAE,kBAAkB;QAClC,GAAGA;;KAEN;IACD,OAAOE,KAAK,CAACH,GAAG,EAAEI,QAAQ,CAAC,CACxBK,IAAI,CAAChB,eAAe,CAAC,CACrBgB,IAAI,CAAEf,GAAQ,IAAKA,GAAG,CAACgB,IAAI,EAAE,CAAC;GAClC,MAAM;IACL,OAAOpB,OAAA,CAAAqB,OAAK,CACTT,OAAO,CAAC;MAAEF,GAAG,EAAEA,GAAG;MAAED,MAAM,EAAEA,MAAM;MAAEa,IAAI,EAAEV,OAAO;MAAED,OAAO,EAAEA;IAAO,CAAE,CAAC,CACtEQ,IAAI,CAAEf,GAAG,IAAKA,GAAG,CAACkB,IAAI,CAAC;;AAE9B;AAxBAC,OAAA,CAAAf,IAAA,GAAAA,IAAA"},"metadata":{},"sourceType":"script","externalDependencies":[]}