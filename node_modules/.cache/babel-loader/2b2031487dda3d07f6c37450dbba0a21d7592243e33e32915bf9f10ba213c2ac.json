{"ast":null,"code":"import React,{useMemo}from\"react\";import{useActiveReact}from'../../hooks/useActiveReact';import{useAllTransactions}from'../../state/transactions/hooks';import{useTxnsDtilOpen}from'../../state/application/hooks';// import {getParams} from '../../config/tools/getUrlParams'\nimport{Status,getStatus}from'../../config/status';import HistoryDetails from\"../Transaction/details\";import ModalContent from'../Modal/ModalContent';export default function TxnsDtilsModal(){var _tx$from,_txInfo$bind,_txInfo$fromChainID,_txInfo$toChainID,_txInfo$txid,_tx$info5,_tx$info6,_txInfo$formatvalue,_txInfo$historyType,_tx$info7;const allTransactions=useAllTransactions();const{chainId}=useActiveReact();const{hash,isOpenModal,onChangeViewDtil}=useTxnsDtilOpen();// console.log(isOpenModal)\n// const hash = getParams('hash')\nconst tx=allTransactions===null||allTransactions===void 0?void 0:allTransactions[hash];// console.log(tx)\nconst fromStatus=useMemo(()=>{if(tx){var _tx$receipt,_tx$receipt2;if(!tx.receipt){return Status.Pending;}else if(((_tx$receipt=tx.receipt)===null||_tx$receipt===void 0?void 0:_tx$receipt.status)===1||typeof((_tx$receipt2=tx.receipt)===null||_tx$receipt2===void 0?void 0:_tx$receipt2.status)==='undefined'){return Status.Success;}else{return Status.Failure;}}else{return Status.Null;}},[tx]);const toStatus=useMemo(()=>{if(tx){var _tx$info,_tx$info2,_tx$info4;if(fromStatus===Status.Failure){return Status.Failure;}else if(!tx.info){return null;}else if(((_tx$info=tx.info)===null||_tx$info===void 0?void 0:_tx$info.status)||((_tx$info2=tx.info)===null||_tx$info2===void 0?void 0:_tx$info2.status)===0){var _tx$info3;const status=(_tx$info3=tx.info)===null||_tx$info3===void 0?void 0:_tx$info3.status;const statusType=getStatus(status);return statusType;}else if(((_tx$info4=tx.info)===null||_tx$info4===void 0?void 0:_tx$info4.status)===''){return Status.Confirming;}else{return Status.Failure;}}else{return null;}},[tx,fromStatus]);const txInfo=useMemo(()=>{return tx===null||tx===void 0?void 0:tx.info;},[tx]);return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(ModalContent,{isOpen:isOpenModal,title:'Transaction Details',onDismiss:()=>{onChangeViewDtil('',false);},padding:'0rem'},/*#__PURE__*/React.createElement(HistoryDetails,{symbol:tx===null||tx===void 0?void 0:tx.symbol,from:(_tx$from=tx===null||tx===void 0?void 0:tx.from)!==null&&_tx$from!==void 0?_tx$from:txInfo===null||txInfo===void 0?void 0:txInfo.from,to:(_txInfo$bind=txInfo===null||txInfo===void 0?void 0:txInfo.bind)!==null&&_txInfo$bind!==void 0?_txInfo$bind:tx===null||tx===void 0?void 0:tx.toAddress,fromChainID:(_txInfo$fromChainID=txInfo===null||txInfo===void 0?void 0:txInfo.fromChainID)!==null&&_txInfo$fromChainID!==void 0?_txInfo$fromChainID:chainId,toChainID:(_txInfo$toChainID=txInfo===null||txInfo===void 0?void 0:txInfo.toChainID)!==null&&_txInfo$toChainID!==void 0?_txInfo$toChainID:tx===null||tx===void 0?void 0:tx.toChainId,fromStatus:fromStatus,toStatus:toStatus,txid:(_txInfo$txid=txInfo===null||txInfo===void 0?void 0:txInfo.txid)!==null&&_txInfo$txid!==void 0?_txInfo$txid:tx===null||tx===void 0?void 0:tx.hash,swaptx:fromStatus===Status.Failure||toStatus===Status.Failure?'Null':tx===null||tx===void 0?void 0:(_tx$info5=tx.info)===null||_tx$info5===void 0?void 0:_tx$info5.swaptx,swapvalue:fromStatus===Status.Failure||toStatus===Status.Failure?'Null':tx===null||tx===void 0?void 0:(_tx$info6=tx.info)===null||_tx$info6===void 0?void 0:_tx$info6.formatswapvalue,timestamp:tx===null||tx===void 0?void 0:tx.addedTime,value:(_txInfo$formatvalue=txInfo===null||txInfo===void 0?void 0:txInfo.formatvalue)!==null&&_txInfo$formatvalue!==void 0?_txInfo$formatvalue:tx===null||tx===void 0?void 0:tx.value,version:(_txInfo$historyType=txInfo===null||txInfo===void 0?void 0:txInfo.historyType)!==null&&_txInfo$historyType!==void 0?_txInfo$historyType:tx===null||tx===void 0?void 0:tx.version,token:tx===null||tx===void 0?void 0:tx.token,isLiquidity:tx===null||tx===void 0?void 0:tx.isLiquidity,isReceiveAnyToken:tx===null||tx===void 0?void 0:tx.isReceiveAnyToken,avgTime:tx===null||tx===void 0?void 0:(_tx$info7=tx.info)===null||_tx$info7===void 0?void 0:_tx$info7.time,logoUrl:tx===null||tx===void 0?void 0:tx.logoUrl,fromInfo:tx===null||tx===void 0?void 0:tx.fromInfo,toInfo:tx===null||tx===void 0?void 0:tx.toInfo})));}","map":{"version":3,"names":["React","useMemo","useActiveReact","useAllTransactions","useTxnsDtilOpen","Status","getStatus","HistoryDetails","ModalContent","TxnsDtilsModal","_tx$from","_txInfo$bind","_txInfo$fromChainID","_txInfo$toChainID","_txInfo$txid","_tx$info5","_tx$info6","_txInfo$formatvalue","_txInfo$historyType","_tx$info7","allTransactions","chainId","hash","isOpenModal","onChangeViewDtil","tx","fromStatus","_tx$receipt","_tx$receipt2","receipt","Pending","status","Success","Failure","Null","toStatus","_tx$info","_tx$info2","_tx$info4","info","_tx$info3","statusType","Confirming","txInfo","createElement","Fragment","isOpen","title","onDismiss","padding","symbol","from","to","bind","toAddress","fromChainID","toChainID","toChainId","txid","swaptx","swapvalue","formatswapvalue","timestamp","addedTime","value","formatvalue","version","historyType","token","isLiquidity","isReceiveAnyToken","avgTime","time","logoUrl","fromInfo","toInfo"],"sources":["/workspace/Planq-Dapps/vesting-portal/src/components/CrossChainPanelV2/txnsDtilsModal.tsx"],"sourcesContent":["import React, { useMemo } from \"react\"\n\nimport { useActiveReact } from '../../hooks/useActiveReact'\nimport { useAllTransactions } from '../../state/transactions/hooks'\nimport {useTxnsDtilOpen} from '../../state/application/hooks'\n// import {getParams} from '../../config/tools/getUrlParams'\n\nimport {Status, getStatus} from '../../config/status'\n\nimport HistoryDetails from \"../Transaction/details\"\nimport ModalContent from '../Modal/ModalContent'\n\nexport default function TxnsDtilsModal () {\n  const allTransactions = useAllTransactions()\n  const { chainId } = useActiveReact()\n  const {hash, isOpenModal, onChangeViewDtil} = useTxnsDtilOpen()\n\n  // console.log(isOpenModal)\n  // const hash = getParams('hash')\n  const tx:any = allTransactions?.[hash]\n  // console.log(tx)\n  const fromStatus = useMemo(() => {\n    if (tx) {\n      if (!tx.receipt) {\n        return Status.Pending\n      } else if (tx.receipt?.status === 1 || typeof tx.receipt?.status === 'undefined') {\n        return Status.Success\n      } else {\n        return Status.Failure\n      }\n    } else {\n      return Status.Null\n    }\n  }, [tx])\n  const toStatus = useMemo(() => {\n    if (tx) {\n      if (fromStatus === Status.Failure) {\n        return Status.Failure\n      } else if (!tx.info) {\n        return null\n      } else if (tx.info?.status || tx.info?.status === 0) {\n        const status = tx.info?.status\n        const statusType = getStatus(status)\n        return statusType\n      } else if (tx.info?.status === '') {\n        return Status.Confirming\n      } else {\n        return Status.Failure\n      }\n    } else {\n      return null\n    }\n  }, [tx, fromStatus])\n\n  const txInfo = useMemo(() => {\n    return tx?.info\n  }, [tx])\n  return (\n    <>\n      <ModalContent\n        isOpen={isOpenModal}\n        title={'Transaction Details'}\n        onDismiss={() => {\n          onChangeViewDtil('', false)\n        }}\n        padding={'0rem'}\n      >\n        <HistoryDetails\n          symbol={tx?.symbol}\n          from={tx?.from ?? txInfo?.from}\n          to={txInfo?.bind ?? tx?.toAddress}\n          fromChainID={txInfo?.fromChainID ?? chainId}\n          toChainID={txInfo?.toChainID ?? tx?.toChainId}\n          fromStatus={fromStatus}\n          toStatus={toStatus}\n          txid={txInfo?.txid ?? tx?.hash}\n          swaptx={fromStatus === Status.Failure || toStatus === Status.Failure ? 'Null' : tx?.info?.swaptx}\n          swapvalue={fromStatus === Status.Failure || toStatus === Status.Failure ? 'Null' : tx?.info?.formatswapvalue}\n          timestamp={tx?.addedTime}\n          value={txInfo?.formatvalue ?? tx?.value}\n          version={txInfo?.historyType ?? tx?.version}\n          token={tx?.token}\n          isLiquidity={tx?.isLiquidity}\n          isReceiveAnyToken={tx?.isReceiveAnyToken}\n          avgTime={tx?.info?.time}\n          logoUrl={tx?.logoUrl}\n          fromInfo={tx?.fromInfo}\n          toInfo={tx?.toInfo}\n        />\n      </ModalContent>\n    </>\n  )\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}