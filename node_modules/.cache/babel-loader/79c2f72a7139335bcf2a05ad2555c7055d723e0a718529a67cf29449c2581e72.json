{"ast":null,"code":"\"use strict\";\n\nvar __extends = this && this.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p];\n    };\n    return extendStatics(d, b);\n  };\n  return function (d, b) {\n    if (typeof b !== \"function\" && b !== null) throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n    extendStatics(d, b);\n    function __() {\n      this.constructor = d;\n    }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.IdentifiedConnection = exports.stateToJSON = exports.stateFromJSON = exports.State = void 0;\nvar connection_1 = require(\"@terra-money/terra.proto/ibc/core/connection/v1/connection\");\nvar json_1 = require(\"../../../../util/json\");\nvar Version_1 = require(\"./Version\");\nvar connection_2 = require(\"@terra-money/terra.proto/ibc/core/connection/v1/connection\");\nObject.defineProperty(exports, \"State\", {\n  enumerable: true,\n  get: function () {\n    return connection_2.State;\n  }\n});\nObject.defineProperty(exports, \"stateFromJSON\", {\n  enumerable: true,\n  get: function () {\n    return connection_2.stateFromJSON;\n  }\n});\nObject.defineProperty(exports, \"stateToJSON\", {\n  enumerable: true,\n  get: function () {\n    return connection_2.stateToJSON;\n  }\n});\nvar Counterparty_1 = require(\"./Counterparty\");\nvar long_1 = __importDefault(require(\"long\"));\n/**\n * IdentifiedConnection defines a connection with additional connection identifier field\n */\nvar IdentifiedConnection = /** @class */function (_super) {\n  __extends(IdentifiedConnection, _super);\n  /**\n   * @param id connection identifier\n   * @param client_id client associated with this connection.\n   * @param versions IBC version which can be utilised to determine encodings or protocols for channels or packets utilising this connection\n   * @param state current state of the connection end\n   * @param counterparty counterparty chain associated with this connection\n   * @param delay_period delay period associated with this connection\n   */\n  function IdentifiedConnection(id, client_id, versions, state, counterparty, delay_period) {\n    var _this = _super.call(this) || this;\n    _this.id = id;\n    _this.client_id = client_id;\n    _this.versions = versions;\n    _this.state = state;\n    _this.counterparty = counterparty;\n    _this.delay_period = delay_period;\n    return _this;\n  }\n  IdentifiedConnection.fromAmino = function (data) {\n    var id = data.id,\n      client_id = data.client_id,\n      versions = data.versions,\n      state = data.state,\n      counterparty = data.counterparty,\n      delay_period = data.delay_period;\n    return new IdentifiedConnection(id, client_id, versions.map(Version_1.Version.fromAmino), (0, connection_2.stateFromJSON)(state), counterparty ? Counterparty_1.Counterparty.fromAmino(counterparty) : undefined, Number.parseInt(delay_period));\n  };\n  IdentifiedConnection.prototype.toAmino = function () {\n    var _a = this,\n      id = _a.id,\n      client_id = _a.client_id,\n      versions = _a.versions,\n      state = _a.state,\n      counterparty = _a.counterparty,\n      delay_period = _a.delay_period;\n    var res = {\n      id: id,\n      client_id: client_id,\n      versions: versions.map(function (version) {\n        return version.toAmino();\n      }),\n      state: (0, connection_2.stateToJSON)(state),\n      counterparty: counterparty === null || counterparty === void 0 ? void 0 : counterparty.toAmino(),\n      delay_period: delay_period.toFixed()\n    };\n    return res;\n  };\n  IdentifiedConnection.fromData = function (data) {\n    var id = data.id,\n      client_id = data.client_id,\n      versions = data.versions,\n      state = data.state,\n      counterparty = data.counterparty,\n      delay_period = data.delay_period;\n    return new IdentifiedConnection(id, client_id, versions.map(Version_1.Version.fromData), (0, connection_2.stateFromJSON)(state), counterparty ? Counterparty_1.Counterparty.fromData(counterparty) : undefined, Number.parseInt(delay_period));\n  };\n  IdentifiedConnection.prototype.toData = function () {\n    var _a = this,\n      id = _a.id,\n      client_id = _a.client_id,\n      versions = _a.versions,\n      state = _a.state,\n      counterparty = _a.counterparty,\n      delay_period = _a.delay_period;\n    var res = {\n      id: id,\n      client_id: client_id,\n      versions: versions.map(function (version) {\n        return version.toData();\n      }),\n      state: (0, connection_2.stateToJSON)(state),\n      counterparty: counterparty === null || counterparty === void 0 ? void 0 : counterparty.toData(),\n      delay_period: delay_period.toFixed()\n    };\n    return res;\n  };\n  IdentifiedConnection.fromProto = function (proto) {\n    return new IdentifiedConnection(proto.id, proto.clientId, proto.versions.map(Version_1.Version.fromProto), proto.state, proto.counterparty ? Counterparty_1.Counterparty.fromProto(proto.counterparty) : undefined, proto.delayPeriod.toNumber());\n  };\n  IdentifiedConnection.prototype.toProto = function () {\n    var _a = this,\n      id = _a.id,\n      client_id = _a.client_id,\n      versions = _a.versions,\n      state = _a.state,\n      counterparty = _a.counterparty,\n      delay_period = _a.delay_period;\n    return connection_1.IdentifiedConnection.fromPartial({\n      id: id,\n      clientId: client_id,\n      versions: versions.map(function (v) {\n        return v.toProto();\n      }),\n      state: state,\n      counterparty: counterparty === null || counterparty === void 0 ? void 0 : counterparty.toProto(),\n      delayPeriod: long_1.default.fromNumber(delay_period)\n    });\n  };\n  return IdentifiedConnection;\n}(json_1.JSONSerializable);\nexports.IdentifiedConnection = IdentifiedConnection;","map":{"version":3,"names":["connection_1","require","json_1","Version_1","connection_2","Object","defineProperty","exports","enumerable","get","State","stateFromJSON","stateToJSON","Counterparty_1","long_1","__importDefault","IdentifiedConnection","_super","__extends","id","client_id","versions","state","counterparty","delay_period","_this","call","fromAmino","data","map","Version","Counterparty","undefined","Number","parseInt","prototype","toAmino","_a","res","version","toFixed","fromData","toData","fromProto","proto","clientId","delayPeriod","toNumber","toProto","fromPartial","v","default","fromNumber","JSONSerializable"],"sources":["../../../../../src/core/ibc/core/connection/IdentifiedConnection.ts"],"sourcesContent":[null],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}