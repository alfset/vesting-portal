{"ast":null,"code":"\"use strict\";\n\nvar __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n    return t;\n  };\n  return __assign.apply(this, arguments);\n};\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.removeNull = exports.JSONSerializable = exports.prepareSignBytes = void 0;\nfunction prepareSignBytes(obj) {\n  if (Array.isArray(obj)) {\n    return obj.map(prepareSignBytes);\n  }\n  // string, number, or null\n  if (typeof obj !== \"object\" || obj === null) {\n    return obj;\n  }\n  var sorted = {};\n  Object.keys(obj).sort().forEach(function (key) {\n    if (obj[key] === undefined || obj[key] === null) return;\n    sorted[key] = prepareSignBytes(obj[key]);\n  });\n  return sorted;\n}\nexports.prepareSignBytes = prepareSignBytes;\nvar JSONSerializable = /** @class */function () {\n  function JSONSerializable() {}\n  JSONSerializable.prototype.toJSON = function (isClassic) {\n    return JSON.stringify(prepareSignBytes(this.toData(isClassic)));\n  };\n  JSONSerializable.prototype.toAminoJSON = function (isClassic) {\n    return JSON.stringify(prepareSignBytes(this.toAmino(isClassic)));\n  };\n  return JSONSerializable;\n}();\nexports.JSONSerializable = JSONSerializable;\nfunction removeNull(obj) {\n  if (obj !== null && typeof obj === 'object') {\n    return Object.entries(obj).filter(function (_a) {\n      var v = _a[1];\n      return v != null;\n    }).reduce(function (acc, _a) {\n      var _b;\n      var k = _a[0],\n        v = _a[1];\n      return __assign(__assign({}, acc), (_b = {}, _b[k] = v === Object(v) && !Array.isArray(v) ? removeNull(v) : v, _b));\n    }, {});\n  }\n  return obj;\n}\nexports.removeNull = removeNull;","map":{"version":3,"names":["prepareSignBytes","obj","Array","isArray","map","sorted","Object","keys","sort","forEach","key","undefined","exports","JSONSerializable","prototype","toJSON","isClassic","JSON","stringify","toData","toAminoJSON","toAmino","removeNull","entries","filter","_a","v","reduce","acc","k","__assign","_b"],"sources":["../../src/util/json.ts"],"sourcesContent":[null],"mappings":";;;;;;;;;;;;;;;;AAAA,SAAgBA,gBAAgBA,CAACC,GAAQ;EACvC,IAAIC,KAAK,CAACC,OAAO,CAACF,GAAG,CAAC,EAAE;IACtB,OAAOA,GAAG,CAACG,GAAG,CAACJ,gBAAgB,CAAC;;EAGlC;EACA,IAAI,OAAOC,GAAG,KAAK,QAAQ,IAAIA,GAAG,KAAK,IAAI,EAAE;IAC3C,OAAOA,GAAG;;EAGZ,IAAMI,MAAM,GAAQ,EAAE;EAEtBC,MAAM,CAACC,IAAI,CAACN,GAAG,CAAC,CACbO,IAAI,EAAE,CACNC,OAAO,CAAC,UAAAC,GAAG;IACV,IAAIT,GAAG,CAACS,GAAG,CAAC,KAAKC,SAAS,IAAIV,GAAG,CAACS,GAAG,CAAC,KAAK,IAAI,EAAE;IACjDL,MAAM,CAACK,GAAG,CAAC,GAAGV,gBAAgB,CAACC,GAAG,CAACS,GAAG,CAAC,CAAC;EAC1C,CAAC,CAAC;EACJ,OAAOL,MAAM;AACf;AAnBAO,OAAA,CAAAZ,gBAAA,GAAAA,gBAAA;AAqBA,IAAAa,gBAAA;EAAA,SAAAA,iBAAA,GAUA;EANSA,gBAAA,CAAAC,SAAA,CAAAC,MAAM,GAAb,UAAcC,SAAmB;IAC/B,OAAOC,IAAI,CAACC,SAAS,CAAClB,gBAAgB,CAAC,IAAI,CAACmB,MAAM,CAACH,SAAS,CAAC,CAAC,CAAC;EACjE,CAAC;EACMH,gBAAA,CAAAC,SAAA,CAAAM,WAAW,GAAlB,UAAmBJ,SAAmB;IACpC,OAAOC,IAAI,CAACC,SAAS,CAAClB,gBAAgB,CAAC,IAAI,CAACqB,OAAO,CAACL,SAAS,CAAC,CAAC,CAAC;EAClE,CAAC;EACH,OAAAH,gBAAC;AAAD,CAAC,CAVD;AAAsBD,OAAA,CAAAC,gBAAA,GAAAA,gBAAA;AAYtB,SAAgBS,UAAUA,CAACrB,GAAQ;EACjC,IAAIA,GAAG,KAAK,IAAI,IAAI,OAAOA,GAAG,KAAK,QAAQ,EAAE;IAC3C,OAAOK,MAAM,CAACiB,OAAO,CAACtB,GAAG,CAAC,CACvBuB,MAAM,CAAC,UAACC,EAAK;UAAFC,CAAC,GAAAD,EAAA;MAAM,OAAAC,CAAC,IAAI,IAAI;IAAT,CAAS,CAAC,CAC5BC,MAAM,CACL,UAACC,GAAG,EAAEH,EAAM;;UAALI,CAAC,GAAAJ,EAAA;QAAEC,CAAC,GAAAD,EAAA;MAAM,OAAAK,QAAA,CAAAA,QAAA,KACZF,GAAG,IAAAG,EAAA,OAAAA,EAAA,CACLF,CAAC,IAAGH,CAAC,KAAKpB,MAAM,CAACoB,CAAC,CAAC,IAAI,CAACxB,KAAK,CAACC,OAAO,CAACuB,CAAC,CAAC,GAAGJ,UAAU,CAACI,CAAC,CAAC,GAAGA,CAAC,EAAAK,EAAA;IAF9C,CAGf,EACF,EAAE,CACH;;EAGL,OAAO9B,GAAG;AACZ;AAdAW,OAAA,CAAAU,UAAA,GAAAA,UAAA"},"metadata":{},"sourceType":"script","externalDependencies":[]}