{"ast":null,"code":"import _taggedTemplateLiteral from\"/workspace/Planq-Dapps/vesting-portal/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";var _templateObject,_templateObject2,_templateObject3,_templateObject4;import React,{useCallback,useContext,useEffect}from'react';import{X}from'react-feather';import{useSpring}from'react-spring/web';import styled,{ThemeContext}from'styled-components';import{animated}from'react-spring';import{useRemovePopup}from'../../state/application/hooks';import ListUpdatePopup from'./ListUpdatePopup';import TransactionPopup from'./TransactionPopup';export const StyledClose=styled(X)(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n  position: absolute;\\n  right: 10px;\\n  top: 10px;\\n\\n  :hover {\\n    cursor: pointer;\\n  }\\n\"])));export const Popup=styled.div(_templateObject2||(_templateObject2=_taggedTemplateLiteral([\"\\n  display: inline-block;\\n  width: 100%;\\n  padding: 1em;\\n  background-color: \",\";\\n  position: relative;\\n  border-radius: 10px;\\n  padding: 20px;\\n  padding-right: 35px;\\n  overflow: hidden;\\n\\n  \",\"\\n\"])),_ref=>{let{theme}=_ref;return theme.bg1;},_ref2=>{let{theme}=_ref2;return theme.mediaWidth.upToSmall(_templateObject3||(_templateObject3=_taggedTemplateLiteral([\"\\n    min-width: 290px;\\n    &:not(:last-of-type) {\\n      margin-right: 20px;\\n    }\\n  \"])));});const Fader=styled.div(_templateObject4||(_templateObject4=_taggedTemplateLiteral([\"\\n  position: absolute;\\n  bottom: 0px;\\n  left: 0px;\\n  width: 100%;\\n  height: 2px;\\n  background-color: \",\";\\n\"])),_ref3=>{let{theme}=_ref3;return theme.bg3;});const AnimatedFader=animated(Fader);export default function PopupItem(_ref4){let{removeAfterMs,content,popKey}=_ref4;const removePopup=useRemovePopup();const removeThisPopup=useCallback(()=>removePopup(popKey),[popKey,removePopup]);useEffect(()=>{if(removeAfterMs===null)return undefined;const timeout=setTimeout(()=>{removeThisPopup();},removeAfterMs);return()=>{clearTimeout(timeout);};},[removeAfterMs,removeThisPopup]);// eslint-disable-next-line @typescript-eslint/ban-ts-comment\n// @ts-ignore\nconst theme=useContext(ThemeContext);let popupContent;if('txn'in content){const{txn:{hash,success,summary}}=content;popupContent=/*#__PURE__*/React.createElement(TransactionPopup,{hash:hash,success:success,summary:summary});}else if('listUpdate'in content){const{listUpdate:{listUrl,oldList,newList,auto}}=content;popupContent=/*#__PURE__*/React.createElement(ListUpdatePopup,{popKey:popKey,listUrl:listUrl,oldList:oldList,newList:newList,auto:auto});}const faderStyle=useSpring({from:{width:'100%'},to:{width:'0%'},config:{duration:removeAfterMs!==null&&removeAfterMs!==void 0?removeAfterMs:undefined}});return/*#__PURE__*/React.createElement(Popup,null,/*#__PURE__*/React.createElement(StyledClose,{color:theme.text2,onClick:removeThisPopup}),popupContent,removeAfterMs!==null?/*#__PURE__*/React.createElement(AnimatedFader,{style:faderStyle}):null);}","map":{"version":3,"names":["React","useCallback","useContext","useEffect","X","useSpring","styled","ThemeContext","animated","useRemovePopup","ListUpdatePopup","TransactionPopup","StyledClose","_templateObject","_taggedTemplateLiteral","Popup","div","_templateObject2","_ref","theme","bg1","_ref2","mediaWidth","upToSmall","_templateObject3","Fader","_templateObject4","_ref3","bg3","AnimatedFader","PopupItem","_ref4","removeAfterMs","content","popKey","removePopup","removeThisPopup","undefined","timeout","setTimeout","clearTimeout","popupContent","txn","hash","success","summary","createElement","listUpdate","listUrl","oldList","newList","auto","faderStyle","from","width","to","config","duration","color","text2","onClick","style"],"sources":["/workspace/Planq-Dapps/vesting-portal/src/components/Popups/PopupItem.tsx"],"sourcesContent":["import React, { useCallback, useContext, useEffect } from 'react'\nimport { X } from 'react-feather'\nimport { useSpring } from 'react-spring/web'\nimport styled, { ThemeContext } from 'styled-components'\nimport { animated } from 'react-spring'\nimport { PopupContent } from '../../state/application/actions'\nimport { useRemovePopup } from '../../state/application/hooks'\nimport ListUpdatePopup from './ListUpdatePopup'\nimport TransactionPopup from './TransactionPopup'\n\nexport const StyledClose = styled(X)`\n  position: absolute;\n  right: 10px;\n  top: 10px;\n\n  :hover {\n    cursor: pointer;\n  }\n`\nexport const Popup = styled.div`\n  display: inline-block;\n  width: 100%;\n  padding: 1em;\n  background-color: ${({ theme }) => theme.bg1};\n  position: relative;\n  border-radius: 10px;\n  padding: 20px;\n  padding-right: 35px;\n  overflow: hidden;\n\n  ${({ theme }) => theme.mediaWidth.upToSmall`\n    min-width: 290px;\n    &:not(:last-of-type) {\n      margin-right: 20px;\n    }\n  `}\n`\nconst Fader = styled.div`\n  position: absolute;\n  bottom: 0px;\n  left: 0px;\n  width: 100%;\n  height: 2px;\n  background-color: ${({ theme }) => theme.bg3};\n`\n\nconst AnimatedFader = animated(Fader)\n\nexport default function PopupItem({\n  removeAfterMs,\n  content,\n  popKey\n}: {\n  removeAfterMs: number | null\n  content: PopupContent\n  popKey: string\n}) {\n  const removePopup = useRemovePopup()\n  const removeThisPopup = useCallback(() => removePopup(popKey), [popKey, removePopup])\n  useEffect(() => {\n    if (removeAfterMs === null) return undefined\n\n    const timeout = setTimeout(() => {\n      removeThisPopup()\n    }, removeAfterMs)\n\n    return () => {\n      clearTimeout(timeout)\n    }\n  }, [removeAfterMs, removeThisPopup])\n\n  // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n  // @ts-ignore\n  const theme = useContext(ThemeContext)\n\n  let popupContent\n  if ('txn' in content) {\n    const {\n      txn: { hash, success, summary }\n    } = content\n    popupContent = <TransactionPopup hash={hash} success={success} summary={summary} />\n  } else if ('listUpdate' in content) {\n    const {\n      listUpdate: { listUrl, oldList, newList, auto }\n    } = content\n    popupContent = <ListUpdatePopup popKey={popKey} listUrl={listUrl} oldList={oldList} newList={newList} auto={auto} />\n  }\n\n  const faderStyle = useSpring({\n    from: { width: '100%' },\n    to: { width: '0%' },\n    config: { duration: removeAfterMs ?? undefined }\n  })\n\n  return (\n    <Popup>\n      <StyledClose color={theme.text2} onClick={removeThisPopup} />\n      {popupContent}\n      {removeAfterMs !== null ? <AnimatedFader style={faderStyle} /> : null}\n    </Popup>\n  )\n}\n"],"mappings":"mPAAA,MAAO,CAAAA,KAAK,EAAIC,WAAW,CAAEC,UAAU,CAAEC,SAAS,KAAQ,OAAO,CACjE,OAASC,CAAC,KAAQ,eAAe,CACjC,OAASC,SAAS,KAAQ,kBAAkB,CAC5C,MAAO,CAAAC,MAAM,EAAIC,YAAY,KAAQ,mBAAmB,CACxD,OAASC,QAAQ,KAAQ,cAAc,CAEvC,OAASC,cAAc,KAAQ,+BAA+B,CAC9D,MAAO,CAAAC,eAAe,KAAM,mBAAmB,CAC/C,MAAO,CAAAC,gBAAgB,KAAM,oBAAoB,CAEjD,MAAO,MAAM,CAAAC,WAAW,CAAGN,MAAM,CAACF,CAAC,CAAC,CAAAS,eAAA,GAAAA,eAAA,CAAAC,sBAAA,wGAQnC,CACD,MAAO,MAAM,CAAAC,KAAK,CAAGT,MAAM,CAACU,GAAG,CAAAC,gBAAA,GAAAA,gBAAA,CAAAH,sBAAA,sNAITI,IAAA,MAAC,CAAEC,KAAM,CAAC,CAAAD,IAAA,OAAK,CAAAC,KAAK,CAACC,GAAG,GAO1CC,KAAA,MAAC,CAAEF,KAAM,CAAC,CAAAE,KAAA,OAAK,CAAAF,KAAK,CAACG,UAAU,CAACC,SAAS,CAAAC,gBAAA,GAAAA,gBAAA,CAAAV,sBAAA,mGAK1C,CACF,CACD,KAAM,CAAAW,KAAK,CAAGnB,MAAM,CAACU,GAAG,CAAAU,gBAAA,GAAAA,gBAAA,CAAAZ,sBAAA,yHAMFa,KAAA,MAAC,CAAER,KAAM,CAAC,CAAAQ,KAAA,OAAK,CAAAR,KAAK,CAACS,GAAG,GAC7C,CAED,KAAM,CAAAC,aAAa,CAAGrB,QAAQ,CAACiB,KAAK,CAAC,CAErC,cAAe,SAAS,CAAAK,SAASA,CAAAC,KAAA,CAQ9B,IAR+B,CAChCC,aAAa,CACbC,OAAO,CACPC,MAKF,CAAC,CAAAH,KAAA,CACC,KAAM,CAAAI,WAAW,CAAG1B,cAAc,CAAC,CAAC,CACpC,KAAM,CAAA2B,eAAe,CAAGnC,WAAW,CAAC,IAAMkC,WAAW,CAACD,MAAM,CAAC,CAAE,CAACA,MAAM,CAAEC,WAAW,CAAC,CAAC,CACrFhC,SAAS,CAAC,IAAM,CACd,GAAI6B,aAAa,GAAK,IAAI,CAAE,MAAO,CAAAK,SAAS,CAE5C,KAAM,CAAAC,OAAO,CAAGC,UAAU,CAAC,IAAM,CAC/BH,eAAe,CAAC,CAAC,CACnB,CAAC,CAAEJ,aAAa,CAAC,CAEjB,MAAO,IAAM,CACXQ,YAAY,CAACF,OAAO,CAAC,CACvB,CAAC,CACH,CAAC,CAAE,CAACN,aAAa,CAAEI,eAAe,CAAC,CAAC,CAEpC;AACA;AACA,KAAM,CAAAjB,KAAK,CAAGjB,UAAU,CAACK,YAAY,CAAC,CAEtC,GAAI,CAAAkC,YAAY,CAChB,GAAI,KAAK,EAAI,CAAAR,OAAO,CAAE,CACpB,KAAM,CACJS,GAAG,CAAE,CAAEC,IAAI,CAAEC,OAAO,CAAEC,OAAQ,CAChC,CAAC,CAAGZ,OAAO,CACXQ,YAAY,cAAGzC,KAAA,CAAA8C,aAAA,CAACnC,gBAAgB,EAACgC,IAAI,CAAEA,IAAK,CAACC,OAAO,CAAEA,OAAQ,CAACC,OAAO,CAAEA,OAAQ,CAAE,CAAC,CACrF,CAAC,IAAM,IAAI,YAAY,EAAI,CAAAZ,OAAO,CAAE,CAClC,KAAM,CACJc,UAAU,CAAE,CAAEC,OAAO,CAAEC,OAAO,CAAEC,OAAO,CAAEC,IAAK,CAChD,CAAC,CAAGlB,OAAO,CACXQ,YAAY,cAAGzC,KAAA,CAAA8C,aAAA,CAACpC,eAAe,EAACwB,MAAM,CAAEA,MAAO,CAACc,OAAO,CAAEA,OAAQ,CAACC,OAAO,CAAEA,OAAQ,CAACC,OAAO,CAAEA,OAAQ,CAACC,IAAI,CAAEA,IAAK,CAAE,CAAC,CACtH,CAEA,KAAM,CAAAC,UAAU,CAAG/C,SAAS,CAAC,CAC3BgD,IAAI,CAAE,CAAEC,KAAK,CAAE,MAAO,CAAC,CACvBC,EAAE,CAAE,CAAED,KAAK,CAAE,IAAK,CAAC,CACnBE,MAAM,CAAE,CAAEC,QAAQ,CAAEzB,aAAa,SAAbA,aAAa,UAAbA,aAAa,CAAIK,SAAU,CACjD,CAAC,CAAC,CAEF,mBACErC,KAAA,CAAA8C,aAAA,CAAC/B,KAAK,mBACJf,KAAA,CAAA8C,aAAA,CAAClC,WAAW,EAAC8C,KAAK,CAAEvC,KAAK,CAACwC,KAAM,CAACC,OAAO,CAAExB,eAAgB,CAAE,CAAC,CAC5DK,YAAY,CACZT,aAAa,GAAK,IAAI,cAAGhC,KAAA,CAAA8C,aAAA,CAACjB,aAAa,EAACgC,KAAK,CAAET,UAAW,CAAE,CAAC,CAAG,IAC5D,CAAC,CAEZ"},"metadata":{},"sourceType":"module","externalDependencies":[]}