{"ast":null,"code":"\"use strict\";\n\nvar __extends = this && this.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p];\n    };\n    return extendStatics(d, b);\n  };\n  return function (d, b) {\n    if (typeof b !== \"function\" && b !== null) throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n    extendStatics(d, b);\n    function __() {\n      this.constructor = d;\n    }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\nvar __createBinding = this && this.__createBinding || (Object.create ? function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  var desc = Object.getOwnPropertyDescriptor(m, k);\n  if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n    desc = {\n      enumerable: true,\n      get: function () {\n        return m[k];\n      }\n    };\n  }\n  Object.defineProperty(o, k2, desc);\n} : function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  o[k2] = m[k];\n});\nvar __setModuleDefault = this && this.__setModuleDefault || (Object.create ? function (o, v) {\n  Object.defineProperty(o, \"default\", {\n    enumerable: true,\n    value: v\n  });\n} : function (o, v) {\n  o[\"default\"] = v;\n});\nvar __importStar = this && this.__importStar || function (mod) {\n  if (mod && mod.__esModule) return mod;\n  var result = {};\n  if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n  __setModuleDefault(result, mod);\n  return result;\n};\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.MsgTransfer = void 0;\nvar json_1 = require(\"../../../../../../util/json\");\nvar Coin_1 = require(\"../../../../../Coin\");\nvar Long = __importStar(require(\"long\"));\nvar any_1 = require(\"@terra-money/terra.proto/google/protobuf/any\");\nvar tx_1 = require(\"@terra-money/terra.proto/ibc/applications/transfer/v1/tx\");\nvar Height_1 = require(\"../../../../core/client/Height\");\nvar numeric_1 = require(\"../../../../../numeric\");\n/**\n * A basic message for transfer [[Coin]] via IBC.\n */\nvar MsgTransfer = /** @class */function (_super) {\n  __extends(MsgTransfer, _super);\n  /**\n   * @param source_port the port on which the packet will be sent\n   * @param source_channel  the channel by which the packet will be sent\n   * @param token the tokens to be transferred\n   * @param sender the sender address\n   * @param receiver the recipient address on the destination chain\n   * @param timeout_height Timeout height relative to the current block height. (0 to disable)\n   * @param timeout_timestamp Timeout timestamp (in nanoseconds) relative to the current block timestamp. (0 to disable)\n   */\n  function MsgTransfer(source_port, source_channel, token, sender, receiver, timeout_height, timeout_timestamp) {\n    var _this = _super.call(this) || this;\n    if (!timeout_height && !timeout_timestamp) {\n      throw 'both of timeout_height and timeout_timestamp are undefined';\n    }\n    _this.source_port = source_port;\n    _this.source_channel = source_channel;\n    _this.token = token;\n    _this.sender = sender;\n    _this.receiver = receiver;\n    _this.timeout_height = timeout_height;\n    _this.timeout_timestamp = timeout_timestamp ? numeric_1.Numeric.parse(timeout_timestamp) : undefined;\n    return _this;\n  }\n  MsgTransfer.fromAmino = function (data, _) {\n    _;\n    var _a = data.value,\n      source_port = _a.source_port,\n      source_channel = _a.source_channel,\n      token = _a.token,\n      sender = _a.sender,\n      receiver = _a.receiver,\n      timeout_height = _a.timeout_height,\n      timeout_timestamp = _a.timeout_timestamp;\n    if (!timeout_height && !timeout_timestamp) {\n      throw 'both of timeout_height and timeout_timestamp are undefined';\n    }\n    return new MsgTransfer(source_port, source_channel, token ? Coin_1.Coin.fromAmino(token) : undefined, sender, receiver, timeout_height ? Height_1.Height.fromAmino(timeout_height) : undefined, timeout_timestamp ? numeric_1.Numeric.parse(timeout_timestamp) : undefined);\n  };\n  MsgTransfer.prototype.toAmino = function (_) {\n    _;\n    var _a = this,\n      source_port = _a.source_port,\n      source_channel = _a.source_channel,\n      token = _a.token,\n      sender = _a.sender,\n      receiver = _a.receiver,\n      timeout_height = _a.timeout_height,\n      timeout_timestamp = _a.timeout_timestamp;\n    return {\n      type: 'cosmos-sdk/MsgTransfer',\n      value: {\n        source_port: source_port,\n        source_channel: source_channel,\n        token: token ? token.toAmino() : undefined,\n        sender: sender,\n        receiver: receiver,\n        timeout_height: (timeout_height === null || timeout_height === void 0 ? void 0 : timeout_height.toAmino()) || {},\n        timeout_timestamp: (timeout_timestamp === null || timeout_timestamp === void 0 ? void 0 : timeout_timestamp.toFixed()) || undefined\n      }\n    };\n  };\n  MsgTransfer.fromData = function (data, _) {\n    _;\n    var source_port = data.source_port,\n      source_channel = data.source_channel,\n      token = data.token,\n      sender = data.sender,\n      receiver = data.receiver,\n      timeout_timestamp = data.timeout_timestamp,\n      timeout_height = data.timeout_height;\n    if (!timeout_height && !timeout_timestamp) {\n      throw 'both of timeout_height and timeout_timestamp are undefined';\n    }\n    return new MsgTransfer(source_port, source_channel, token ? Coin_1.Coin.fromData(token) : undefined, sender, receiver, timeout_height ? Height_1.Height.fromData(timeout_height) : undefined, timeout_timestamp ? Number.parseInt(timeout_timestamp) : undefined);\n  };\n  MsgTransfer.prototype.toData = function (_) {\n    _;\n    var _a = this,\n      source_port = _a.source_port,\n      source_channel = _a.source_channel,\n      token = _a.token,\n      sender = _a.sender,\n      receiver = _a.receiver,\n      timeout_height = _a.timeout_height,\n      timeout_timestamp = _a.timeout_timestamp;\n    return {\n      '@type': '/ibc.applications.transfer.v1.MsgTransfer',\n      source_port: source_port,\n      source_channel: source_channel,\n      token: token ? token.toData() : undefined,\n      sender: sender,\n      receiver: receiver,\n      timeout_height: timeout_height ? timeout_height.toData() : new Height_1.Height(0, 0).toData(),\n      timeout_timestamp: (timeout_timestamp === null || timeout_timestamp === void 0 ? void 0 : timeout_timestamp.toFixed()) || '0'\n    };\n  };\n  MsgTransfer.fromProto = function (proto, _) {\n    _;\n    if (!proto.timeoutHeight && proto.timeoutTimestamp.toNumber() == 0) {\n      throw 'both of timeout_height and timeout_timestamp are empty';\n    }\n    return new MsgTransfer(proto.sourcePort, proto.sourceChannel, proto.token ? Coin_1.Coin.fromProto(proto.token) : undefined, proto.sender, proto.receiver, proto.timeoutHeight ? Height_1.Height.fromProto(proto.timeoutHeight) : undefined, proto.timeoutTimestamp.toNumber());\n  };\n  MsgTransfer.prototype.toProto = function (_) {\n    _;\n    var _a = this,\n      source_port = _a.source_port,\n      source_channel = _a.source_channel,\n      token = _a.token,\n      sender = _a.sender,\n      receiver = _a.receiver,\n      timeout_height = _a.timeout_height,\n      timeout_timestamp = _a.timeout_timestamp;\n    return tx_1.MsgTransfer.fromPartial({\n      sourcePort: source_port,\n      sourceChannel: source_channel,\n      token: token ? token.toProto() : undefined,\n      sender: sender,\n      receiver: receiver,\n      timeoutHeight: timeout_height ? timeout_height.toProto() : undefined,\n      timeoutTimestamp: Long.fromString((timeout_timestamp === null || timeout_timestamp === void 0 ? void 0 : timeout_timestamp.toFixed()) || '0')\n    });\n  };\n  MsgTransfer.prototype.packAny = function (isClassic) {\n    return any_1.Any.fromPartial({\n      typeUrl: '/ibc.applications.transfer.v1.MsgTransfer',\n      value: tx_1.MsgTransfer.encode(this.toProto(isClassic)).finish()\n    });\n  };\n  MsgTransfer.unpackAny = function (msgAny, isClassic) {\n    return MsgTransfer.fromProto(tx_1.MsgTransfer.decode(msgAny.value), isClassic);\n  };\n  return MsgTransfer;\n}(json_1.JSONSerializable);\nexports.MsgTransfer = MsgTransfer;","map":{"version":3,"names":["json_1","require","Coin_1","Long","__importStar","any_1","tx_1","Height_1","numeric_1","MsgTransfer","_super","__extends","source_port","source_channel","token","sender","receiver","timeout_height","timeout_timestamp","_this","call","Numeric","parse","undefined","fromAmino","data","_","_a","value","Coin","Height","prototype","toAmino","type","toFixed","fromData","Number","parseInt","toData","fromProto","proto","timeoutHeight","timeoutTimestamp","toNumber","sourcePort","sourceChannel","toProto","fromPartial","fromString","packAny","isClassic","Any","typeUrl","encode","finish","unpackAny","msgAny","decode","JSONSerializable","exports"],"sources":["../../../../../../../src/core/ibc/applications/transfer/v1/msgs/MsgTransfer.ts"],"sourcesContent":[null],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}