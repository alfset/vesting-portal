{"ast":null,"code":"import _taggedTemplateLiteral from\"/workspace/Planq-Dapps/vesting-portal/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";var _templateObject,_templateObject2,_templateObject3,_templateObject4,_templateObject5,_templateObject6,_templateObject7;import React from'react';import styled,{css}from'styled-components';import{animated,useTransition,useSpring}from'react-spring';import{DialogOverlay,DialogContent}from'@reach/dialog';import{isMobile}from'react-device-detect';import'@reach/dialog/styles.css';import{transparentize}from'polished';import{useGesture}from'react-use-gesture';const AnimatedDialogOverlay=animated(DialogOverlay);// eslint-disable-next-line @typescript-eslint/no-unused-vars\nconst StyledDialogOverlay=styled(AnimatedDialogOverlay)(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n  &[data-reach-dialog-overlay] {\\n    z-index: 2;\\n    background-color: transparent;\\n    overflow: hidden;\\n\\n    display: flex;\\n    align-items: center;\\n    justify-content: center;\\n\\n    background-color: \",\";\\n  }\\n\"])),_ref=>{let{theme}=_ref;return theme.modalBG;});const AnimatedDialogContent=animated(DialogContent);// destructure to not pass custom props to Dialog DOM element\n// eslint-disable-next-line @typescript-eslint/no-unused-vars\nconst StyledDialogContent=styled(_ref2=>{let{minHeight,maxHeight,mobile,isOpen,...rest}=_ref2;return/*#__PURE__*/React.createElement(AnimatedDialogContent,rest);}).attrs({'aria-label':'dialog'})(_templateObject2||(_templateObject2=_taggedTemplateLiteral([\"\\n  overflow-y: \",\";\\n\\n  &[data-reach-dialog-content] {\\n    margin: 0 0 2rem 0;\\n    background-color: \",\";\\n    box-shadow: 0 4px 8px 0 \",\";\\n    padding: 0px;\\n    width: 50vw;\\n    overflow-y: \",\";\\n    overflow-x: hidden;\\n\\n    align-self: \",\";\\n\\n    max-width: 420px;\\n    \",\"\\n    \",\"\\n    display: flex;\\n    border-radius: 20px;\\n    \",\"\\n    \",\"\\n  }\\n\"])),_ref3=>{let{mobile}=_ref3;return mobile?'scroll':'hidden';},_ref4=>{let{theme}=_ref4;return theme.bg1;},_ref5=>{let{theme}=_ref5;return transparentize(0.95,theme.shadow1);},_ref6=>{let{mobile}=_ref6;return mobile?'scroll':'scroll';},_ref7=>{let{mobile}=_ref7;return mobile?'flex-end':'center';},_ref8=>{let{maxHeight}=_ref8;return maxHeight&&css(_templateObject3||(_templateObject3=_taggedTemplateLiteral([\"\\n        max-height: \",\"vh;\\n      \"])),maxHeight);},_ref9=>{let{minHeight}=_ref9;return minHeight&&css(_templateObject4||(_templateObject4=_taggedTemplateLiteral([\"\\n        min-height: \",\"vh;\\n      \"])),minHeight);},_ref10=>{let{theme}=_ref10;return theme.mediaWidth.upToMedium(_templateObject5||(_templateObject5=_taggedTemplateLiteral([\"\\n      width: 65vw;\\n      margin: 0;\\n    \"])));},_ref11=>{let{theme,mobile}=_ref11;return theme.mediaWidth.upToSmall(_templateObject6||(_templateObject6=_taggedTemplateLiteral([\"\\n      width:  85vw;\\n      \",\"\\n    \"])),mobile&&css(_templateObject7||(_templateObject7=_taggedTemplateLiteral([\"\\n          width: 100vw;\\n          border-radius: 20px;\\n          border-bottom-left-radius: 0;\\n          border-bottom-right-radius: 0;\\n        \"]))));});export default function Modal(_ref12){let{isOpen,onDismiss,minHeight=false,maxHeight=90,initialFocusRef,children}=_ref12;const fadeTransition=useTransition(isOpen,null,{config:{duration:200},from:{opacity:0},enter:{opacity:1},leave:{opacity:0}});const[{y},set]=useSpring(()=>({y:0,config:{mass:1,tension:210,friction:20}}));const bind=useGesture({onDrag:state=>{set({y:state.down?state.movement[1]:0});if(state.movement[1]>300||state.velocity>3&&state.direction[1]>0){onDismiss();}}});return/*#__PURE__*/React.createElement(React.Fragment,null,fadeTransition.map(_ref13=>{let{item,key,props}=_ref13;return item&&/*#__PURE__*/React.createElement(StyledDialogOverlay,{key:key,style:props,onDismiss:onDismiss,initialFocusRef:initialFocusRef},/*#__PURE__*/React.createElement(StyledDialogContent,Object.assign({},isMobile?{...bind(),style:{transform:y.interpolate(y=>\"translateY(\".concat(// eslint-disable-next-line @typescript-eslint/ban-ts-comment\n// @ts-ignore\ny>0?y:0,\"px)\"))}}:{},{\"aria-label\":\"dialog content\",minHeight:minHeight,maxHeight:maxHeight,mobile:isMobile}),!initialFocusRef&&isMobile?/*#__PURE__*/React.createElement(\"div\",{tabIndex:1}):null,children));}));}","map":{"version":3,"names":["React","styled","css","animated","useTransition","useSpring","DialogOverlay","DialogContent","isMobile","transparentize","useGesture","AnimatedDialogOverlay","StyledDialogOverlay","_templateObject","_taggedTemplateLiteral","_ref","theme","modalBG","AnimatedDialogContent","StyledDialogContent","_ref2","minHeight","maxHeight","mobile","isOpen","rest","createElement","attrs","_templateObject2","_ref3","_ref4","bg1","_ref5","shadow1","_ref6","_ref7","_ref8","_templateObject3","_ref9","_templateObject4","_ref10","mediaWidth","upToMedium","_templateObject5","_ref11","upToSmall","_templateObject6","_templateObject7","Modal","_ref12","onDismiss","initialFocusRef","children","fadeTransition","config","duration","from","opacity","enter","leave","y","set","mass","tension","friction","bind","onDrag","state","down","movement","velocity","direction","Fragment","map","_ref13","item","key","props","style","Object","assign","transform","interpolate","concat","tabIndex"],"sources":["/workspace/Planq-Dapps/vesting-portal/src/components/Modal/index.tsx"],"sourcesContent":["import React from 'react'\nimport styled, { css } from 'styled-components'\nimport { animated, useTransition, useSpring } from 'react-spring'\nimport { DialogOverlay, DialogContent } from '@reach/dialog'\nimport { isMobile } from 'react-device-detect'\nimport '@reach/dialog/styles.css'\nimport { transparentize } from 'polished'\nimport { useGesture } from 'react-use-gesture'\n\nconst AnimatedDialogOverlay = animated(DialogOverlay)\n// eslint-disable-next-line @typescript-eslint/no-unused-vars\nconst StyledDialogOverlay = styled(AnimatedDialogOverlay)`\n  &[data-reach-dialog-overlay] {\n    z-index: 2;\n    background-color: transparent;\n    overflow: hidden;\n\n    display: flex;\n    align-items: center;\n    justify-content: center;\n\n    background-color: ${({ theme }) => theme.modalBG};\n  }\n`\n\nconst AnimatedDialogContent = animated(DialogContent)\n// destructure to not pass custom props to Dialog DOM element\n// eslint-disable-next-line @typescript-eslint/no-unused-vars\nconst StyledDialogContent = styled(({ minHeight, maxHeight, mobile, isOpen, ...rest }) => (\n  <AnimatedDialogContent {...rest} />\n)).attrs({\n  'aria-label': 'dialog'\n})`\n  overflow-y: ${({ mobile }) => (mobile ? 'scroll' : 'hidden')};\n\n  &[data-reach-dialog-content] {\n    margin: 0 0 2rem 0;\n    background-color: ${({ theme }) => theme.bg1};\n    box-shadow: 0 4px 8px 0 ${({ theme }) => transparentize(0.95, theme.shadow1)};\n    padding: 0px;\n    width: 50vw;\n    overflow-y: ${({ mobile }) => (mobile ? 'scroll' : 'scroll')};\n    overflow-x: hidden;\n\n    align-self: ${({ mobile }) => (mobile ? 'flex-end' : 'center')};\n\n    max-width: 420px;\n    ${({ maxHeight }) =>\n      maxHeight &&\n      css`\n        max-height: ${maxHeight}vh;\n      `}\n    ${({ minHeight }) =>\n      minHeight &&\n      css`\n        min-height: ${minHeight}vh;\n      `}\n    display: flex;\n    border-radius: 20px;\n    ${({ theme }) => theme.mediaWidth.upToMedium`\n      width: 65vw;\n      margin: 0;\n    `}\n    ${({ theme, mobile }) => theme.mediaWidth.upToSmall`\n      width:  85vw;\n      ${mobile &&\n        css`\n          width: 100vw;\n          border-radius: 20px;\n          border-bottom-left-radius: 0;\n          border-bottom-right-radius: 0;\n        `}\n    `}\n  }\n`\n\ninterface ModalProps {\n  isOpen: boolean\n  onDismiss: () => void\n  minHeight?: number | false\n  maxHeight?: number\n  initialFocusRef?: React.RefObject<any>\n  children?: React.ReactNode\n}\n\nexport default function Modal({\n  isOpen,\n  onDismiss,\n  minHeight = false,\n  maxHeight = 90,\n  initialFocusRef,\n  children\n}: ModalProps) {\n  const fadeTransition = useTransition(isOpen, null, {\n    config: { duration: 200 },\n    from: { opacity: 0 },\n    enter: { opacity: 1 },\n    leave: { opacity: 0 }\n  })\n\n  const [{ y }, set] = useSpring(() => ({ y: 0, config: { mass: 1, tension: 210, friction: 20 } }))\n  const bind = useGesture({\n    onDrag: state => {\n      set({\n        y: state.down ? state.movement[1] : 0\n      })\n      if (state.movement[1] > 300 || (state.velocity > 3 && state.direction[1] > 0)) {\n        onDismiss()\n      }\n    }\n  })\n\n  return (\n    <>\n      {fadeTransition.map(\n        ({ item, key, props }) =>\n          item && (\n            <StyledDialogOverlay key={key} style={props} onDismiss={onDismiss} initialFocusRef={initialFocusRef}>\n              <StyledDialogContent\n                {...(isMobile\n                  ? {\n                      ...bind(),\n                      style: { transform: y.interpolate(y => `translateY(${\n                            // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n                            // @ts-ignore\n                            y > 0 ? y : 0}px)`) }\n                    }\n                  : {})}\n                aria-label=\"dialog content\"\n                minHeight={minHeight}\n                maxHeight={maxHeight}\n                mobile={isMobile}\n              >\n                {/* prevents the automatic focusing of inputs on mobile by the reach dialog */}\n                {!initialFocusRef && isMobile ? <div tabIndex={1} /> : null}\n                {children}\n              </StyledDialogContent>\n            </StyledDialogOverlay>\n          )\n      )}\n    </>\n  )\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}